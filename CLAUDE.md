# CLAUDE.md

æœ¬æ–‡ä»¶ä¸º Claude Code (claude.ai/code) åœ¨æ­¤ä»£ç ä»“åº“ä¸­å·¥ä½œæ—¶æä¾›æŒ‡å¯¼ã€‚

## ğŸ”´ é¦–è¦è§„åˆ™ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰

**å…¨ç¨‹ä½¿ç”¨ä¸­æ–‡å¯¹è¯**
- ä¸ç”¨æˆ·äº¤æµæ—¶å¿…é¡»ä½¿ç”¨ä¸­æ–‡
- æ‰€æœ‰å›å¤ã€è¯´æ˜ã€æ³¨é‡Šéƒ½ä½¿ç”¨ä¸­æ–‡
- ä»£ç æ³¨é‡Šä¼˜å…ˆä½¿ç”¨ä¸­æ–‡
- ä»…åœ¨ä»£ç æ ‡è¯†ç¬¦ï¼ˆå˜é‡åã€å‡½æ•°åç­‰ï¼‰ä¸­ä½¿ç”¨è‹±æ–‡

---

## é¡¹ç›®æ¦‚è¿°

MATRIX Studio æ˜¯ä¸€ä¸ªåŸºäº Electron çš„ AI è§†é¢‘ç”Ÿæˆå·¥ä½œæµç®¡ç†å¹³å°ã€‚ä½œä¸ºä¸­é—´ä»¶ï¼Œæä¾›ç»Ÿä¸€çš„å·¥ä½œæµå’Œç‰©æ–™ç®¡ç†åŠŸèƒ½ï¼Œä¸ç›´æ¥å‚ä¸è§†é¢‘æ¸²æŸ“ã€‚

- **å½“å‰ç‰ˆæœ¬**: v0.3.5
- **æŠ€æœ¯æ ˆ**: Electron 39+, React 18, TypeScript 5, Webpack 5
- **æµ‹è¯•æ¡†æ¶**: Vitest (æ›¿ä»£ Jest)
- **æ¶æ„**: ä¸‰è¿›ç¨‹æ¨¡å‹ï¼ˆä¸»è¿›ç¨‹ã€é¢„åŠ è½½ã€æ¸²æŸ“è¿›ç¨‹ï¼‰

## å¸¸ç”¨å‘½ä»¤

### å¼€å‘æ¨¡å¼
- `npm run dev`: å¯åŠ¨å¼€å‘æ¨¡å¼ï¼ˆç›‘å¬æ‰€æœ‰è¿›ç¨‹ï¼Œå¯åŠ¨ Electronï¼‰
- `npm run dev:main`: ä»…ç›‘å¬ä¸»è¿›ç¨‹
- `npm run dev:renderer`: ä»…ç›‘å¬æ¸²æŸ“è¿›ç¨‹
- `npm run dev:preload`: ä»…ç›‘å¬é¢„åŠ è½½è„šæœ¬

### æ„å»º
- `npm run build`: æ„å»ºæ‰€æœ‰è¿›ç¨‹ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- `npm run build:main`: ä»…æ„å»ºä¸»è¿›ç¨‹
- `npm run build:renderer`: ä»…æ„å»ºæ¸²æŸ“è¿›ç¨‹
- `npm run build:preload`: ä»…æ„å»ºé¢„åŠ è½½è„šæœ¬

### æµ‹è¯•
- `npm test`: è¿è¡Œæ‰€æœ‰æµ‹è¯• (ä½¿ç”¨ Vitest)
- `npm run test:unit`: ä»…è¿è¡Œå•å…ƒæµ‹è¯• (tests/unit/)
- `npm run test:integration`: ä»…è¿è¡Œé›†æˆæµ‹è¯• (tests/integration/)
- `npm run test:watch`: ç›‘å¬æ¨¡å¼è¿è¡Œæµ‹è¯•
- `npm run test:ui`: å¯åŠ¨ Vitest UI ç•Œé¢
- `npm run test:coverage`: ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
- `npx vitest tests/path/to/specific.test.ts`: è¿è¡Œå•ä¸ªæµ‹è¯•æ–‡ä»¶

### ä»£ç æ£€æŸ¥ä¸æ ¼å¼åŒ–
- `npm run lint`: æ£€æŸ¥ä»£ç é—®é¢˜
- `npm run lint:fix`: è‡ªåŠ¨ä¿®å¤ä»£ç é—®é¢˜
- `npm run format`: ä½¿ç”¨ Prettier æ ¼å¼åŒ–ä»£ç 

### æ‰“åŒ…
- `npm run package`: ä¸ºå½“å‰å¹³å°æ‰“åŒ…
- `npm run package:win`: ä¸º Windows æ‰“åŒ…
- `npm run package:mac`: ä¸º macOS æ‰“åŒ…
- `npm run package:linux`: ä¸º Linux æ‰“åŒ…

### å·¥å…·å‘½ä»¤
- `npm run clean`: åˆ é™¤ build å’Œ dist ç›®å½•

## æ¶æ„è®¾è®¡

### Electron ä¸‰è¿›ç¨‹æ¨¡å‹

1. **ä¸»è¿›ç¨‹** (`src/main/`): Node.js ç¯å¢ƒï¼Œç®¡ç†åº”ç”¨ç”Ÿå‘½å‘¨æœŸã€çª—å£å’Œç³»ç»Ÿé›†æˆ
   - å…¥å£: `src/main/index.ts`
   - æ ¸å¿ƒæœåŠ¡: 17ä¸ªæœåŠ¡ï¼ˆè§ä¸‹æ–¹æœåŠ¡æ¶æ„éƒ¨åˆ†ï¼‰
   - IPC å¤„ç†å™¨: 80+ ä¸ªå¤„ç†å™¨ï¼Œæ¶µç›–æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½

2. **é¢„åŠ è½½è„šæœ¬** (`src/preload/`): ä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹ä¹‹é—´çš„æ¡¥æ¢ï¼Œä½¿ç”¨ contextBridge
   - å…¥å£: `src/preload/index.ts`
   - å‘æ¸²æŸ“è¿›ç¨‹æš´éœ² `window.electronAPI`
   - å®‰å…¨å±‚ï¼Œç¡®ä¿ IPC é€šä¿¡å®‰å…¨

3. **æ¸²æŸ“è¿›ç¨‹** (`src/renderer/`): æµè§ˆå™¨ç¯å¢ƒï¼Œè¿è¡Œ React
   - å…¥å£: `src/renderer/index.tsx`
   - è·¯ç”±: React Routerï¼Œä½¿ç”¨ Layout åŒ…è£…å™¨
   - é¡µé¢: Dashboardã€Assetsã€Pluginsã€Workflowsã€Settingsã€About

### æœåŠ¡æ¶æ„

ä¸»è¿›ç¨‹æœåŠ¡éµå¾ªç®¡ç†å™¨æ¨¡å¼ï¼Œæ‰€æœ‰æœåŠ¡ä½äº `src/main/services/`ï¼š

**æ ¸å¿ƒæœåŠ¡**ï¼ˆå®Œæ•´å®ç°ï¼‰:
- **ProjectManager**: é¡¹ç›®çš„ CRUD æ“ä½œå’Œç”Ÿå‘½å‘¨æœŸç®¡ç†
- **AssetManager**: ç‰©æ–™ç®¡ç†ï¼Œæ”¯æŒå…¨å±€/é¡¹ç›®ä½œç”¨åŸŸï¼ŒAI å±æ€§è¿½è¸ª
- **TimeService**: é›†ä¸­å¼æ—¶é—´å¤„ç†ï¼ˆNTPåŒæ­¥ã€æ—¶é—´éªŒè¯ï¼‰
- **Logger**: ç»Ÿä¸€æ—¥å¿—ç³»ç»Ÿï¼ˆ4çº§æ—¥å¿—ã€æ–‡ä»¶è½®è½¬ï¼‰
- **ServiceErrorHandler**: ç»Ÿä¸€é”™è¯¯å¤„ç†ï¼ˆ37ä¸ªé”™è¯¯ç ï¼‰
- **FileSystemService**: æ–‡ä»¶ç³»ç»Ÿæ“ä½œå°è£…ï¼ˆè·¯å¾„ç®¡ç†ã€JSONè¯»å†™ï¼‰
- **ConfigManager**: åº”ç”¨é…ç½®ç®¡ç†

**å·¥ä½œæµæœåŠ¡**:
- **WorkflowRegistry**: å·¥ä½œæµæ³¨å†Œå’Œç®¡ç†
- **WorkflowStateManager**: å·¥ä½œæµçŠ¶æ€ç®¡ç†å’Œæ‰§è¡Œè¿½è¸ª
- **SchemaRegistry**: Schema éªŒè¯å’Œç±»å‹ç³»ç»Ÿ
- **ModelRegistry**: AI æ¨¡å‹æ³¨å†Œå’Œç®¡ç†

**æ’ä»¶å’Œä»»åŠ¡ç³»ç»Ÿ**:
- **PluginManager**: æ’ä»¶åŠ è½½/å¸è½½/æ‰§è¡Œï¼ˆå«å®‰å…¨æ²™ç®±ï¼‰
- **PluginMarketService**: æ’ä»¶å¸‚åœºé›†æˆ
- **TaskScheduler**: ä»»åŠ¡è°ƒåº¦å’Œæ‰§è¡Œï¼ˆæ”¯æŒæŒä¹…åŒ–ï¼‰
- **APIManager**: API Provider ç®¡ç†ï¼ˆæ”¯æŒ OpenAIã€Anthropic ç­‰ï¼‰

**è¾…åŠ©æœåŠ¡**:
- **GenericAssetHelper**: é€šç”¨èµ„äº§è¾…åŠ©å·¥å…·
- **ShortcutManager**: å¿«æ·é”®ç®¡ç†

### IPC é€šä¿¡

æ‰€æœ‰ IPC é€šé“éµå¾ªå‘½åçº¦å®š: `ç±»åˆ«:æ“ä½œ` (ä¾‹å¦‚: `project:create`, `window:maximize`)

é€šé“åˆ†ç±»ï¼š
- `app:*`: åº”ç”¨ç”Ÿå‘½å‘¨æœŸï¼ˆç‰ˆæœ¬ã€é€€å‡ºã€é‡å¯ï¼‰
- `window:*`: çª—å£æ§åˆ¶ï¼ˆæœ€å°åŒ–ã€æœ€å¤§åŒ–ã€å…³é—­ï¼‰
- `project:*`: é¡¹ç›®æ“ä½œï¼ˆåˆ›å»ºã€åŠ è½½ã€ä¿å­˜ã€åˆ é™¤ã€åˆ—è¡¨ï¼‰
- `asset:*`: ç‰©æ–™æ“ä½œï¼ˆæ·»åŠ ã€ç§»é™¤ã€æ›´æ–°ã€æœç´¢ã€é¢„è§ˆï¼‰
- `workflow:*`: å·¥ä½œæµæ‰§è¡Œå’Œç®¡ç†
- `plugin:*`: æ’ä»¶å®‰è£…å’Œç®¡ç†
- `task:*`: ä»»åŠ¡è°ƒåº¦å’Œæ‰§è¡Œ
- `api:*`: å¤–éƒ¨ API é›†æˆ
- `file:*`: æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
- `mcp:*`: MCP æœåŠ¡é›†æˆ
- `local:*`: æœ¬åœ°æœåŠ¡ç®¡ç†

## å…³é”®è¦æ±‚

### æ—¶é—´å¤„ç† âš ï¸ æœ€é«˜ä¼˜å…ˆçº§
**é‡è¦**: å†™å…¥ä»»ä½•æ—¶é—´æˆ³æˆ–æ—¶é—´ç›¸å…³æ•°æ®å‰ï¼š
1. ä½¿ç”¨ TimeService æˆ– MCP æœåŠ¡æŸ¥è¯¢ç³»ç»Ÿæ—¶é—´
2. ä½¿ç”¨æŸ¥è¯¢åˆ°çš„æ—¶é—´è¿›è¡Œæ‰€æœ‰æ“ä½œ
3. **ç¦æ­¢ç›´æ¥ä½¿ç”¨ `Date.now()` æˆ– `new Date()` è€Œä¸ç»è¿‡éªŒè¯**

å‚è€ƒ: `docs/00-global-requirements-v1.0.0.md` å’Œ `docs/02-technical-blueprint-v1.0.0.md`

### IPC é€šä¿¡è§„èŒƒ
æ·»åŠ æ–°çš„ IPC é€šé“éœ€è¦åœ¨ä¸‰ä¸ªåœ°æ–¹åŒæ­¥ä¿®æ”¹ï¼š
1. **ä¸»è¿›ç¨‹å¤„ç†å™¨**: `src/main/ipc/` - æ³¨å†Œ `ipcMain.handle()`
2. **é¢„åŠ è½½è„šæœ¬**: `src/preload/index.ts` - ä½¿ç”¨ `ipcRenderer.invoke()` æš´éœ² API
3. **ç±»å‹å®šä¹‰**: `src/shared/types/` - å®šä¹‰è¯·æ±‚/å“åº”ç±»å‹

ç¤ºä¾‹ï¼š
```typescript
// 1. ä¸»è¿›ç¨‹: src/main/ipc/example-handlers.ts
ipcMain.handle('example:doSomething', async (_, arg: string) => {
  return await exampleService.doSomething(arg);
});

// 2. é¢„åŠ è½½: src/preload/index.ts
contextBridge.exposeInMainWorld('electronAPI', {
  example: {
    doSomething: (arg: string) => ipcRenderer.invoke('example:doSomething', arg)
  }
});

// 3. ç±»å‹: src/shared/types/electron-api.d.ts
interface ElectronAPI {
  example: {
    doSomething: (arg: string) => Promise<Result>;
  };
}
```

### æœåŠ¡é—´ä¾èµ–
æœåŠ¡åˆå§‹åŒ–é¡ºåºå¾ˆé‡è¦ï¼ˆå‚è€ƒ `src/main/index.ts`ï¼‰ï¼š
1. Loggerï¼ˆæœ€å…ˆåˆå§‹åŒ–ï¼‰
2. ServiceErrorHandler
3. TimeService
4. FileSystemService
5. å…¶ä»–æœåŠ¡ï¼ˆå¯å¹¶è¡Œåˆå§‹åŒ–ï¼‰

### ä»£ç é£æ ¼

**æ¨¡å—å¯¼å…¥**:
```typescript
// âœ… æ­£ç¡® - ä½¿ç”¨ ES æ¨¡å—å’Œè§£æ„å¯¼å…¥
import { app, BrowserWindow, ipcMain } from 'electron';
import { useState, useEffect } from 'react';

// âŒ é”™è¯¯ - ä¸è¦ä½¿ç”¨é»˜è®¤å¯¼å…¥æˆ– CommonJS
import electron from 'electron';
const electron = require('electron');
```

**TypeScript**:
- å¯ç”¨ä¸¥æ ¼æ¨¡å¼ - æ‰€æœ‰ä»£ç å¿…é¡»é€šè¿‡ç±»å‹æ£€æŸ¥
- é¿å…ä½¿ç”¨ `any` ç±»å‹ï¼ˆESLint å¼ºåˆ¶è­¦å‘Šï¼‰
- ä¸ºæ‰€æœ‰å‡½æ•°å’Œå˜é‡ä½¿ç”¨é€‚å½“çš„ç±»å‹å®šä¹‰

### æµ‹è¯•è§„èŒƒ

- ä½¿ç”¨ Vitest ä½œä¸ºæµ‹è¯•æ¡†æ¶ï¼ˆé…ç½®æ–‡ä»¶: `vitest.config.ts`ï¼‰
- åœ¨æµ‹è¯•ä¸­æ¨¡æ‹Ÿ Electron æ¨¡å—ï¼ˆå‚è€ƒ `tests/utils/setup.ts`ï¼‰
- æµ‹è¯•æ–‡ä»¶: `*.test.ts` æˆ– `*.spec.ts`
- æµ‹è¯•ç›®å½•ç»“æ„:
  - `tests/unit/`: å•å…ƒæµ‹è¯•ï¼ˆæœåŠ¡ã€å·¥å…·å‡½æ•°ï¼‰
  - `tests/integration/`: é›†æˆæµ‹è¯•ï¼ˆæœåŠ¡é—´äº¤äº’ã€IPCé€šé“ï¼‰
- ä¸ºæå‡æ€§èƒ½ï¼Œè¿è¡Œå•ä¸ªæµ‹è¯•æ–‡ä»¶: `npx vitest tests/path/to/test.test.ts`
- ä»£ç æ›´æ”¹åï¼Œè¿è¡Œç±»å‹æ£€æŸ¥å’Œæµ‹è¯•
- æµ‹è¯•è¶…æ—¶: 10ç§’ï¼ˆå¯åœ¨ vitest.config.ts ä¸­é…ç½®ï¼‰

## è·¯å¾„åˆ«å

TypeScript è·¯å¾„åˆ«åé…ç½®åœ¨ `tsconfig.json`:
- `@/*`: æ˜ å°„åˆ° `src/*`
- `@/main/*`: æ˜ å°„åˆ° `src/main/*`
- `@/renderer/*`: æ˜ å°„åˆ° `src/renderer/*`
- `@/shared/*`: æ˜ å°„åˆ° `src/shared/*`

Webpack é…ç½®å¿…é¡»é•œåƒè¿™äº›åˆ«åã€‚

## æ„å»ºç³»ç»Ÿ

ä¸‰ä¸ªç‹¬ç«‹çš„ webpack é…ç½®ï¼š
- `config/webpack.main.config.js`: ä¸»è¿›ç¨‹ï¼ˆtarget: electron-mainï¼‰
- `config/webpack.renderer.config.js`: æ¸²æŸ“è¿›ç¨‹ï¼ˆtarget: electron-rendererï¼Œå¼€å‘æœåŠ¡å™¨ï¼‰
- `config/webpack.preload.config.js`: é¢„åŠ è½½è„šæœ¬ï¼ˆtarget: electron-preloadï¼‰

æ‰€æœ‰é…ç½®éƒ½ä½¿ç”¨ ts-loader è¿›è¡Œ TypeScript ç¼–è¯‘ã€‚

## æ–‡æ¡£

`/docs` ä¸­çš„æ ¸å¿ƒæ¶æ„æ–‡æ¡£ï¼š
- `00-global-requirements-v1.0.0.md`: å…¨å±€è¦æ±‚å’Œçº¦æŸï¼ˆ**å¿…è¯»**ï¼‰
- `01-architecture-design-v1.0.0.md`: ç³»ç»Ÿæ¶æ„
- `02-technical-blueprint-v1.0.0.md`: æŠ€æœ¯å®ç°ç»†èŠ‚
- `04-initialization-guidelines-v1.0.0.md`: è®¾ç½®å’Œåˆå§‹åŒ–
- `05-project-structure-v1.0.1.md`: ç›®å½•ç»“æ„
- `06-core-services-design-v1.0.1.md`: æœåŠ¡å±‚è®¾è®¡ï¼ˆåŒ…å« AI å±æ€§å’Œä½œç”¨åŸŸç®¡ç†ï¼‰
- `07-plugin-development-guide.md`: æ’ä»¶å¼€å‘æŒ‡å—
- `08-ui-design-specification-v1.0.0.md`: UI è®¾è®¡è§„èŒƒ

å‚è€ƒ UI è®¾è®¡: `docs/references/UI/matrix`
é¡¹ç›®å½’æ¡£æ–‡æ¡£: `docs/ref/` (å·²å®Œæˆçš„å®ç°æŠ¥å‘Šå’Œè®¡åˆ’)

## å¼€å‘å·¥ä½œæµ

1. **ç†è§£æ¶æ„**: ä¿®æ”¹å‰åŠ¡å¿…å…ˆé˜…è¯»ç›¸å…³æ–‡ä»¶å’Œ `docs/00-global-requirements-v1.0.0.md`
2. **ä»£ç è´¨é‡**:
   - è¿è¡Œç±»å‹æ£€æŸ¥: `npm run typecheck` æˆ– `npm run lint`
   - è‡ªåŠ¨ä¿®å¤: `npm run lint:fix`
   - æ ¼å¼åŒ–: `npm run format`
3. **æµ‹è¯•**:
   - ä¼˜å…ˆè¿è¡Œå•ä¸ªæµ‹è¯•æ–‡ä»¶: `npx vitest tests/path/to/test.test.ts`
   - ä½¿ç”¨ç›‘å¬æ¨¡å¼å¼€å‘: `npm run test:watch`
   - ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š: `npm run test:coverage`
4. **æ·»åŠ æ–°åŠŸèƒ½**:
   - éµå¾ªç°æœ‰çš„ä»£ç æ¨¡å¼å’ŒæœåŠ¡ç»“æ„
   - æ·»åŠ ç›¸åº”çš„å•å…ƒæµ‹è¯•æˆ–é›†æˆæµ‹è¯•
   - æ›´æ–°ç±»å‹å®šä¹‰ï¼ˆ`src/shared/types/`ï¼‰
   - å¦‚éœ€ IPC é€šä¿¡ï¼Œåœ¨ä¸‰ä¸ªåœ°æ–¹æ›´æ–°ï¼šä¸»è¿›ç¨‹å¤„ç†å™¨ã€é¢„åŠ è½½è„šæœ¬ã€ç±»å‹å®šä¹‰
5. **æœåŠ¡å¼€å‘**:
   - æ–°æœåŠ¡æ”¾åœ¨ `src/main/services/`
   - ä½¿ç”¨ Logger è®°å½•å…³é”®æ“ä½œ
   - ä½¿ç”¨ ServiceErrorHandler å¤„ç†é”™è¯¯
   - ä½¿ç”¨ TimeService è·å–æ—¶é—´æˆ³ï¼ˆä¸è¦ç›´æ¥ä½¿ç”¨ `Date.now()`ï¼‰

## é¡¹ç›®å½“å‰çŠ¶æ€ (v0.3.5)

- **æœåŠ¡å±‚**: 17ä¸ªæ ¸å¿ƒæœåŠ¡å…¨éƒ¨å®ç°ï¼ŒåŒ…å«å®Œæ•´çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- **IPCå¤„ç†å™¨**: 80+ ä¸ªå¤„ç†å™¨ï¼Œè¦†ç›–æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
- **UIå®ç°**:
  - åŸºç¡€ç»„ä»¶: å®Œæ•´å®ç° (Button, Card, Modal, Toast, Loading ç­‰)
  - é«˜çº§ç»„ä»¶: Sheet, Dialog, Tabs, Switch, Checkbox ç­‰ Radix UI ç»„ä»¶
  - é¡µé¢å®ç°: Dashboardã€Assetsã€Workflowsã€Pluginsã€Settings å…¨åŠŸèƒ½å®ç°
  - å·¥ä½œæµç¼–è¾‘å™¨: åŸºäº @xyflow/react çš„èŠ‚ç‚¹ç¼–è¾‘å™¨ï¼Œæ”¯æŒæ‹–æ‹½å’Œè¿æ¥
- **æµ‹è¯•è¦†ç›–**: å®Œå–„çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼Œä½¿ç”¨ Vitest
- **æŠ€æœ¯ç‰¹æ€§**:
  - UI éµå¾ª V14 è®¾è®¡ç³»ç»Ÿï¼Œä½¿ç”¨ Tailwind CSS å’Œ shadcn/ui åŸå­åŒ–ç»„ä»¶
  - React ç»„ä»¶ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶å’Œ Hooks (æœªä½¿ç”¨ Redux)
  - å·¥ä½œæµç³»ç»Ÿæ”¯æŒ Schema éªŒè¯å’ŒçŠ¶æ€ç®¡ç†
  - æ’ä»¶ç³»ç»Ÿæ”¯æŒæ²™ç®±éš”ç¦»å’Œå¸‚åœºé›†æˆ
  - èµ„äº§ç®¡ç†æ”¯æŒå…¨å±€/é¡¹ç›®ä½œç”¨åŸŸå’Œ AI å±æ€§è¿½è¸ª

## é‡è¦æ³¨æ„äº‹é¡¹

- **å…¨å±€/é¡¹ç›®ä½œç”¨åŸŸ**: AssetManager æ”¯æŒä¸¤çº§ä½œç”¨åŸŸï¼Œå…¨å±€èµ„äº§å¯åœ¨å¤šä¸ªé¡¹ç›®é—´å¤ç”¨
- **AI å±æ€§è¿½è¸ª**: èµ„äº§å…ƒæ•°æ®åŒ…å« AI ç”Ÿæˆå‚æ•°ï¼ˆPromptã€Seedã€LoRA ç­‰ï¼‰ï¼Œä¾¿äºå¤ç”¨
- **æ’ä»¶å®‰å…¨**: æ’ä»¶ä½¿ç”¨ vm2 æ²™ç®±éš”ç¦»ï¼Œé˜²æ­¢æ¶æ„ä»£ç æ‰§è¡Œ
- **Schema éªŒè¯**: å·¥ä½œæµèŠ‚ç‚¹è¾“å…¥è¾“å‡ºä½¿ç”¨ Zod è¿›è¡Œ Schema éªŒè¯
- **API Provider æ¶æ„**: æ”¯æŒå¤šä¸ª AI API Providerï¼ˆOpenAIã€Anthropic ç­‰ï¼‰ç»Ÿä¸€ç®¡ç†

## å¸¸è§é—®é¢˜

### æµ‹è¯•ç›¸å…³
**Q: å¦‚ä½•è¿è¡Œå•ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Ÿ**
```bash
npx vitest tests/unit/services/ProjectManager.test.ts
```

**Q: æµ‹è¯•è¶…æ—¶æ€ä¹ˆåŠï¼Ÿ**
- æ£€æŸ¥ `vitest.config.ts` ä¸­çš„ `testTimeout` è®¾ç½®ï¼ˆé»˜è®¤ 10ç§’ï¼‰
- å¯¹äºè€—æ—¶æ“ä½œï¼Œå¯ä»¥åœ¨å…·ä½“æµ‹è¯•ä¸­ä½¿ç”¨ `{ timeout: 20000 }`

### å¼€å‘ç›¸å…³
**Q: ä¿®æ”¹ä¸»è¿›ç¨‹ä»£ç åæ²¡æœ‰ç”Ÿæ•ˆï¼Ÿ**
- ç¡®ä¿ `npm run dev:main` æ­£åœ¨è¿è¡Œå¹¶æˆåŠŸç¼–è¯‘
- é‡å¯ Electron: å…³é—­åº”ç”¨çª—å£ï¼Œwebpack ä¼šè‡ªåŠ¨é‡æ–°å¯åŠ¨

**Q: æ¸²æŸ“è¿›ç¨‹çƒ­æ›´æ–°ä¸å·¥ä½œï¼Ÿ**
- ç¡®ä¿ `npm run dev:renderer` æ­£åœ¨è¿è¡Œ
- æ£€æŸ¥ webpack-dev-server æ˜¯å¦æ­£å¸¸å¯åŠ¨ï¼ˆé»˜è®¤ç«¯å£ 3000ï¼‰

**Q: è·¯å¾„åˆ«åæ— æ³•è§£æï¼Ÿ**
- æ£€æŸ¥ `tsconfig.json`ã€`vitest.config.ts` å’Œå¯¹åº”çš„ webpack é…ç½®æ˜¯å¦éƒ½é…ç½®äº†ç›¸åŒçš„åˆ«å

### æ¶æ„ç›¸å…³
**Q: å¦‚ä½•æ·»åŠ æ–°çš„æœåŠ¡ï¼Ÿ**
1. åœ¨ `src/main/services/` åˆ›å»ºæœåŠ¡ç±»
2. åœ¨ `src/main/index.ts` ä¸­åˆå§‹åŒ–æœåŠ¡
3. åˆ›å»ºå¯¹åº”çš„ IPC å¤„ç†å™¨ï¼ˆå¦‚éœ€è¦ï¼‰
4. æ·»åŠ å•å…ƒæµ‹è¯• `tests/unit/services/`

**Q: å…¨å±€èµ„äº§å’Œé¡¹ç›®èµ„äº§çš„åŒºåˆ«ï¼Ÿ**
- å…¨å±€èµ„äº§ï¼ˆscope: 'global'ï¼‰ï¼šå­˜å‚¨åœ¨å…¨å±€åº“ä¸­ï¼Œå¯è¢«å¤šä¸ªé¡¹ç›®å¼•ç”¨
- é¡¹ç›®èµ„äº§ï¼ˆscope: 'project'ï¼‰ï¼šä»…å±äºç‰¹å®šé¡¹ç›®ï¼Œä¸èƒ½è·¨é¡¹ç›®ä½¿ç”¨
- ä½¿ç”¨ `AssetManager.promoteAssetToGlobal()` å¯ä»¥å°†é¡¹ç›®èµ„äº§æå‡ä¸ºå…¨å±€èµ„äº§
