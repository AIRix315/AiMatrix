/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/main/adapters/base-adapter.ts"
/*!*******************************************!*\
  !*** ./src/main/adapters/base-adapter.ts ***!
  \*******************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseAdapter: () => (/* binding */ BaseAdapter)\n/* harmony export */ });\nclass BaseAdapter {\n    constructor(endpoint) {\n        this.endpoint = endpoint;\n    }\n    generateJobId() {\n        return `job_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    createErrorResult(error) {\n        return {\n            success: false,\n            error,\n            executionTime: 0\n        };\n    }\n    createSuccessResult(result, executionTime) {\n        return {\n            success: true,\n            result,\n            executionTime\n        };\n    }\n}\n\n\n//# sourceURL=webpack://matrix-ai-workflow/./src/main/adapters/base-adapter.ts?\n}");

/***/ },

/***/ "./src/main/adapters/comfyui-adapter.ts"
/*!**********************************************!*\
  !*** ./src/main/adapters/comfyui-adapter.ts ***!
  \**********************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ComfyUIAdapter: () => (/* binding */ ComfyUIAdapter)\n/* harmony export */ });\n/* harmony import */ var _base_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-adapter */ \"./src/main/adapters/base-adapter.ts\");\n\nclass ComfyUIAdapter extends _base_adapter__WEBPACK_IMPORTED_MODULE_0__.BaseAdapter {\n    constructor(endpoint) {\n        super(endpoint);\n        this.activeJobs = new Map();\n    }\n    async initialize() {\n        try {\n            // 检查ComfyUI服务是否可用\n            console.log('ComfyUI适配器初始化完成');\n        }\n        catch (error) {\n            console.error('ComfyUI适配器初始化失败:', error);\n            throw error;\n        }\n    }\n    async execute(config) {\n        try {\n            const startTime = Date.now();\n            const jobId = this.generateJobId();\n            // 创建初始作业状态\n            const jobStatus = {\n                id: jobId,\n                status: 'pending',\n                startTime: new Date()\n            };\n            this.activeJobs.set(jobId, jobStatus);\n            // 模拟ComfyUI API调用\n            console.log(`执行ComfyUI工作流: ${config.name}`);\n            // 更新状态为运行中\n            jobStatus.status = 'running';\n            jobStatus.message = '工作流正在执行';\n            // 模拟异步执行\n            setTimeout(() => {\n                const finalStatus = this.activeJobs.get(jobId);\n                if (finalStatus) {\n                    finalStatus.status = 'completed';\n                    finalStatus.endTime = new Date();\n                    finalStatus.message = '工作流执行完成';\n                }\n            }, 2000);\n            const executionTime = Date.now() - startTime;\n            return this.createSuccessResult({\n                jobId,\n                message: 'ComfyUI工作流已提交执行',\n                workflowType: 'comfyui'\n            }, executionTime);\n        }\n        catch (error) {\n            console.error(`执行ComfyUI工作流失败:`, error);\n            return this.createErrorResult(`ComfyUI工作流执行失败: ${error}`);\n        }\n    }\n    async getStatus(jobId) {\n        const jobStatus = this.activeJobs.get(jobId);\n        if (!jobStatus) {\n            throw new Error(`未找到作业: ${jobId}`);\n        }\n        // 模拟进度更新\n        if (jobStatus.status === 'running') {\n            jobStatus.progress = Math.floor(Math.random() * 100);\n        }\n        return jobStatus;\n    }\n    async cancel(jobId) {\n        const jobStatus = this.activeJobs.get(jobId);\n        if (!jobStatus) {\n            throw new Error(`未找到作业: ${jobId}`);\n        }\n        jobStatus.status = 'cancelled';\n        jobStatus.endTime = new Date();\n        jobStatus.message = '工作流已取消';\n        console.log(`ComfyUI作业 ${jobId} 已取消`);\n    }\n    async cleanup() {\n        // 取消所有活动作业\n        for (const [jobId, jobStatus] of this.activeJobs) {\n            if (jobStatus.status === 'running' || jobStatus.status === 'pending') {\n                jobStatus.status = 'cancelled';\n                jobStatus.endTime = new Date();\n                jobStatus.message = '应用关闭时取消';\n            }\n        }\n        this.activeJobs.clear();\n        console.log('ComfyUI适配器清理完成');\n    }\n}\n\n\n//# sourceURL=webpack://matrix-ai-workflow/./src/main/adapters/comfyui-adapter.ts?\n}");

/***/ },

/***/ "./src/main/adapters/mcp-adapter.ts"
/*!******************************************!*\
  !*** ./src/main/adapters/mcp-adapter.ts ***!
  \******************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MCPAdapter: () => (/* binding */ MCPAdapter)\n/* harmony export */ });\n/* harmony import */ var _base_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-adapter */ \"./src/main/adapters/base-adapter.ts\");\n\nclass MCPAdapter extends _base_adapter__WEBPACK_IMPORTED_MODULE_0__.BaseAdapter {\n    constructor() {\n        super('mcp://local');\n        this.activeJobs = new Map();\n    }\n    async initialize() {\n        try {\n            // 初始化MCP连接\n            console.log('MCP适配器初始化完成');\n        }\n        catch (error) {\n            console.error('MCP适配器初始化失败:', error);\n            throw error;\n        }\n    }\n    async execute(config) {\n        try {\n            const startTime = Date.now();\n            const jobId = this.generateJobId();\n            // 创建初始作业状态\n            const jobStatus = {\n                id: jobId,\n                status: 'pending',\n                startTime: new Date()\n            };\n            this.activeJobs.set(jobId, jobStatus);\n            // 模拟MCP服务调用\n            console.log(`执行MCP工作流: ${config.name}`);\n            // 更新状态为运行中\n            jobStatus.status = 'running';\n            jobStatus.message = 'MCP服务正在处理';\n            // 模拟异步执行\n            setTimeout(() => {\n                const finalStatus = this.activeJobs.get(jobId);\n                if (finalStatus) {\n                    finalStatus.status = 'completed';\n                    finalStatus.endTime = new Date();\n                    finalStatus.message = 'MCP服务处理完成';\n                }\n            }, 1500);\n            const executionTime = Date.now() - startTime;\n            return this.createSuccessResult({\n                jobId,\n                message: 'MCP工作流已提交执行',\n                workflowType: 'mcp'\n            }, executionTime);\n        }\n        catch (error) {\n            console.error(`执行MCP工作流失败:`, error);\n            return this.createErrorResult(`MCP工作流执行失败: ${error}`);\n        }\n    }\n    async getStatus(jobId) {\n        const jobStatus = this.activeJobs.get(jobId);\n        if (!jobStatus) {\n            throw new Error(`未找到作业: ${jobId}`);\n        }\n        // 模拟进度更新\n        if (jobStatus.status === 'running') {\n            jobStatus.progress = Math.floor(Math.random() * 100);\n        }\n        return jobStatus;\n    }\n    async cancel(jobId) {\n        const jobStatus = this.activeJobs.get(jobId);\n        if (!jobStatus) {\n            throw new Error(`未找到作业: ${jobId}`);\n        }\n        jobStatus.status = 'cancelled';\n        jobStatus.endTime = new Date();\n        jobStatus.message = 'MCP工作流已取消';\n        console.log(`MCP作业 ${jobId} 已取消`);\n    }\n    async cleanup() {\n        // 取消所有活动作业\n        for (const [jobId, jobStatus] of this.activeJobs) {\n            if (jobStatus.status === 'running' || jobStatus.status === 'pending') {\n                jobStatus.status = 'cancelled';\n                jobStatus.endTime = new Date();\n                jobStatus.message = '应用关闭时取消';\n            }\n        }\n        this.activeJobs.clear();\n        console.log('MCP适配器清理完成');\n    }\n}\n\n\n//# sourceURL=webpack://matrix-ai-workflow/./src/main/adapters/mcp-adapter.ts?\n}");

/***/ },

/***/ "./src/main/adapters/n8n-adapter.ts"
/*!******************************************!*\
  !*** ./src/main/adapters/n8n-adapter.ts ***!
  \******************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   N8NAdapter: () => (/* binding */ N8NAdapter)\n/* harmony export */ });\n/* harmony import */ var _base_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-adapter */ \"./src/main/adapters/base-adapter.ts\");\n\nclass N8NAdapter extends _base_adapter__WEBPACK_IMPORTED_MODULE_0__.BaseAdapter {\n    constructor(endpoint) {\n        super(endpoint);\n        this.activeJobs = new Map();\n    }\n    async initialize() {\n        try {\n            // 检查N8N服务是否可用\n            console.log('N8N适配器初始化完成');\n        }\n        catch (error) {\n            console.error('N8N适配器初始化失败:', error);\n            throw error;\n        }\n    }\n    async execute(config) {\n        try {\n            const startTime = Date.now();\n            const jobId = this.generateJobId();\n            // 创建初始作业状态\n            const jobStatus = {\n                id: jobId,\n                status: 'pending',\n                startTime: new Date()\n            };\n            this.activeJobs.set(jobId, jobStatus);\n            // 模拟N8N API调用\n            console.log(`执行N8N工作流: ${config.name}`);\n            // 更新状态为运行中\n            jobStatus.status = 'running';\n            jobStatus.message = '工作流正在执行';\n            // 模拟异步执行\n            setTimeout(() => {\n                const finalStatus = this.activeJobs.get(jobId);\n                if (finalStatus) {\n                    finalStatus.status = 'completed';\n                    finalStatus.endTime = new Date();\n                    finalStatus.message = '工作流执行完成';\n                }\n            }, 3000);\n            const executionTime = Date.now() - startTime;\n            return this.createSuccessResult({\n                jobId,\n                message: 'N8N工作流已提交执行',\n                workflowType: 'n8n'\n            }, executionTime);\n        }\n        catch (error) {\n            console.error(`执行N8N工作流失败:`, error);\n            return this.createErrorResult(`N8N工作流执行失败: ${error}`);\n        }\n    }\n    async getStatus(jobId) {\n        const jobStatus = this.activeJobs.get(jobId);\n        if (!jobStatus) {\n            throw new Error(`未找到作业: ${jobId}`);\n        }\n        // 模拟进度更新\n        if (jobStatus.status === 'running') {\n            jobStatus.progress = Math.floor(Math.random() * 100);\n        }\n        return jobStatus;\n    }\n    async cancel(jobId) {\n        const jobStatus = this.activeJobs.get(jobId);\n        if (!jobStatus) {\n            throw new Error(`未找到作业: ${jobId}`);\n        }\n        jobStatus.status = 'cancelled';\n        jobStatus.endTime = new Date();\n        jobStatus.message = '工作流已取消';\n        console.log(`N8N作业 ${jobId} 已取消`);\n    }\n    async cleanup() {\n        // 取消所有活动作业\n        for (const [jobId, jobStatus] of this.activeJobs) {\n            if (jobStatus.status === 'running' || jobStatus.status === 'pending') {\n                jobStatus.status = 'cancelled';\n                jobStatus.endTime = new Date();\n                jobStatus.message = '应用关闭时取消';\n            }\n        }\n        this.activeJobs.clear();\n        console.log('N8N适配器清理完成');\n    }\n}\n\n\n//# sourceURL=webpack://matrix-ai-workflow/./src/main/adapters/n8n-adapter.ts?\n}");

/***/ },

/***/ "./src/main/index.ts"
/*!***************************!*\
  !*** ./src/main/index.ts ***!
  \***************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var electron__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! electron */ \"electron\");\n/* harmony import */ var electron__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(electron__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _window__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./window */ \"./src/main/window.ts\");\n/* harmony import */ var _ipc_channels__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ipc/channels */ \"./src/main/ipc/channels.ts\");\n/* harmony import */ var _services_file_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./services/file-manager */ \"./src/main/services/file-manager.ts\");\n/* harmony import */ var _services_workflow_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./services/workflow-manager */ \"./src/main/services/workflow-manager.ts\");\n/* harmony import */ var _services_mcp_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./services/mcp-service */ \"./src/main/services/mcp-service.ts\");\n/* harmony import */ var _services_local_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./services/local-service */ \"./src/main/services/local-service.ts\");\n\n\n\n\n\n\n\nclass MatrixApp {\n    constructor() {\n        this.windowManager = new _window__WEBPACK_IMPORTED_MODULE_1__.WindowManager();\n        this.ipcManager = new _ipc_channels__WEBPACK_IMPORTED_MODULE_2__.IPCManager();\n        this.fileManager = new _services_file_manager__WEBPACK_IMPORTED_MODULE_3__.FileManager();\n        this.workflowManager = new _services_workflow_manager__WEBPACK_IMPORTED_MODULE_4__.WorkflowManager();\n        this.mcpService = new _services_mcp_service__WEBPACK_IMPORTED_MODULE_5__.MCPService();\n        this.localServiceManager = new _services_local_service__WEBPACK_IMPORTED_MODULE_6__.LocalServiceManager();\n        this.initializeEventListeners();\n    }\n    initializeEventListeners() {\n        // 应用就绪事件\n        electron__WEBPACK_IMPORTED_MODULE_0__.app.whenReady().then(() => {\n            this.onReady();\n        });\n        // 所有窗口关闭事件\n        electron__WEBPACK_IMPORTED_MODULE_0__.app.on('window-all-closed', () => {\n            if (process.platform !== 'darwin') {\n                electron__WEBPACK_IMPORTED_MODULE_0__.app.quit();\n            }\n        });\n        // 应用激活事件\n        electron__WEBPACK_IMPORTED_MODULE_0__.app.on('activate', () => {\n            if (electron__WEBPACK_IMPORTED_MODULE_0__.BrowserWindow.getAllWindows().length === 0) {\n                this.windowManager.createMainWindow();\n            }\n        });\n        // 应用退出前事件\n        electron__WEBPACK_IMPORTED_MODULE_0__.app.on('before-quit', async () => {\n            await this.cleanup();\n        });\n    }\n    async onReady() {\n        try {\n            // 初始化服务\n            await this.initializeServices();\n            // 创建主窗口\n            this.windowManager.createMainWindow();\n            // 设置IPC处理器\n            this.setupIPCHandlers();\n            console.log('Matrix AI Workflow 应用启动成功');\n        }\n        catch (error) {\n            console.error('应用启动失败:', error);\n            electron__WEBPACK_IMPORTED_MODULE_0__.app.quit();\n        }\n    }\n    async initializeServices() {\n        await this.fileManager.initialize();\n        await this.workflowManager.initialize();\n        await this.mcpService.initialize();\n        await this.localServiceManager.initialize();\n    }\n    setupIPCHandlers() {\n        // 项目相关IPC处理\n        electron__WEBPACK_IMPORTED_MODULE_0__.ipcMain.handle('project:create', (_, name) => this.fileManager.createProject(name));\n        electron__WEBPACK_IMPORTED_MODULE_0__.ipcMain.handle('project:load', (_, path) => this.fileManager.loadProject(path));\n        electron__WEBPACK_IMPORTED_MODULE_0__.ipcMain.handle('project:save', (_, config) => this.fileManager.saveProject(config));\n        // 工作流相关IPC处理\n        electron__WEBPACK_IMPORTED_MODULE_0__.ipcMain.handle('workflow:execute', (_, config) => this.workflowManager.execute(config));\n        electron__WEBPACK_IMPORTED_MODULE_0__.ipcMain.handle('workflow:status', (_, jobId) => this.workflowManager.getStatus(jobId));\n        electron__WEBPACK_IMPORTED_MODULE_0__.ipcMain.handle('workflow:cancel', (_, jobId) => this.workflowManager.cancel(jobId));\n        // MCP服务相关IPC处理\n        electron__WEBPACK_IMPORTED_MODULE_0__.ipcMain.handle('mcp:connect', (_, config) => this.mcpService.connect(config));\n        electron__WEBPACK_IMPORTED_MODULE_0__.ipcMain.handle('mcp:disconnect', () => this.mcpService.disconnect());\n        electron__WEBPACK_IMPORTED_MODULE_0__.ipcMain.handle('mcp:call', (_, method, params) => this.mcpService.call(method, params));\n        // 本地服务相关IPC处理\n        electron__WEBPACK_IMPORTED_MODULE_0__.ipcMain.handle('local:start', (_, serviceType) => this.localServiceManager.startService(serviceType));\n        electron__WEBPACK_IMPORTED_MODULE_0__.ipcMain.handle('local:stop', (_, serviceType) => this.localServiceManager.stopService(serviceType));\n        electron__WEBPACK_IMPORTED_MODULE_0__.ipcMain.handle('local:status', (_, serviceType) => this.localServiceManager.getServiceStatus(serviceType));\n    }\n    async cleanup() {\n        try {\n            await this.mcpService.disconnect();\n            await this.localServiceManager.stopAllServices();\n            await this.fileManager.cleanup();\n            console.log('应用清理完成');\n        }\n        catch (error) {\n            console.error('应用清理失败:', error);\n        }\n    }\n}\n// 创建应用实例\nconst matrixApp = new MatrixApp();\n\n\n//# sourceURL=webpack://matrix-ai-workflow/./src/main/index.ts?\n}");

/***/ },

/***/ "./src/main/ipc/channels.ts"
/*!**********************************!*\
  !*** ./src/main/ipc/channels.ts ***!
  \**********************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IPCManager: () => (/* binding */ IPCManager),\n/* harmony export */   IPC_CHANNELS: () => (/* binding */ IPC_CHANNELS)\n/* harmony export */ });\nconst IPC_CHANNELS = {\n    // 项目相关\n    PROJECT_CREATE: 'project:create',\n    PROJECT_LOAD: 'project:load',\n    PROJECT_SAVE: 'project:save',\n    PROJECT_DELETE: 'project:delete',\n    PROJECT_LIST: 'project:list',\n    // 工作流相关\n    WORKFLOW_EXECUTE: 'workflow:execute',\n    WORKFLOW_STATUS: 'workflow:status',\n    WORKFLOW_CANCEL: 'workflow:cancel',\n    WORKFLOW_LIST: 'workflow:list',\n    WORKFLOW_SAVE: 'workflow:save',\n    WORKFLOW_LOAD: 'workflow:load',\n    // 资产相关\n    ASSET_UPLOAD: 'asset:upload',\n    ASSET_DELETE: 'asset:delete',\n    ASSET_LIST: 'asset:list',\n    ASSET_METADATA: 'asset:metadata',\n    // MCP服务相关\n    MCP_CONNECT: 'mcp:connect',\n    MCP_DISCONNECT: 'mcp:disconnect',\n    MCP_CALL: 'mcp:call',\n    MCP_STATUS: 'mcp:status',\n    MCP_LIST: 'mcp:list',\n    // 本地服务相关\n    LOCAL_START: 'local:start',\n    LOCAL_STOP: 'local:stop',\n    LOCAL_STATUS: 'local:status',\n    LOCAL_RESTART: 'local:restart',\n    // 文件系统相关\n    FILE_READ: 'file:read',\n    FILE_WRITE: 'file:write',\n    FILE_DELETE: 'file:delete',\n    FILE_EXISTS: 'file:exists',\n    FILE_LIST: 'file:list',\n    FILE_WATCH: 'file:watch',\n    FILE_UNWATCH: 'file:unwatch',\n    // 窗口相关\n    WINDOW_MINIMIZE: 'window:minimize',\n    WINDOW_MAXIMIZE: 'window:maximize',\n    WINDOW_CLOSE: 'window:close',\n    WINDOW_IS_MAXIMIZED: 'window:isMaximized',\n    // 应用相关\n    APP_VERSION: 'app:version',\n    APP_QUIT: 'app:quit',\n    APP_RESTART: 'app:restart',\n    // 事件通知\n    EVENT_WORKFLOW_PROGRESS: 'event:workflow:progress',\n    EVENT_WORKFLOW_COMPLETED: 'event:workflow:completed',\n    EVENT_WORKFLOW_ERROR: 'event:workflow:error',\n    EVENT_FILE_CHANGED: 'event:file:changed',\n    EVENT_SERVICE_STATUS: 'event:service:status'\n};\nclass IPCManager {\n    constructor() {\n        this.channels = new Map();\n    }\n    register(channel, handler) {\n        if (!this.channels.has(channel)) {\n            this.channels.set(channel, []);\n        }\n        this.channels.get(channel).push(handler);\n    }\n    unregister(channel, handler) {\n        const handlers = this.channels.get(channel);\n        if (handlers) {\n            const index = handlers.indexOf(handler);\n            if (index > -1) {\n                handlers.splice(index, 1);\n            }\n        }\n    }\n    getHandlers(channel) {\n        return this.channels.get(channel) || [];\n    }\n    clear() {\n        this.channels.clear();\n    }\n}\n\n\n//# sourceURL=webpack://matrix-ai-workflow/./src/main/ipc/channels.ts?\n}");

/***/ },

/***/ "./src/main/services/file-manager.ts"
/*!*******************************************!*\
  !*** ./src/main/services/file-manager.ts ***!
  \*******************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FileManager: () => (/* binding */ FileManager)\n/* harmony export */ });\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nclass FileManager {\n    constructor() {\n        this.watchers = new Map();\n        this.projectsRoot = './projects';\n    }\n    async initialize() {\n        try {\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0__.mkdir(this.projectsRoot, { recursive: true });\n            console.log('文件管理器初始化完成');\n        }\n        catch (error) {\n            console.error('文件管理器初始化失败:', error);\n            throw error;\n        }\n    }\n    async createProject(name) {\n        const projectPath = path__WEBPACK_IMPORTED_MODULE_1__.join(this.projectsRoot, name);\n        try {\n            // 创建项目目录结构\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0__.mkdir(projectPath, { recursive: true });\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0__.mkdir(path__WEBPACK_IMPORTED_MODULE_1__.join(projectPath, 'materials', 'texts'), { recursive: true });\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0__.mkdir(path__WEBPACK_IMPORTED_MODULE_1__.join(projectPath, 'materials', 'images'), { recursive: true });\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0__.mkdir(path__WEBPACK_IMPORTED_MODULE_1__.join(projectPath, 'materials', 'videos'), { recursive: true });\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0__.mkdir(path__WEBPACK_IMPORTED_MODULE_1__.join(projectPath, 'workflows', 'comfyui'), { recursive: true });\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0__.mkdir(path__WEBPACK_IMPORTED_MODULE_1__.join(projectPath, 'workflows', 'n8n'), { recursive: true });\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0__.mkdir(path__WEBPACK_IMPORTED_MODULE_1__.join(projectPath, 'config'), { recursive: true });\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0__.mkdir(path__WEBPACK_IMPORTED_MODULE_1__.join(projectPath, 'cache'), { recursive: true });\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0__.mkdir(path__WEBPACK_IMPORTED_MODULE_1__.join(projectPath, 'exports'), { recursive: true });\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0__.mkdir(path__WEBPACK_IMPORTED_MODULE_1__.join(projectPath, 'logs'), { recursive: true });\n            // 创建默认项目配置\n            const projectConfig = {\n                name,\n                path: projectPath,\n                createdAt: new Date(),\n                updatedAt: new Date(),\n                settings: {\n                    defaultWorkflow: '',\n                    outputFormat: 'mp4',\n                    quality: 1080\n                },\n                workflows: [],\n                assets: []\n            };\n            await this.saveProjectConfig(projectPath, projectConfig);\n            console.log(`项目 ${name} 创建成功`);\n            return projectPath;\n        }\n        catch (error) {\n            console.error(`创建项目 ${name} 失败:`, error);\n            throw error;\n        }\n    }\n    async loadProject(projectPath) {\n        try {\n            const configPath = path__WEBPACK_IMPORTED_MODULE_1__.join(projectPath, 'config', 'project.json');\n            const configData = await fs_promises__WEBPACK_IMPORTED_MODULE_0__.readFile(configPath, 'utf-8');\n            const config = JSON.parse(configData);\n            // 更新路径信息\n            config.path = projectPath;\n            return config;\n        }\n        catch (error) {\n            console.error(`加载项目 ${projectPath} 失败:`, error);\n            throw error;\n        }\n    }\n    async saveProject(config) {\n        try {\n            config.updatedAt = new Date();\n            await this.saveProjectConfig(config.path, config);\n            console.log(`项目 ${config.name} 保存成功`);\n        }\n        catch (error) {\n            console.error(`保存项目 ${config.name} 失败:`, error);\n            throw error;\n        }\n    }\n    async deleteProject(projectPath) {\n        try {\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0__.rmdir(projectPath, { recursive: true });\n            console.log(`项目 ${projectPath} 删除成功`);\n        }\n        catch (error) {\n            console.error(`删除项目 ${projectPath} 失败:`, error);\n            throw error;\n        }\n    }\n    async listProjects() {\n        try {\n            const projects = await fs_promises__WEBPACK_IMPORTED_MODULE_0__.readdir(this.projectsRoot, { withFileTypes: true });\n            const projectConfigs = [];\n            for (const project of projects) {\n                if (project.isDirectory()) {\n                    const projectPath = path__WEBPACK_IMPORTED_MODULE_1__.join(this.projectsRoot, project.name);\n                    try {\n                        const config = await this.loadProject(projectPath);\n                        projectConfigs.push(config);\n                    }\n                    catch (error) {\n                        console.warn(`跳过无效项目 ${project.name}:`, error);\n                    }\n                }\n            }\n            return projectConfigs;\n        }\n        catch (error) {\n            console.error('列出项目失败:', error);\n            throw error;\n        }\n    }\n    watchProject(projectPath, callback) {\n        if (this.watchers.has(projectPath)) {\n            return;\n        }\n        const watcher = (0,fs__WEBPACK_IMPORTED_MODULE_2__.watch)(projectPath, { recursive: true }, (eventType, filename) => {\n            callback(eventType, filename || '');\n        });\n        this.watchers.set(projectPath, watcher);\n    }\n    unwatchProject(projectPath) {\n        const watcher = this.watchers.get(projectPath);\n        if (watcher) {\n            watcher.close();\n            this.watchers.delete(projectPath);\n        }\n    }\n    async readFile(filePath) {\n        try {\n            return await fs_promises__WEBPACK_IMPORTED_MODULE_0__.readFile(filePath, 'utf-8');\n        }\n        catch (error) {\n            console.error(`读取文件 ${filePath} 失败:`, error);\n            throw error;\n        }\n    }\n    async writeFile(filePath, content) {\n        try {\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0__.writeFile(filePath, content, 'utf-8');\n        }\n        catch (error) {\n            console.error(`写入文件 ${filePath} 失败:`, error);\n            throw error;\n        }\n    }\n    async deleteFile(filePath) {\n        try {\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0__.unlink(filePath);\n        }\n        catch (error) {\n            console.error(`删除文件 ${filePath} 失败:`, error);\n            throw error;\n        }\n    }\n    async fileExists(filePath) {\n        try {\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0__.access(filePath);\n            return true;\n        }\n        catch {\n            return false;\n        }\n    }\n    async listFiles(directoryPath) {\n        try {\n            return await fs_promises__WEBPACK_IMPORTED_MODULE_0__.readdir(directoryPath);\n        }\n        catch (error) {\n            console.error(`列出目录 ${directoryPath} 失败:`, error);\n            throw error;\n        }\n    }\n    async saveProjectConfig(projectPath, config) {\n        const configPath = path__WEBPACK_IMPORTED_MODULE_1__.join(projectPath, 'config', 'project.json');\n        const configData = JSON.stringify(config, null, 2);\n        await fs_promises__WEBPACK_IMPORTED_MODULE_0__.writeFile(configPath, configData, 'utf-8');\n    }\n    async cleanup() {\n        // 关闭所有文件监听器\n        for (const [projectPath, watcher] of this.watchers) {\n            watcher.close();\n        }\n        this.watchers.clear();\n        console.log('文件管理器清理完成');\n    }\n}\n\n\n//# sourceURL=webpack://matrix-ai-workflow/./src/main/services/file-manager.ts?\n}");

/***/ },

/***/ "./src/main/services/local-service.ts"
/*!********************************************!*\
  !*** ./src/main/services/local-service.ts ***!
  \********************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LocalServiceManager: () => (/* binding */ LocalServiceManager)\n/* harmony export */ });\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! child_process */ \"child_process\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(child_process__WEBPACK_IMPORTED_MODULE_0__);\n\nclass LocalServiceManager {\n    constructor() {\n        this.services = new Map();\n        this.processes = new Map();\n        this.status = new Map();\n    }\n    async initialize() {\n        try {\n            // 加载本地服务配置\n            await this.loadServices();\n            console.log('本地服务管理器初始化完成');\n        }\n        catch (error) {\n            console.error('本地服务管理器初始化失败:', error);\n            throw error;\n        }\n    }\n    async startService(serviceType) {\n        try {\n            const service = this.services.get(serviceType);\n            if (!service) {\n                throw new Error(`未找到服务类型: ${serviceType}`);\n            }\n            if (this.processes.has(serviceType)) {\n                console.log(`服务 ${serviceType} 已经在运行`);\n                return;\n            }\n            const process = (0,child_process__WEBPACK_IMPORTED_MODULE_0__.spawn)(service.command, service.args, {\n                cwd: service.workingDirectory,\n                stdio: ['pipe', 'pipe', 'pipe']\n            });\n            // 设置进程事件处理\n            process.on('error', (error) => {\n                console.error(`服务 ${serviceType} 启动失败:`, error);\n                this.updateStatus(serviceType, 'error', error.message);\n            });\n            process.on('exit', (code, signal) => {\n                console.log(`服务 ${serviceType} 退出，代码: ${code}, 信号: ${signal}`);\n                this.processes.delete(serviceType);\n                this.updateStatus(serviceType, 'stopped', `退出代码: ${code}`);\n            });\n            // 处理输出\n            if (process.stdout) {\n                process.stdout.on('data', (data) => {\n                    console.log(`[${serviceType}] ${data.toString().trim()}`);\n                });\n            }\n            if (process.stderr) {\n                process.stderr.on('data', (data) => {\n                    console.error(`[${serviceType}] ${data.toString().trim()}`);\n                });\n            }\n            this.processes.set(serviceType, process);\n            this.updateStatus(serviceType, 'running', '服务正在运行');\n            console.log(`服务 ${serviceType} 启动成功`);\n        }\n        catch (error) {\n            console.error(`启动服务 ${serviceType} 失败:`, error);\n            throw error;\n        }\n    }\n    async stopService(serviceType) {\n        try {\n            const process = this.processes.get(serviceType);\n            if (!process) {\n                console.log(`服务 ${serviceType} 未在运行`);\n                return;\n            }\n            // 尝试优雅关闭\n            process.kill('SIGTERM');\n            // 等待一段时间后强制关闭\n            setTimeout(() => {\n                if (this.processes.has(serviceType)) {\n                    process.kill('SIGKILL');\n                }\n            }, 5000);\n            this.processes.delete(serviceType);\n            this.updateStatus(serviceType, 'stopped', '服务已停止');\n            console.log(`服务 ${serviceType} 停止成功`);\n        }\n        catch (error) {\n            console.error(`停止服务 ${serviceType} 失败:`, error);\n            throw error;\n        }\n    }\n    async restartService(serviceType) {\n        try {\n            await this.stopService(serviceType);\n            await new Promise(resolve => setTimeout(resolve, 1000)); // 等待1秒\n            await this.startService(serviceType);\n            console.log(`服务 ${serviceType} 重启成功`);\n        }\n        catch (error) {\n            console.error(`重启服务 ${serviceType} 失败:`, error);\n            throw error;\n        }\n    }\n    getServiceStatus(serviceType) {\n        return this.status.get(serviceType) || {\n            type: serviceType,\n            status: 'unknown',\n            message: '未知状态'\n        };\n    }\n    getAllServicesStatus() {\n        return Array.from(this.status.values());\n    }\n    async stopAllServices() {\n        try {\n            const services = Array.from(this.processes.keys());\n            for (const serviceType of services) {\n                await this.stopService(serviceType);\n            }\n            console.log('所有本地服务已停止');\n        }\n        catch (error) {\n            console.error('停止所有服务失败:', error);\n            throw error;\n        }\n    }\n    async loadServices() {\n        try {\n            // 这里应该从配置文件加载本地服务配置\n            // 暂时添加一些示例服务\n            const exampleServices = [\n                {\n                    type: 'comfyui',\n                    name: 'ComfyUI',\n                    command: 'python',\n                    args: ['main.py'],\n                    workingDirectory: './comfyui',\n                    autoStart: false,\n                    port: 8188\n                },\n                {\n                    type: 'n8n',\n                    name: 'N8N',\n                    command: 'npx',\n                    args: ['n8n'],\n                    workingDirectory: './n8n',\n                    autoStart: false,\n                    port: 5678\n                }\n            ];\n            for (const service of exampleServices) {\n                this.services.set(service.type, service);\n                this.status.set(service.type, {\n                    type: service.type,\n                    status: 'stopped',\n                    message: '服务已停止'\n                });\n            }\n        }\n        catch (error) {\n            console.error('加载本地服务配置失败:', error);\n            throw error;\n        }\n    }\n    updateStatus(serviceType, status, message) {\n        this.status.set(serviceType, {\n            type: serviceType,\n            status,\n            message,\n            timestamp: new Date()\n        });\n    }\n    async cleanup() {\n        await this.stopAllServices();\n        console.log('本地服务管理器清理完成');\n    }\n}\n\n\n//# sourceURL=webpack://matrix-ai-workflow/./src/main/services/local-service.ts?\n}");

/***/ },

/***/ "./src/main/services/mcp-service.ts"
/*!******************************************!*\
  !*** ./src/main/services/mcp-service.ts ***!
  \******************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MCPService: () => (/* binding */ MCPService)\n/* harmony export */ });\nclass MCPService {\n    constructor() {\n        this.connections = new Map();\n        this.services = new Map();\n    }\n    async initialize() {\n        try {\n            // 加载已配置的MCP服务\n            await this.loadServices();\n            console.log('MCP服务管理器初始化完成');\n        }\n        catch (error) {\n            console.error('MCP服务管理器初始化失败:', error);\n            throw error;\n        }\n    }\n    async connect(config) {\n        try {\n            // 这里应该实现实际的MCP连接逻辑\n            const connectionId = this.generateConnectionId();\n            // 模拟连接\n            const connection = {\n                id: connectionId,\n                name: config.name,\n                type: config.type,\n                endpoint: config.endpoint,\n                status: 'connected',\n                connectedAt: new Date()\n            };\n            this.connections.set(connectionId, connection);\n            console.log(`MCP服务 ${config.name} 连接成功`);\n        }\n        catch (error) {\n            console.error(`连接MCP服务 ${config.name} 失败:`, error);\n            throw error;\n        }\n    }\n    async disconnect() {\n        try {\n            // 断开所有连接\n            for (const [connectionId, connection] of this.connections) {\n                console.log(`断开MCP服务 ${connection.name} 的连接`);\n            }\n            this.connections.clear();\n            console.log('所有MCP服务已断开连接');\n        }\n        catch (error) {\n            console.error('断开MCP服务连接失败:', error);\n            throw error;\n        }\n    }\n    async call(method, params) {\n        try {\n            // 这里应该实现实际的MCP方法调用逻辑\n            console.log(`调用MCP方法: ${method}`, params);\n            // 模拟方法调用\n            return {\n                success: true,\n                result: `方法 ${method} 调用成功`,\n                timestamp: new Date()\n            };\n        }\n        catch (error) {\n            console.error(`调用MCP方法 ${method} 失败:`, error);\n            throw error;\n        }\n    }\n    async getStatus() {\n        try {\n            const connections = Array.from(this.connections.values());\n            return {\n                connectedServices: connections.length,\n                services: connections,\n                timestamp: new Date()\n            };\n        }\n        catch (error) {\n            console.error('获取MCP服务状态失败:', error);\n            throw error;\n        }\n    }\n    async listServices() {\n        try {\n            return Array.from(this.services.values());\n        }\n        catch (error) {\n            console.error('列出MCP服务失败:', error);\n            throw error;\n        }\n    }\n    async addService(config) {\n        try {\n            this.services.set(config.id, config);\n            await this.saveServices();\n            console.log(`MCP服务 ${config.name} 添加成功`);\n        }\n        catch (error) {\n            console.error(`添加MCP服务 ${config.name} 失败:`, error);\n            throw error;\n        }\n    }\n    async removeService(serviceId) {\n        try {\n            const service = this.services.get(serviceId);\n            if (service) {\n                this.services.delete(serviceId);\n                await this.saveServices();\n                console.log(`MCP服务 ${service.name} 删除成功`);\n            }\n        }\n        catch (error) {\n            console.error(`删除MCP服务 ${serviceId} 失败:`, error);\n            throw error;\n        }\n    }\n    async loadServices() {\n        try {\n            // 这里应该从配置文件加载MCP服务配置\n            // 暂时添加一些示例服务\n            const exampleServices = [\n                {\n                    id: 'time-service',\n                    name: '时间服务',\n                    type: 'time',\n                    description: '提供时间相关功能',\n                    endpoint: 'mcp://time',\n                    enabled: true\n                },\n                {\n                    id: 'filesystem-service',\n                    name: '文件系统服务',\n                    type: 'filesystem',\n                    description: '提供文件系统操作功能',\n                    endpoint: 'mcp://filesystem',\n                    enabled: true\n                }\n            ];\n            for (const service of exampleServices) {\n                this.services.set(service.id, service);\n            }\n        }\n        catch (error) {\n            console.error('加载MCP服务配置失败:', error);\n            throw error;\n        }\n    }\n    async saveServices() {\n        try {\n            // 这里应该将服务配置保存到文件\n            console.log('MCP服务配置已保存');\n        }\n        catch (error) {\n            console.error('保存MCP服务配置失败:', error);\n            throw error;\n        }\n    }\n    generateConnectionId() {\n        return `mcp_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    async cleanup() {\n        await this.disconnect();\n        console.log('MCP服务管理器清理完成');\n    }\n}\n\n\n//# sourceURL=webpack://matrix-ai-workflow/./src/main/services/mcp-service.ts?\n}");

/***/ },

/***/ "./src/main/services/workflow-manager.ts"
/*!***********************************************!*\
  !*** ./src/main/services/workflow-manager.ts ***!
  \***********************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WorkflowManager: () => (/* binding */ WorkflowManager)\n/* harmony export */ });\n/* harmony import */ var _adapters_comfyui_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../adapters/comfyui-adapter */ \"./src/main/adapters/comfyui-adapter.ts\");\n/* harmony import */ var _adapters_n8n_adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../adapters/n8n-adapter */ \"./src/main/adapters/n8n-adapter.ts\");\n/* harmony import */ var _adapters_mcp_adapter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../adapters/mcp-adapter */ \"./src/main/adapters/mcp-adapter.ts\");\n\n\n\nclass WorkflowManager {\n    constructor() {\n        this.activeJobs = new Map();\n        this.comfyUIAdapter = new _adapters_comfyui_adapter__WEBPACK_IMPORTED_MODULE_0__.ComfyUIAdapter('http://localhost:8188');\n        this.n8nAdapter = new _adapters_n8n_adapter__WEBPACK_IMPORTED_MODULE_1__.N8NAdapter('http://localhost:5678');\n        this.mcpAdapter = new _adapters_mcp_adapter__WEBPACK_IMPORTED_MODULE_2__.MCPAdapter();\n    }\n    async initialize() {\n        try {\n            // 初始化各个适配器\n            await this.comfyUIAdapter.initialize();\n            await this.n8nAdapter.initialize();\n            await this.mcpAdapter.initialize();\n            console.log('工作流管理器初始化完成');\n        }\n        catch (error) {\n            console.error('工作流管理器初始化失败:', error);\n            throw error;\n        }\n    }\n    async execute(config) {\n        try {\n            const jobId = this.generateJobId();\n            this.activeJobs.set(jobId, config);\n            let result;\n            switch (config.type) {\n                case 'comfyui':\n                    result = await this.comfyUIAdapter.execute(config);\n                    break;\n                case 'n8n':\n                    result = await this.n8nAdapter.execute(config);\n                    break;\n                case 'mcp':\n                    result = await this.mcpAdapter.execute(config);\n                    break;\n                default:\n                    throw new Error(`不支持的工作流类型: ${config.type}`);\n            }\n            if (result.success) {\n                console.log(`工作流 ${config.name} 执行成功，作业ID: ${jobId}`);\n            }\n            else {\n                console.error(`工作流 ${config.name} 执行失败:`, result.error);\n            }\n            return jobId;\n        }\n        catch (error) {\n            console.error(`执行工作流 ${config.name} 失败:`, error);\n            throw error;\n        }\n    }\n    async getStatus(jobId) {\n        try {\n            const config = this.activeJobs.get(jobId);\n            if (!config) {\n                throw new Error(`未找到作业 ${jobId}`);\n            }\n            let status;\n            switch (config.type) {\n                case 'comfyui':\n                    status = await this.comfyUIAdapter.getStatus(jobId);\n                    break;\n                case 'n8n':\n                    status = await this.n8nAdapter.getStatus(jobId);\n                    break;\n                case 'mcp':\n                    status = await this.mcpAdapter.getStatus(jobId);\n                    break;\n                default:\n                    throw new Error(`不支持的工作流类型: ${config.type}`);\n            }\n            return status;\n        }\n        catch (error) {\n            console.error(`获取作业 ${jobId} 状态失败:`, error);\n            throw error;\n        }\n    }\n    async cancel(jobId) {\n        try {\n            const config = this.activeJobs.get(jobId);\n            if (!config) {\n                throw new Error(`未找到作业 ${jobId}`);\n            }\n            switch (config.type) {\n                case 'comfyui':\n                    await this.comfyUIAdapter.cancel(jobId);\n                    break;\n                case 'n8n':\n                    await this.n8nAdapter.cancel(jobId);\n                    break;\n                case 'mcp':\n                    await this.mcpAdapter.cancel(jobId);\n                    break;\n                default:\n                    throw new Error(`不支持的工作流类型: ${config.type}`);\n            }\n            this.activeJobs.delete(jobId);\n            console.log(`作业 ${jobId} 已取消`);\n        }\n        catch (error) {\n            console.error(`取消作业 ${jobId} 失败:`, error);\n            throw error;\n        }\n    }\n    async listWorkflows(projectPath) {\n        try {\n            // 这里应该从项目配置中读取工作流列表\n            // 暂时返回空数组\n            return [];\n        }\n        catch (error) {\n            console.error('列出工作流失败:', error);\n            throw error;\n        }\n    }\n    async saveWorkflow(projectPath, config) {\n        try {\n            // 这里应该将工作流配置保存到项目中\n            console.log(`工作流 ${config.name} 保存成功`);\n        }\n        catch (error) {\n            console.error(`保存工作流 ${config.name} 失败:`, error);\n            throw error;\n        }\n    }\n    async loadWorkflow(projectPath, workflowId) {\n        try {\n            // 这里应该从项目中加载工作流配置\n            throw new Error(`未找到工作流 ${workflowId}`);\n        }\n        catch (error) {\n            console.error(`加载工作流 ${workflowId} 失败:`, error);\n            throw error;\n        }\n    }\n    generateJobId() {\n        return `job_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    async cleanup() {\n        // 取消所有活动作业\n        for (const [jobId] of this.activeJobs) {\n            try {\n                await this.cancel(jobId);\n            }\n            catch (error) {\n                console.warn(`取消作业 ${jobId} 失败:`, error);\n            }\n        }\n        // 清理适配器\n        await this.comfyUIAdapter.cleanup();\n        await this.n8nAdapter.cleanup();\n        await this.mcpAdapter.cleanup();\n        console.log('工作流管理器清理完成');\n    }\n}\n\n\n//# sourceURL=webpack://matrix-ai-workflow/./src/main/services/workflow-manager.ts?\n}");

/***/ },

/***/ "./src/main/window.ts"
/*!****************************!*\
  !*** ./src/main/window.ts ***!
  \****************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WindowManager: () => (/* binding */ WindowManager)\n/* harmony export */ });\n/* harmony import */ var electron__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! electron */ \"electron\");\n/* harmony import */ var electron__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(electron__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nclass WindowManager {\n    constructor() {\n        this.mainWindow = null;\n    }\n    createMainWindow() {\n        const { width, height } = electron__WEBPACK_IMPORTED_MODULE_0__.screen.getPrimaryDisplay().workAreaSize;\n        this.mainWindow = new electron__WEBPACK_IMPORTED_MODULE_0__.BrowserWindow({\n            width: Math.min(1200, width - 100),\n            height: Math.min(800, height - 100),\n            minWidth: 800,\n            minHeight: 600,\n            webPreferences: {\n                nodeIntegration: false,\n                contextIsolation: true,\n                preload: path__WEBPACK_IMPORTED_MODULE_1__.join(__dirname, 'preload.js')\n            },\n            icon: path__WEBPACK_IMPORTED_MODULE_1__.join(__dirname, '../../resources/icons/icon.png'),\n            show: false,\n            titleBarStyle: process.platform === 'darwin' ? 'hiddenInset' : 'default'\n        });\n        // 加载应用\n        if (true) {\n            this.mainWindow.loadURL('http://localhost:3001');\n            this.mainWindow.webContents.openDevTools();\n        }\n        else // removed by dead control flow\n{}\n        // 窗口准备显示时才显示，避免视觉闪烁\n        this.mainWindow.once('ready-to-show', () => {\n            if (this.mainWindow) {\n                this.mainWindow.show();\n                this.mainWindow.focus();\n            }\n        });\n        // 窗口关闭时清理引用\n        this.mainWindow.on('closed', () => {\n            this.mainWindow = null;\n        });\n        return this.mainWindow;\n    }\n    getMainWindow() {\n        return this.mainWindow;\n    }\n    closeMainWindow() {\n        if (this.mainWindow) {\n            this.mainWindow.close();\n        }\n    }\n    minimizeMainWindow() {\n        if (this.mainWindow) {\n            this.mainWindow.minimize();\n        }\n    }\n    maximizeMainWindow() {\n        if (this.mainWindow) {\n            if (this.mainWindow.isMaximized()) {\n                this.mainWindow.unmaximize();\n            }\n            else {\n                this.mainWindow.maximize();\n            }\n        }\n    }\n    isMainWindowMaximized() {\n        return this.mainWindow ? this.mainWindow.isMaximized() : false;\n    }\n}\n\n\n//# sourceURL=webpack://matrix-ai-workflow/./src/main/window.ts?\n}");

/***/ },

/***/ "child_process"
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
(module) {

module.exports = require("child_process");

/***/ },

/***/ "electron"
/*!***************************!*\
  !*** external "electron" ***!
  \***************************/
(module) {

module.exports = require("electron");

/***/ },

/***/ "fs"
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
(module) {

module.exports = require("fs");

/***/ },

/***/ "fs/promises"
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
(module) {

module.exports = require("fs/promises");

/***/ },

/***/ "path"
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
(module) {

module.exports = require("path");

/***/ }

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Check if module exists (development only)
/******/ 		if (__webpack_modules__[moduleId] === undefined) {
/******/ 			var e = new Error("Cannot find module '" + moduleId + "'");
/******/ 			e.code = 'MODULE_NOT_FOUND';
/******/ 			throw e;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/main/index.ts");
/******/ 	
/******/ })()
;