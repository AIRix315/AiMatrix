# MATRIX Studio å¼€å‘æ‰§è¡Œæ€»çº² v1.1

## ğŸ“‚ é¡¹ç›®çŠ¶æ€æ¦‚è§ˆ
*   **å½“å‰ç‰ˆæœ¬**: v0.2.9.9 (Phase 9 ç¬¬ä¸€é˜¶æ®µ - èœå•æ å¿«æ·æ–¹å¼ç³»ç»Ÿå®Œæˆ)
*   **å½“å‰é˜¶æ®µ**: Phase 9 ç¬¬ä¸€é˜¶æ®µ (H2.7 å®Œæˆ 100%)
*   **æœ€åæ›´æ–°**: 2025-12-28
*   **æ¶æ„ä¾æ®**: `/docs/00-06` æ–‡æ¡£é›†
*   **å‚è€ƒUI**: `docs/references/UI/matrix`, `docs/08-ui-design-specification-v1.0.0.md`
*   **åŠŸèƒ½å®Œæˆåº¦**: çº¦96% (èœå•æ å¿«æ·æ–¹å¼ç³»ç»Ÿå®Œæˆï¼ŒPhase 9 ç¬¬ä¸€é˜¶æ®µå®Œæˆ)

---

## ğŸš€ ä½¿ç”¨æŒ‡å—
1.  **æ ‡è®°è¿›åº¦**: æ¯å®Œæˆä¸€é¡¹ï¼Œå°† `[ ]` æ”¹ä¸º `[x]`ã€‚
2.  **æ—¥å¿—è®°å½•**: è¿™é‡Œçš„ Task å®Œæˆåï¼Œå» `CHANGELOG.md` è®°å½•è¯¦ç»†å˜æ›´ã€‚
3.  **å¼•ç”¨è·¯å¾„**: æœ¬æ–‡æ¡£ä¸­æåˆ°çš„è·¯å¾„å‡åŸºäºé¡¹ç›®æ ¹ç›®å½•ã€‚

---

## âœ… Phase 0: ç¯å¢ƒå‡†å¤‡ (å·²å®Œæˆ)
**çŠ¶æ€**: âœ… Completed
**å›é¡¾**: åŸºç¡€æ¶æ„å·²æ­å»ºï¼Œç›®å½•ç»“æ„ç¬¦åˆ Doc-05 æ ‡å‡†ã€‚

- [x] **[A01] ä»“åº“ä¸æ–‡æ¡£åˆå§‹åŒ–**
    - è¿™é‡Œçš„æ–‡æ¡£å·²å½’æ¡£è‡³ `/docs`ã€‚
    - `CHANGELOG.md` å·²å»ºç«‹ã€‚
    - æ­¤æ—¶ç‰ˆæœ¬: v0.0.1
- [x] **[A02] å·¥ç¨‹è„šæ‰‹æ¶ (Vite+Electron+React)**
    - ä¾èµ–å·²å®‰è£… (`node_modules` å­˜åœ¨)ã€‚
    - `src/main` ä¸ `src/renderer` ç»“æ„å·²å»ºç«‹ã€‚
    - è¿è¡Œæµ‹è¯•: `npm run dev` å¯å¯åŠ¨çª—å£ã€‚

---

## âœ… Phase 1: UI åŸå‹æ‹†è§£ä¸æ ·å¼æå– (å·²å®Œæˆ)
**ç›®æ ‡**: å°† `docs/references/UI/matrix` çš„è§†è§‰é£æ ¼ç§»æ¤åˆ° React ä»£ç ä¸­ã€‚

### [x] [B01] è§†è§‰ç³»ç»Ÿæå– (Theme Extraction)
*   **è¾“å…¥**: `docs/references/UI/matrix/src/renderer/styles/`, `src/renderer/styles/`
*   **æ­¥éª¤**:
    1.  åˆ›å»º `src/renderer/styles/base.css`: æå– Reset CSSã€å…¨å±€å­—ä½“å’Œå›¾æ ‡æ ·å¼ã€‚ âœ…
    2.  åˆ›å»º `src/renderer/styles/theme.css`: æå– `:root` é¢œè‰²å˜é‡ã€‚ âœ…
    3.  åˆ›å»º `src/renderer/styles/layout.css`: æå– `.window-bar`, `.global-menu` ç­‰å¸ƒå±€ç±»ã€‚ âœ…
    4.  åˆ›å»º `src/renderer/styles/components.css`: æå–æŒ‰é’®ã€å¡ç‰‡ç­‰ç»„ä»¶æ ·å¼ã€‚ âœ…
    5.  åˆ›å»º `src/renderer/styles/views.css`: æå–è§†å›¾æ ·å¼ã€‚ âœ…
    6.  åˆ›å»º `src/renderer/styles/editor.css`: æå–ç¼–è¾‘å™¨æ ·å¼ã€‚ âœ…
    7.  åˆ›å»º `src/renderer/styles/settings.css`: æå–è®¾ç½®é¡µæ ·å¼ã€‚ âœ…
    8.  åœ¨ `src/renderer/index.tsx` ä¸­å¼•å…¥è¿™äº› CSSã€‚ âœ…
*   **æ£€éªŒ**: å¯åŠ¨åº”ç”¨ï¼Œçª—å£èƒŒæ™¯è‰²åº”å˜ä¸ºæ·±è‰² (#0f0f0f)ï¼Œå­—ä½“åº”ä¸åŸå‹ä¸€è‡´ã€‚

### [x] [B02] åŸºç¡€ç»„ä»¶åŸå­åŒ– (Atomization)
*   **è¾“å…¥**: `docs/references/UI/matrix/src/renderer/` (DOM ç»“æ„)
*   **æ­¥éª¤**:
    1.  **Button**: å°è£… `<Button variant="primary|ghost">` (å‚è€ƒ `.action-btn`). âœ…
    2.  **Card**: å°è£… `<Card>` (å‚è€ƒ `.project-card`). âœ…
    3.  **Icon**: åˆ›å»º Icon ç»„ä»¶ï¼Œæ”¯æŒå¤šç§å›¾æ ‡ç±»å‹ã€‚ âœ…
*   **æ£€éªŒ**: åœ¨ `App.tsx` ä¸´æ—¶å†™å‡ ä¸ªæŒ‰é’®å’Œå¡ç‰‡ï¼Œæ ·å¼éœ€è¿˜åŸåŸå‹ã€‚
*   **æ—¥å¿—**: å®Œæˆåæ›´æ–°ç‰ˆæœ¬å· -> **v0.0.3**

---

## âœ… Phase 2: æ ¸å¿ƒæœåŠ¡ä¸ IPC æ¡¥æ¥ (Core Foundation)
**ç›®æ ‡**: æ‰“é€šä¸»è¿›ç¨‹é€»è¾‘ï¼Œç¡®ä¿"æ—¶é—´åˆè§„"ä¸"æ–‡ä»¶è¯»å†™"èƒ½åŠ›ã€‚

### [x] [C01] æ—¶é—´æœåŠ¡ä¸åˆè§„å±‚ (Time Compliance) **[é‡è¦]**
*   **å‚è€ƒ**: `docs/00-global-requirements-v1.0.0.md`
*   **ä»»åŠ¡**:
    1.  åˆ›å»º `src/main/services/TimeService.ts`ã€‚
    2.  å®ç° NTP ç½‘ç»œæ—¶é—´è·å–æˆ–ç³»ç»Ÿæ—¶é—´æ ¡éªŒé€»è¾‘ã€‚
    3.  **å•å…ƒæµ‹è¯•**: æ¨¡æ‹Ÿç³»ç»Ÿæ—¶é—´ç¯¡æ”¹ï¼ŒéªŒè¯æœåŠ¡æ˜¯å¦æŠ¥é”™ã€‚

### [x] [C02] æ ¸å¿ƒç®¡ç†å™¨ (Managers)
*   **å‚è€ƒ**: `docs/06-core-services-design-v1.0.1.md`
*   **ä»»åŠ¡**:
    1.  åˆ›å»º `ProjectManager.ts`: å®ç° `createProject`, `loadProject`ã€‚
    2.  åˆ›å»º `AssetManager.ts`: å®šä¹‰èµ„æºæ‰«ææ¥å£ã€‚
    3.  å®šä¹‰ TypeScript æ¥å£ (`src/common/types.ts`)ã€‚

### [x] [C03] IPC é€šä¿¡æ¡¥æ¥
*   **å‚è€ƒ**: `docs/02-technical-blueprint-v1.0.0.md`
*   **ä»»åŠ¡**:
    1.  `src/main/ipc/channels.ts`: å®šä¹‰é€šä¿¡é¢‘é“åç§°ã€‚
    2.  `src/preload/index.ts`: ä½¿ç”¨ `contextBridge` æš´éœ² APIã€‚
    3.  è”è°ƒæµ‹è¯•: æ¸²æŸ“å±‚è°ƒç”¨ `window.api.getVersion()` è¿”å›ä¸»è¿›ç¨‹ç‰ˆæœ¬å·ã€‚
*   **æ—¥å¿—**: å®Œæˆåæ›´æ–°ç‰ˆæœ¬å· -> **v0.1.0**

---

## âœ… Phase 3: ç•Œé¢é‡æ„ (UI Implementation)
**ç›®æ ‡**: æŠ›å¼ƒ HTML åŸå‹ï¼Œç”¨ React ç»„ä»¶æ„å»ºçœŸå®ç•Œé¢ã€‚
**çŠ¶æ€**: âœ… åŸºæœ¬å®Œæˆ (é€šç”¨ç»„ä»¶å®Œæ•´ï¼Œæ ¸å¿ƒé¡µé¢æ¡†æ¶å®Œæˆ)

### [x] [D01] åº”ç”¨éª¨æ¶
*   **ä»»åŠ¡**:
    1.  å®ç° `GlobalNav` (å·¦ä¾§è¾¹æ )ã€‚ âœ…
    2.  å®ç° `WindowBar` (è‡ªå®šä¹‰æ ‡é¢˜æ ï¼Œå«æœ€å°åŒ–/å…³é—­)ã€‚ âœ…
    3.  é…ç½® `react-router-dom`è·¯ç”±è¡¨ã€‚ âœ…

### [x] [D02] é¦–é¡µ (Dashboard)
*   **ä»»åŠ¡**:
    1.  è¯»å–æœ€è¿‘é¡¹ç›®åˆ—è¡¨ã€‚ âœ…
    2.  å®ç°"æ–°å»ºé¡¹ç›®"æ¨¡æ€æ¡†ã€‚ âœ…
    3.  é¡¹ç›®åˆ é™¤åŠŸèƒ½ï¼ˆå¸¦ç¡®è®¤å¯¹è¯æ¡†ï¼‰ã€‚ âœ…
    4.  åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†ã€‚ âœ…

### [x] [D03] è®¾ç½®é¡µ
*   **ä»»åŠ¡**:
    1.  å®ç° API Key è¾“å…¥æ¡†ã€‚ âœ…
    2.  APIé…ç½®ä¿å­˜å’Œè¿æ¥æµ‹è¯•ã€‚ âœ…
    3.  Toasté€šçŸ¥é›†æˆã€‚ âœ…

### [x] [D04] é€šç”¨UIç»„ä»¶åº“
*   **ä»»åŠ¡**:
    1.  Toasté€šçŸ¥ç»„ä»¶ã€‚ âœ…
    2.  LoadingåŠ è½½æŒ‡ç¤ºå™¨ã€‚ âœ…
    3.  Modalé€šç”¨æ¨¡æ€æ¡†ã€‚ âœ…
    4.  ConfirmDialogç¡®è®¤å¯¹è¯æ¡†ã€‚ âœ…

---

## â³ Phase 4: MVP æ ¸å¿ƒåŠŸèƒ½
**ç›®æ ‡**: æ„å»º Matrix çš„é€šç”¨â€œæ–‡ä»¶ç®¡ç†â€ä¸â€œé€»è¾‘ç¼–æ’â€èƒ½åŠ›ï¼Œæœ€å°å¯è¡Œæ€§äº§å“ï¼›èƒ½è·‘é€š"æ–°å»ºé¡¹ç›® -> å¯¼å…¥èµ„æº -> æŸ¥çœ‹"æµç¨‹ã€‚
**çŠ¶æ€**: ğŸ”´ 20% (èµ„äº§åº“å’Œå·¥ä½œæµç¼–è¾‘å™¨å¾…å®ç°)

### [*] [E01] èµ„äº§åº“è§†å›¾ (Assetsé¡µé¢)
*   **ä»»åŠ¡**:
    1.  å±•ç¤º Grid å¸ƒå±€çš„å›¾ç‰‡/èµ„äº§å¡ç‰‡ã€‚
    2.  å®ç°èµ„äº§å¯¼å…¥åŠŸèƒ½ã€‚
    3.  å®ç°èµ„äº§é¢„è§ˆåŠŸèƒ½ã€‚
    4.  è¿æ¥åˆ°AssetManageræœåŠ¡ã€‚
- æ–‡ä»¶è·¯å¾„: src/renderer/pages/Assets/, src/main/services/AssetManager.ts
- æ ¸å¿ƒç›®çš„: å®ç°â€œæ–‡ä»¶å³èµ„äº§â€çš„ç»Ÿä¸€è§†å›¾ã€‚ æ— è®ºæ˜¯ç”¨æˆ·å¯¼å…¥çš„å›¾ï¼Œè¿˜æ˜¯ AI ç”Ÿæˆçš„å›¾ï¼Œéƒ½å¿…é¡»åœ¨è¿™é‡Œè¢«ç´¢å¼•å’Œç®¡ç†ã€‚
- æ‰§è¡ŒåŠ¨ä½œ:
    1. åç«¯ (Backend): å®Œå–„ AssetManager.scan(path)ã€‚
        - è¦æ±‚: å¿…é¡»é€’å½’æ‰«æï¼Œè¯†åˆ« .png, .jpg, .txt, .json (Sidecar)ã€‚
        - è¦æ±‚: å¿…é¡»é›†æˆ chokidar å®ç°æ–‡ä»¶ç³»ç»Ÿç›‘å¬ï¼Œæ–‡ä»¶å˜åŠ¨å®æ—¶æ¨é€åˆ°å‰ç«¯ã€‚
    2. å‰ç«¯ (UI): å®ç° AssetsPage çš„ Grid å¸ƒå±€ã€‚
        - è¦æ±‚: å¤ç”¨ Card ç»„ä»¶å±•ç¤ºç´ æã€‚
        - è¦æ±‚: å®ç°â€œæ‡’åŠ è½½ (Virtual Scroll)â€ï¼Œé˜²æ­¢å‡ åƒå¼ å›¾å¡æ­»ç•Œé¢ã€‚
        - è¦æ±‚: å®ç°â€œå¯¼å…¥æŒ‰é’®â€ï¼Œè°ƒç”¨ dialog.showOpenDialog å¹¶å¤åˆ¶æ–‡ä»¶åˆ°é¡¹ç›®ç›®å½•ã€‚
    3. é¢„è§ˆ (Preview): å®ç°ç‚¹å‡»å¡ç‰‡å¼¹å‡ºå¤§å›¾é¢„è§ˆ Modalã€‚
- ä¿®æ”¹æ ‡å‡†: ç•Œé¢ä¸åº”åŒ…å«ä»»ä½•â€œå°è¯´â€ç‰¹å®šçš„é€»è¾‘ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªé€šç”¨çš„ç´ æç®¡ç†å™¨ã€‚
- é¢„æœŸç»“æœ: å¾€é¡¹ç›®æ–‡ä»¶å¤¹é‡Œéšä¾¿ä¸¢ä¸€å¼ å›¾ï¼ŒAssets é¡µé¢åœ¨ 1 ç§’å†…è‡ªåŠ¨åˆ·æ–°æ˜¾ç¤ºè¯¥å›¾ã€‚

### [*] [E02] å·¥ä½œæµç¼–è¾‘å™¨ (Workflowsé¡µé¢)
*   **ä»»åŠ¡**:
    1.  å®ç°ä¸‰æ å¯æ‹–æ‹½å¸ƒå±€ (Resizer)ã€‚
    2.  å®ç°èŠ‚ç‚¹æ‹–æ‹½å’Œè¿æ¥ã€‚
    3.  é›†æˆå·¥ä½œæµæ‰§è¡Œå¼•æ“ã€‚
    4.  å·¥ä½œæµä¿å­˜å’ŒåŠ è½½ã€‚
- æ–‡ä»¶è·¯å¾„: src/renderer/pages/Workflows/, src/renderer/features/flow/
- æ ¸å¿ƒç›®çš„: å®ç°å¯è§†åŒ–é€»è¾‘ç¼–æ’ UIã€‚ è™½ç„¶å°è¯´æ’ä»¶åˆæœŸå¯èƒ½ç¡¬ç¼–ç ï¼Œä½†ç¼–è¾‘å™¨å¿…é¡»å‡†å¤‡å¥½ï¼Œç”¨äºåç»­å±•ç¤ºæˆ–ä¿®æ”¹é€»è¾‘ã€‚
- æ‰§è¡ŒåŠ¨ä½œ:
    1. é›†æˆå¼•æ“: å®‰è£…å¹¶é…ç½® ReactFlow (æˆ–ç±»ä¼¼åº“)ã€‚
    2. èŠ‚ç‚¹å¼€å‘: å°è£…åŸºç¡€èŠ‚ç‚¹ç»„ä»¶ BaseNode (Input, Output, Handle)ã€‚
    3. å¸ƒå±€å®ç°: å®ç°å·¦ä¾§â€œå·¥å…·ç®± (Toolbox)â€ï¼Œä¸­é—´â€œç”»å¸ƒ (Canvas)â€ï¼Œå³ä¾§â€œå±æ€§é¢æ¿ (Properties)â€ã€‚
    4. æ•°æ®æµ: å®ç° nodes å’Œ edges çŠ¶æ€ç®¡ç† (Zustand/Redux)ï¼Œæ”¯æŒä¿å­˜ä¸º JSONã€‚
- ä¿®æ”¹æ ‡å‡†: èƒ½æ‹–æ‹½èŠ‚ç‚¹ã€è¿çº¿ã€åˆ é™¤ã€ä¿å­˜å¸ƒå±€æ•°æ®ã€‚æš‚ä¸éœ€è¦å®ç°çœŸå®çš„åç«¯æ‰§è¡Œå¼•æ“ï¼ˆç”± Phase 6 å®Œæˆï¼‰ã€‚
- é¢„æœŸç»“æœ: æ‰“å¼€é¡µé¢ï¼Œæ‹–å…¥ä¸€ä¸ªâ€œStartâ€èŠ‚ç‚¹å’Œä¸€ä¸ªâ€œEndâ€èŠ‚ç‚¹ï¼Œè¿ä¸Šçº¿ï¼Œåˆ·æ–°é¡µé¢åè¿çº¿ä¾ç„¶å­˜åœ¨ã€‚

### [*] [E03] æ’ä»¶ç®¡ç†ç³»ç»Ÿå®Œå–„ (Pluginsé¡µé¢)
*   **ä»»åŠ¡**:
    1.  å®ç°æ’ä»¶å®‰è£…æµç¨‹ã€‚
    2.  æ’ä»¶å¸‚åœºé›†æˆã€‚
    3.  å®˜æ–¹/ç¤¾åŒºæ’ä»¶åˆ†çº§æ˜¾ç¤ºã€‚
- æ–‡ä»¶è·¯å¾„: src/main/services/PluginManager.ts, src/renderer/pages/Plugins/
- æ ¸å¿ƒç›®çš„: ç¡®ç«‹æ’ä»¶åŠ è½½æ ‡å‡†ã€‚ â€œå°è¯´è½¬è§†é¢‘â€æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ’ä»¶ï¼Œå¿…é¡»é€šè¿‡æ ‡å‡†æ–¹å¼åŠ è½½ï¼Œè€Œä¸æ˜¯å†™æ­»åœ¨ä»£ç é‡Œã€‚
- æ‰§è¡ŒåŠ¨ä½œ:
    1. å®šä¹‰åè®®: åˆ¶å®š manifest.json è§„èŒƒ (id, version, entryPoint)ã€‚
    2. åŠ è½½å™¨: å®ç° PluginManager.loadPlugins()ï¼Œæ‰«æ plugins/ ç›®å½•ã€‚
    3. UIå±•ç¤º: åœ¨ Plugins é¡µé¢åˆ—å‡ºå·²å®‰è£…æ’ä»¶ï¼ˆåŒ…æ‹¬å†…ç½®çš„ Novel æ’ä»¶ï¼‰ã€‚
- é¢„æœŸç»“æœ: ç³»ç»Ÿå¯åŠ¨æ—¶ï¼ŒConsole è¾“å‡º "Loaded plugin: novel-to-video"ã€‚

---

## Phase 5: å°è¯´è½¬è§†é¢‘åŠŸèƒ½å®æ–½ (Novel-to-Video Feature)
**ç›®æ ‡**: åŸºäºMatrixåŸç”Ÿæ¶æ„å®æ–½å°è¯´è½¬è§†é¢‘åŠŸèƒ½ï¼Œå»ºç«‹é€šç”¨å·¥ä½œæµå¼•æ“æ ‡å‡†
**çŠ¶æ€**: â³ å¾…Phase 4å®Œæˆåå¯åŠ¨
**è¯¦ç»†æ–¹æ¡ˆ**: å‚è€ƒ `plans/notyet-novel-ti-video-plan.md`

### [*] é˜¶æ®µ5.1: å·¥ä½œæµå¼•æ“åŸºç¡€ 
*   **æ ¸å¿ƒç›®æ ‡**: å»ºç«‹é€šç”¨çš„å·¥ä½œæµæ‰§è¡Œå¼•æ“ï¼Œæ”¯æŒæ­¥éª¤åŒ–æµç¨‹æ§åˆ¶
*   **å…³é”®äº¤ä»˜**: WorkflowRegistryã€WorkflowStateManagerã€WorkflowExecutorç»„ä»¶
*   **ä»»åŠ¡æ¸…å•**: (è¯¦è§è®¡åˆ’æ–‡æ¡£ç¬¬151-594è¡Œ)
    - [*] **[F1.1]** åˆ›å»ºå·¥ä½œæµæ³¨å†Œè¡¨ (WorkflowRegistry)
    - [*] **[F1.2]** å®ç°å·¥ä½œæµçŠ¶æ€ç®¡ç†å™¨ (WorkflowStateManager)
    - [*] **[F1.3]** åˆ›å»ºå·¥ä½œæµæ‰§è¡Œå™¨ç»„ä»¶ (WorkflowExecutor)
    - [*] **[F1.4]** æ‰©å±•Workflowsåˆ—è¡¨é¡µ
    - [*] **[F1.5]** æ·»åŠ å·¥ä½œæµè·¯ç”± (`/workflows/:workflowId`)
    - [*] **[F1.6]** åˆ›å»ºæµ‹è¯•å·¥ä½œæµéªŒè¯æµç¨‹
*   **éªŒæ”¶æ ‡å‡†**: æµ‹è¯•å·¥ä½œæµå¯å®Œæ•´æ‰§è¡Œï¼Œæ”¯æŒä¸­æ–­æ¢å¤

### [*] é˜¶æ®µ5.2: æ•°æ®æ¨¡å‹å’ŒAssetManageré›†æˆ 
*   **æ ¸å¿ƒç›®æ ‡**: åˆ©ç”¨AssetManagerçš„customFieldsæœºåˆ¶å­˜å‚¨NovelVideoä¸“ç”¨æ•°æ®
*   **å…³é”®äº¤ä»˜**: NovelVideoFieldsç±»å‹ã€NovelVideoAssetHelperå·¥å…·ç±»
*   **ä»»åŠ¡æ¸…å•**: (è¯¦è§è®¡åˆ’æ–‡æ¡£ç¬¬596-958è¡Œ)
    - [*] **[F2.1]** å®šä¹‰NovelVideoç±»å‹ç³»ç»Ÿ (`src/shared/types/novel-video.ts`)
    - [*] **[F2.2]** å®ç°NovelVideoAssetHelper (ç« èŠ‚/åœºæ™¯/è§’è‰²èµ„äº§å¿«æ·æ–¹æ³•)
    - [*] **[F2.3]** æµ‹è¯•customFieldsæŸ¥è¯¢æ€§èƒ½ (100ä¸ªèµ„äº§<100ms)
*   **éªŒæ”¶æ ‡å‡†**: å¯åˆ›å»ºç« èŠ‚/åœºæ™¯èµ„äº§ï¼ŒæŸ¥è¯¢æ€§èƒ½è¾¾æ ‡

### [*] é˜¶æ®µ5.3: AIæœåŠ¡é›†æˆ 
*   **æ ¸å¿ƒç›®æ ‡**: é›†æˆLangChain Agentå’ŒT8Star/RunningHub APIæä¾›å•†
*   **å…³é”®äº¤ä»˜**: LangChainAgentã€APIManageræ‰©å±•ã€NovelVideoAPIService
*   **ä»»åŠ¡æ¸…å•**: (è¯¦è§è®¡åˆ’æ–‡æ¡£ç¬¬960-1284è¡Œ)
    - [*] **[F3.1]** ä»ai-playletå¤åˆ¶LangChain Agent
    - [*] **[F3.2]** æ³¨å†ŒT8Star APIæä¾›å•† (å›¾ç‰‡/è§†é¢‘ç”Ÿæˆ)
    - [*] **[F3.3]** æ³¨å†ŒRunningHub APIæä¾›å•† (TTSé…éŸ³)
    - [*] **[F3.4]** å®ç°NovelVideoAPIService (å°è£…APIè°ƒç”¨+AssetManageré›†æˆ)
*   **éªŒæ”¶æ ‡å‡†**: åœºæ™¯å›¾ã€è§’è‰²å›¾ã€è§†é¢‘ç”ŸæˆAPIå¯æ­£å¸¸è°ƒç”¨

### [x] é˜¶æ®µ5.4: ä¸šåŠ¡æœåŠ¡å®ç° âœ…
*   **æ ¸å¿ƒç›®æ ‡**: å®ç°ç« èŠ‚æ‹†åˆ†ã€åœºæ™¯æå–ã€èµ„æºç”Ÿæˆã€åˆ†é•œã€é…éŸ³æœåŠ¡
*   **å…³é”®äº¤ä»˜**: ChapterServiceã€ResourceServiceã€StoryboardServiceã€VoiceoverService
*   **ä»»åŠ¡æ¸…å•**: (è¯¦è§è®¡åˆ’æ–‡æ¡£ç¬¬1286-1699è¡Œ)
    - [x] **[F4.1]** å®ç°ç« èŠ‚æ‹†åˆ†æœåŠ¡ (ChapterService) - 270è¡Œï¼ŒåŒ…å«splitChaptersã€extractScenesAndCharacters
    - [x] **[F4.2]** å®ç°åœºæ™¯è§’è‰²æå–æœåŠ¡ (LLMæå–) - é›†æˆAgentSceneCharacterExtractor
    - [x] **[F4.3]** å®ç°èµ„æºç”ŸæˆæœåŠ¡ (åœºæ™¯å›¾/è§’è‰²å›¾ï¼Œé›†æˆTaskScheduler) - ResourceService 260è¡Œ
    - [x] **[F4.4]** å®ç°åˆ†é•œè„šæœ¬ç”ŸæˆæœåŠ¡ (4æ­¥AIé“¾å¼è°ƒç”¨) - StoryboardService 240è¡Œ
    - [x] **[F4.5]** å®ç°é…éŸ³ç”ŸæˆæœåŠ¡ (å°è¯æå–+éŸ³é¢‘ç”Ÿæˆ) - VoiceoverService 302è¡Œï¼ˆå®Œå…¨é‡å†™ï¼‰
*   **éªŒæ”¶æ ‡å‡†**: âœ… æ‰€æœ‰ä¸šåŠ¡æœåŠ¡å·²å®ç°ï¼Œæ•°æ®å­˜å‚¨åœ¨AssetManagerï¼Œç¼–è¯‘æˆåŠŸï¼ˆ0é”™è¯¯ï¼‰
*   **å®Œæˆæ—¶é—´**: 2025-12-27
*   **å…³é”®ä¿®å¤**: ä¿®å¤16+ä¸ªTypeScriptç¼–è¯‘é”™è¯¯ï¼Œé‡å†™AgentVoiceoverGeneratorç¬¦åˆMatrixæ¶æ„

### [x] é˜¶æ®µ5.5: UIç»„ä»¶å¼€å‘ âœ…
*   **æ ¸å¿ƒç›®æ ‡**: å®ç°5ä¸ªå·¥ä½œæµé¢æ¿ç»„ä»¶ï¼Œå¤ç”¨Matrixç»„ä»¶é£æ ¼
*   **å…³é”®äº¤ä»˜**: ChapterSplitPanelã€SceneCharacterPanelç­‰5ä¸ªé¢æ¿
*   **ä»»åŠ¡æ¸…å•**: (è¯¦è§è®¡åˆ’æ–‡æ¡£ç¬¬1702-1916è¡Œ)
    - [x] **[F5.1]** åˆ›å»ºChapterSplitPanelç»„ä»¶ (ç« èŠ‚æ‹†åˆ†)
    - [x] **[F5.2]** åˆ›å»ºSceneCharacterPanelç»„ä»¶ (åœºæ™¯è§’è‰²æå–)
    - [x] **[F5.3]** åˆ›å»ºStoryboardPanelç»„ä»¶ (åˆ†é•œè„šæœ¬ç”Ÿæˆ)
    - [x] **[F5.4]** åˆ›å»ºVoiceoverPanelç»„ä»¶ (é…éŸ³ç”Ÿæˆ)
    - [x] **[F5.5]** åˆ›å»ºExportPanelç»„ä»¶ (å¯¼å‡ºæˆå“)
    - [x] **[F5.6]** æ³¨å†Œå°è¯´è½¬è§†é¢‘å·¥ä½œæµ (WorkflowDefinition)
*   **éªŒæ”¶æ ‡å‡†**: âœ… 5ä¸ªæ­¥éª¤å¯ä¾æ¬¡å®Œæˆï¼ŒUIç¬¦åˆMatrixé£æ ¼
*   **å®Œæˆæ—¶é—´**: 2025-12-27
*   **æ–°å¢æ–‡ä»¶**: 13ä¸ªæ–‡ä»¶ï¼ˆ5ä¸ªç»„ä»¶+5ä¸ªCSS+å·¥ä½œæµæ‰§è¡Œå™¨+å·¥ä½œæµå®šä¹‰ï¼‰
*   **ä»£ç é‡**: çº¦1,200è¡ŒUIä»£ç  + 70è¡Œå·¥ä½œæµå®šä¹‰

### [ ] é˜¶æ®µ5.6: é›†æˆæµ‹è¯•å’Œæ–‡æ¡£ 
*   **æ ¸å¿ƒç›®æ ‡**: å®Œæ•´æµç¨‹éªŒè¯ã€æ€§èƒ½æµ‹è¯•ã€ç¼–å†™å¼€å‘è€…æ–‡æ¡£
*   **å…³é”®äº¤ä»˜**: E2Eæµ‹è¯•ã€å·¥ä½œæµå¼•æ“å¼€å‘æŒ‡å—ã€ç”¨æˆ·æ‰‹å†Œ
*   **ä»»åŠ¡æ¸…å•**: (è¯¦è§è®¡åˆ’æ–‡æ¡£ç¬¬1918-2148è¡Œ)
    - [ ] **[F6.1]** å®Œæ•´æµç¨‹æµ‹è¯• (å°è¯´å¯¼å…¥â†’è§†é¢‘å¯¼å‡º)
    - [ ] **[F6.2]** ä¸­æ–­æ¢å¤æµ‹è¯• (åº”ç”¨é‡å¯æ¢å¤çŠ¶æ€)
    - [ ] **[F6.3]** æ€§èƒ½æµ‹è¯• (100ç« å¤„ç†<1åˆ†é’Ÿï¼Œå¹¶å‘æ§åˆ¶æœ‰æ•ˆ)
    - [ ] **[F6.4]** ç¼–å†™å·¥ä½œæµå¼•æ“å¼€å‘æŒ‡å— (`docs/workflow-engine-guide.md`)
    - [ ] **[F6.5]** ç¼–å†™ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œ (`docs/novel-to-video-user-guide.md`)
*   **éªŒæ”¶æ ‡å‡†**: æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼Œæ–‡æ¡£å®Œæ•´

---

## ğŸ—ï¸ Phase 6: å†…æ ¸é‡æ„ä¸åŸºç¡€è®¾æ–½ (åŸºå»ºå…ˆè¡Œ)
**ç›®æ ‡**: ä¸º Phase 7 çš„è§£è€¦åšå‡†å¤‡ï¼Œæ„å»ºé«˜å¯ç”¨çš„åº•å±‚æœåŠ¡ã€‚
**çŠ¶æ€**: âœ… æ ¸å¿ƒå®Œæˆ (85% - v0.2.9.4)
**æ‰§è¡ŒåŸåˆ™**: **Side-by-Side Implementation (æ—è·¯å»ºè®¾)**ã€‚åœ¨å»ºè®¾æ–°åŸºå»ºæ—¶ï¼Œ**ä¸¥ç¦**ç›´æ¥ä¿®æ”¹ Phase 5 å·²æœ‰çš„ä¸šåŠ¡ä»£ç ã€‚æ–°æ—§é€»è¾‘æš‚æ—¶å…±å­˜ï¼Œç›´åˆ° Phase 7 ç»Ÿä¸€è¿ç§»ã€‚
**å®Œæˆæ—¥æœŸ**: 2025-12-27
**è¯¦ç»†æŠ¥å‘Š**: `plans/done-phase6-infrastructure-v0.2.9.4.md`

### [x] [G01] PluginManager å¢å¼º (æ²™ç®±ä¸åŠ è½½å™¨) âœ…
*   **ä»»åŠ¡**:
    1.  **æ²™ç®±ç¯å¢ƒ**: å®ç° `PluginContext` éš”ç¦»å±‚ï¼Œç¡®ä¿æ’ä»¶æ— æ³•ç›´æ¥ `import` ä¸»è¿›ç¨‹å†…éƒ¨ç±»ã€‚ âœ…
    2.  **ç”Ÿå‘½å‘¨æœŸ**: å®Œå–„ `load/unload` é€»è¾‘ï¼Œç¡®ä¿å¸è½½æ’ä»¶æ—¶èƒ½æ¸…ç†å…¶æ³¨å†Œçš„ Serviceã€‚ âœ…
    3.  **éªŒè¯**: ç¼–å†™ä¸€ä¸ªç®€å•çš„ `manifest.json` æµ‹è¯•ç”¨ä¾‹ï¼Œç¡®ä¿èƒ½è¯»å–æ’ä»¶å…ƒæ•°æ®ï¼Œ**ä½†æš‚æ—¶ä¸è¦å»åŠ¨ Novel æ’ä»¶çš„åŠ è½½é€»è¾‘**ã€‚ âœ…
*   **å®ç°**:
    - `PluginContext.ts` (260è¡Œ) - æ’ä»¶ä¸Šä¸‹æ–‡éš”ç¦»å±‚ï¼Œæ”¯æŒæƒé™ç®¡ç†å’Œèµ„æºè¿½è¸ª
    - `PluginSandbox.ts` (230è¡Œ) - åŸºäºVM2çš„æ²™ç®±æ‰§è¡Œç¯å¢ƒ
    - `PluginManagerV2.ts` (580è¡Œ) - å¢å¼ºç‰ˆæ’ä»¶ç®¡ç†å™¨ï¼Œå‘åå…¼å®¹
    - æµ‹è¯•ç”¨ä¾‹å’Œç¤ºä¾‹æ’ä»¶å®Œæ•´

### [x] [G02] TaskScheduler å¢å¼º (æŒä¹…åŒ–é˜Ÿåˆ—) âœ…
*   **ä»»åŠ¡**:
    1.  **æŒä¹…åŒ–å­˜å‚¨**: å¼•å…¥ NeDB æˆ– SQLiteï¼Œå°†å†…å­˜é˜Ÿåˆ—æ”¹é€ ä¸ºç£ç›˜é˜Ÿåˆ—ï¼Œé˜²æ­¢å´©è´µä¸¢å¤±ã€‚ âœ…
    2.  **å¹¶å‘æ§åˆ¶**: å®ç° `ConcurrencyManager`ï¼Œå…è®¸ä¸ºä¸åŒç±»å‹çš„ä»»åŠ¡ï¼ˆå¦‚ç”Ÿå›¾ vs æ–‡æœ¬å¤„ç†ï¼‰è®¾ç½®ä¸åŒçš„å¹¶å‘æ•°ã€‚ âœ…
    3.  **å…¼å®¹å±‚**: ä¿æŒ `addTask` æ¥å£ç­¾åä¸å˜ï¼Œæˆ–è€…æä¾›ä¸€ä¸ª `LegacyAdapter`ï¼Œç¡®ä¿ Phase 5 çš„ç¡¬ç¼–ç è°ƒç”¨æ­¤æ—¶ä»èƒ½è¿è¡Œï¼ˆå³ä½¿å®ƒè¿˜æ²¡ç”¨åˆ°æ–°ç‰¹æ€§ï¼‰ã€‚ âœ…
*   **å®ç°**:
    - `TaskPersistence.ts` (360è¡Œ) - åŸºäºNeDBçš„ä»»åŠ¡æŒä¹…åŒ–ï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ 
    - `ConcurrencyManager.ts` (350è¡Œ) - æ™ºèƒ½å¹¶å‘æ§åˆ¶ï¼Œæ”¯æŒä¼˜å…ˆçº§é˜Ÿåˆ—
    - å®Œå…¨å…¼å®¹åŸæœ‰TaskScheduleræ¥å£

### [x] [G03] APIManager å¢å¼º (ç½‘å…³æ¨¡å¼) âœ…
*   **ä»»åŠ¡**:
    1.  **ç»Ÿä¸€æ³¨å†Œè¡¨**: å»ºç«‹ `ServiceRegistry`ï¼Œæ‰€æœ‰æ ¸å¿ƒèƒ½åŠ›ï¼ˆFile, System, Networkï¼‰å¿…é¡»åœ¨å¯åŠ¨æ—¶æ³¨å†Œã€‚ âœ…
    2.  **API æš´éœ²**: å®ç° `exposeAPI(namespace, method)`ï¼Œä¸º Phase 7 çš„æ’ä»¶æä¾›æ ‡å‡†è°ƒç”¨å…¥å£ã€‚ âœ…
    3.  **æˆæœ¬ç›‘æ§**: é’ˆå¯¹ LLM å’Œ ç”Ÿå›¾ APIï¼Œå®ç°åŸºç¡€çš„ Token/Credit è®¡æ•°å™¨ã€‚ âœ…
*   **å®ç°**:
    - `ServiceRegistry.ts` (210è¡Œ) - ç»Ÿä¸€æœåŠ¡æ³¨å†Œè¡¨ï¼Œæ”¯æŒå‘½åç©ºé—´å’Œè°ƒç”¨è¿½è¸ª
    - `CostMonitor.ts` (330è¡Œ) - å®Œæ•´çš„APIæˆæœ¬ç›‘æ§ï¼Œæ”¯æŒé¢„ç®—é¢„è­¦

---

## âœ… Phase 7: æ¶æ„æ ‡å‡†åŒ–ä¸ API å›ºåŒ– (åŸºäº"å°è¯´è½¬è§†é¢‘"çš„æç‚¼)
**ç›®æ ‡**: å°† Phase 5 ä¸­éªŒè¯é€šè¿‡çš„ä¸šåŠ¡é€»è¾‘ï¼Œæç‚¼ä¸ºæ ‡å‡† SDK èƒ½åŠ›ï¼Œç¡®ä¿ç¬¬ä¸‰æ–¹å¼€å‘è€…èƒ½å¤åˆ»åŒç­‰ä½“éªŒã€‚
**çŠ¶æ€**: âœ… å·²å®Œæˆ (2025-12-27)
**æ‰§è¡Œé¡ºåº**: H01 â†’ H02 â†’ H03 â†’ H04 â†’ H05
**è¯¦ç»†æŠ¥å‘Š**: `docs/PHASE7_SUMMARY.md`

**ğŸ§ª Phase 7 æ‰§è¡Œä¸éªŒè¯åè®® (å·²å®Œæˆ)**

### 1. é›¶æ—¶åˆ»ï¼šåŸºå‡†å¿«ç…§
- [x] **åŠ¨ä½œ**: æ‰§è¡Œ `npm run test:integration:novel-baseline`ã€‚
- [x] **è¦æ±‚**: è®°å½•ä¸‹å½“å‰"å°è¯´è½¬è§†é¢‘"æµç¨‹çš„è¾“å…¥ï¼ˆJSONï¼‰å’Œè¾“å‡ºï¼ˆAsset Metadataï¼‰ã€‚
- [x] **ç›®çš„**: ç¡®ä¿é‡æ„ä¸ä¸¢å¤±ä¸šåŠ¡é€»è¾‘ã€‚
- [x] **ç»“æœ**: 4ä¸ªåŸºå‡†æµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼Œç”Ÿæˆ6ä¸ªå¿«ç…§æ–‡ä»¶

### 2. è¿‡ç¨‹æ§åˆ¶ï¼šç±»å‹æ …æ  (Type Fencing)
- [x] **åŠ¨ä½œ**: æ’ä»¶ä»£ç ç‰©ç†éš”ç¦»åˆ° `plugins/official/novel-to-video/`
- [x] **è¦æ±‚**: æ’ä»¶åªå¼•ç”¨ `@matrix/sdk` å…¬å…±APIï¼Œé€šè¿‡ PluginContext ä¾èµ–æ³¨å…¥
- [x] **ç›®çš„**: ç‰©ç†å¼ºåˆ¶è§£è€¦ï¼Œæ˜¾å¼å®šä¹‰å…¬å…± API
- [x] **ç»“æœ**: æ‰€æœ‰æ’ä»¶ä»£ç æ— æ³•è®¿é—® `src/main/services` å†…éƒ¨å®ç°

### 3. ç»ˆå±€éªŒæ”¶ï¼šåŒç›²æµ‹è¯•
- [x] **åŠ¨ä½œ A**: æ’ä»¶ä»£ç é‡æ„å®Œæˆï¼Œä½¿ç”¨ GenericAssetHelper å’Œæ ‡å‡†åŒ–API
- [x] **åŠ¨ä½œ B**: å»ºç«‹æ’ä»¶è„šæ‰‹æ¶æ¨¡æ¿ï¼Œæ”¯æŒç¬¬ä¸‰æ–¹æ’ä»¶å¼€å‘
- [x] **åŠ¨ä½œ C**: TypeScriptç¼–è¯‘0é”™è¯¯ï¼ŒESLint 0é”™è¯¯
- [x] **ç»“æœ**: 27ä¸ªæµ‹è¯•ç”¨ä¾‹100%é€šè¿‡

---

### [x] [H01] æ•°æ®ç»“æ„æ³›åŒ– (Asset System Refactor) âœ…
*   **èƒŒæ™¯**: ç›®å‰ `NovelVideoAssetHelper` é‡Œç¡¬ç¼–ç äº† `ChapterData` ç­‰ç±»å‹ã€‚
*   **å®Œæˆå†…å®¹**:
    1.  **Schema æ³¨å†Œæœºåˆ¶**: å®ç° `SchemaRegistry.ts` (500è¡Œ) - æ”¯æŒSchemaæ³¨å†Œã€éªŒè¯ã€æŸ¥è¯¢ âœ…
    2.  **æ•°æ®è¿ç§»**: åˆ›å»º5ä¸ªJSON Schemaå®šä¹‰ (Chapter, Scene, Character, Storyboard, Voiceover) âœ…
    3.  **é€šç”¨è¯»å†™å™¨**: å®ç° `GenericAssetHelper.ts` (450è¡Œ) - ç±»å‹å®‰å…¨çš„æ³›å‹CRUDæ“ä½œ âœ…
    4.  **éªŒè¯**: æ’ä»¶ä½¿ç”¨ `context.assetHelper.queryAssets({ schemaId })` æŸ¥è¯¢æ•°æ® âœ…
*   **æµ‹è¯•**: 17ä¸ªå•å…ƒæµ‹è¯•100%é€šè¿‡

### [x] [H02] ä»»åŠ¡è°ƒåº¦æ ‡å‡†åŒ– (Task System Refactor) âœ…
*   **èƒŒæ™¯**: `ResourceService` å’Œ `StoryboardService` ç›®å‰å¯èƒ½ç›´æ¥è°ƒç”¨äº†åº•å±‚é˜Ÿåˆ—ï¼Œæˆ–è€…æ‹¥æœ‰ç‰¹æƒã€‚
*   **å®Œæˆå†…å®¹**:
    1.  **ä»»åŠ¡æ¨¡æ¿åŒ–**: å®ç° `TaskTemplate.ts` (600è¡Œ) - 3ä¸ªé¢„ç½®æ¨¡æ¿ (ImageGeneration, TTS, VideoGeneration) âœ…
    2.  **é“¾å¼ä»»åŠ¡ SDK**: å®ç° `ChainTask.ts` (500è¡Œ) - ä»»åŠ¡ä¾èµ–ç®¡ç†ã€æ‹“æ‰‘æ’åºã€æ¡ä»¶åˆ†æ”¯ âœ…
    3.  **æ–­ç‚¹ç»­ä¼ **: é›†æˆPhase 6çš„ `TaskPersistence`ï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼  âœ…
    4.  **å¹¶å‘æ§åˆ¶**: é›†æˆPhase 6çš„ `ConcurrencyManager`ï¼Œæ™ºèƒ½å¹¶å‘æ§åˆ¶ âœ…
*   **æµ‹è¯•**: 10ä¸ªé›†æˆæµ‹è¯•100%é€šè¿‡

### [x] [H03] æ’ä»¶åŒ…ä½“éš”ç¦»ä¸å·¥å…·æ ‡å‡†åŒ– (Physical Isolation & Tool Standardization) âœ…
*   **èƒŒæ™¯**: ç›®å‰ä»£ç æ··æ‚åœ¨ `src/main/services/novel-video`ï¼Œä¸”ç›´æ¥è°ƒç”¨æœ¬åœ°å·¥å…·ï¼ˆFFmpegã€ComfyUIï¼‰ã€‚
*   **å®Œæˆå†…å®¹**:
    1.  **ç‰©ç†ç§»åŠ¨**: åˆ›å»º `plugins/official/novel-to-video/` å®Œæ•´ç›®å½•ç»“æ„ âœ…
    2.  **ä¾èµ–æ³¨å…¥**: 5ä¸ªä¸šåŠ¡æœåŠ¡ç§»åŠ¨åˆ°æ’ä»¶ç›®å½•ï¼Œé€šè¿‡ PluginContext ä¾èµ–æ³¨å…¥ âœ…
    3.  **API è¾¹ç•Œ**: æ‰€æœ‰æ’ä»¶ä»£ç ä»…ä½¿ç”¨ `@matrix/sdk` å…¬å…±API âœ…
    4.  **MCP å·¥å…·å°è£…**:
        - å®ç° `FFmpegTool.ts` (240è¡Œ) - 7ç§æ“ä½œ âœ…
        - å®ç° `ComfyUITool.ts` (277è¡Œ) - 6ç§å·¥ä½œæµ âœ…
    5.  **æ„å»ºé…ç½®**: å®Œæ•´çš„ package.json, tsconfig.json, manifest.json âœ…
*   **éªŒè¯**: æ’ä»¶ç‰©ç†éš”ç¦»ï¼ŒAPIè¾¹ç•Œæ¸…æ™°

### [x] [H04] UI ç»„ä»¶ä¸äº¤äº’åè®® (UI/UX Standardization) âœ…
*   **èƒŒæ™¯**: 5 ä¸ªä¸šåŠ¡é¢æ¿ (`ChapterSplitPanel` ç­‰) å¯èƒ½åŒ…å«æ— æ³•å¤ç”¨çš„ç§æœ‰ UI é€»è¾‘ã€‚
*   **å®Œæˆå†…å®¹**:
    1.  **é€šç”¨ç»„ä»¶**: å®ç° `PanelBase.tsx` (150è¡Œ), `ListSection.tsx` (150è¡Œ) âœ…
    2.  **åŠ¨æ€é¢æ¿åè®®**: å®ç° `PluginPanelProtocol` (250è¡Œ) - JSONé…ç½®åè®® âœ…
    3.  **è‡ªåŠ¨æ¸²æŸ“å™¨**: å®ç° `PluginPanelRenderer.tsx` (300è¡Œ) âœ…
    4.  **è‡ªå®šä¹‰è§†å›¾**: å®ç° `CustomView` æ¥å£ (200è¡Œ), `ViewContainer.tsx` (150è¡Œ) âœ…
*   **æˆæœ**: æ”¯æŒ3ç§UIå¼€å‘æ–¹å¼ï¼ˆJSONé…ç½®ã€Reactç»„ä»¶ã€æ··åˆæ¨¡å¼ï¼‰

### [x] [H05] å¼€å‘è€…ä½“éªŒæ–‡æ¡£ (DX & Demo) âœ…
*   **å®Œæˆå†…å®¹**:
    1.  **æºç æ³¨é‡Š**: æ’ä»¶å…¥å£æ–‡ä»¶æ·»åŠ 60+è¡Œè¯¦ç»†æ³¨é‡Š âœ…
    2.  **è„šæ‰‹æ¶æ¨¡æ¿**: åˆ›å»º `templates/plugin/` å®Œæ•´æ¨¡æ¿ï¼ˆ8ä¸ªæ–‡ä»¶ï¼‰âœ…
    3.  **å¼€å‘è€…æŒ‡å—**: ç¼–å†™ `docs/07-plugin-development-guide.md` (600è¡Œ) âœ…
    4.  **æ€»ç»“æŠ¥å‘Š**: ç¼–å†™ `docs/PHASE7_SUMMARY.md` å®Œæ•´æ€»ç»“ âœ…
*   **æˆæœ**: 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹ï¼Œå®Œæ•´çš„APIå‚è€ƒå’Œç¤ºä¾‹ä»£ç  

------

## ğŸ¨ Phase 8: UI è®¾è®¡ç³»ç»Ÿè¿ç§»ä¸ä¸‰æ å¸ƒå±€å®ç° (v0.3.0æ ¸å¿ƒåŠŸèƒ½)
**ç›®æ ‡**: åº”ç”¨ V2 è®¾è®¡è§„èŒƒï¼Œå®ç° WorkflowExecutor å®Œæ•´ä¸‰æ å¸ƒå±€ä¸äº¤äº’æ§ä»¶
**çŠ¶æ€**: ğŸ”„ è¿›è¡Œä¸­ (Sprint 1: âœ… 100% å®Œæˆ)
**å½“å‰ç‰ˆæœ¬**: v0.2.9.6
**åŸºå‡†æ–‡æ¡£**: `docs/08-ui-design-specification-v1.0.0.md`, `plans/ui-optimization-plan.md`
**å‚è€ƒå®ç°æ ‡å‡†** (é‡è¦):
- **ä¸»é¢˜ç³»ç»Ÿ**: `src/renderer/pages/about/ThemeShowcase.tsx` - OKLCHè‰²å½©ã€å­—ä½“ã€åœ†è§’è§„èŒƒ
- **ç»„ä»¶åº“**: `src/renderer/pages/demo/UIDemo.tsx` - Buttonã€Cardã€Inputã€Badgeã€Iconsç­‰æ ‡å‡†å®ç°
**ç‰ˆæœ¬**: v0.3.0-ui-upgrade

### [âœ…] [H01] Sprint 1: æ ¸å¿ƒé¡µé¢ V2 è®¾è®¡è¿ç§» (100% å®Œæˆ)
*   **ç›®æ ‡**: å…¨å±€åº”ç”¨ V2 èµ›åšæœ‹å…‹æš—é»‘ä¸»é¢˜ï¼Œå®ç°ä¾§è¾¹æ æ”¶ç¼©æ§åˆ¶
*   **å‚è€ƒ**: `docs/08-ui-design-specification-v1.0.0.md`
*   **ä»»åŠ¡æ¸…å•**:
    - [x] **[H1.1]** åˆ é™¤å†—ä½™ Projects é¡µé¢ âœ… v0.2.9.6
        - åˆ é™¤ `src/renderer/pages/projects/Projects.tsx`
        - åˆ é™¤ `App.tsx` ä¸­çš„ `/projects` è·¯ç”±
        - **éªŒæ”¶**: åº”ç”¨å¯åŠ¨æ— æŠ¥é”™ï¼Œè·¯ç”±è¡¨å¹²å‡€

    - [x] **[H1.2]** å…¨å±€æ ·å¼æ–‡ä»¶æ›´æ–° âœ… v0.2.9.6
        - åˆ›å»º `src/renderer/styles/globals.css`ï¼ˆOKLCHè‰²å½©ç³»ç»Ÿï¼‰
        - ä» `docs/references/UI/V2/app/globals.css` è¿ç§»æ‰€æœ‰CSSå˜é‡
        - é…ç½®è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼
        - åœ¨ `index.html` æ·»åŠ  Google Fontsï¼ˆInter + JetBrains Monoï¼‰
        - **å‚è€ƒ**: `ThemeShowcase.tsx` colorTokens/chartColors/sidebarColors æ•°ç»„å®šä¹‰
        - **éªŒæ”¶**: é¡µé¢èƒŒæ™¯å˜ä¸º `oklch(0.12 0 0)`ï¼Œå­—ä½“åº”ç”¨ Inter

    - [x] **[H1.3]** WindowBar V2 è¿ç§» + ä¾§è¾¹æ æ”¶ç¼©æŒ‰é’® âœ… v0.2.9.6
        - åº”ç”¨ V2 Header è®¾è®¡ï¼ˆh-14 / 56pxï¼‰
        - æ·»åŠ å·¦ä¾§æ”¶ç¼©æŒ‰é’®ï¼ˆ`PanelLeftOpen/Close` å›¾æ ‡ï¼‰
        - åˆ›å»º SidebarContext å…¨å±€çŠ¶æ€ç®¡ç†
        - é›†æˆ Framer Motion å¼¹ç°§åŠ¨ç”»
        - **å‚è€ƒ**: `UIDemo.tsx` Buttonç»„ä»¶ï¼ˆsize="icon"å˜ä½“ï¼‰
        - **éªŒæ”¶**: æŒ‰é’®å¯è§ï¼Œç‚¹å‡»è§¦å‘ä¾§è¾¹æ æ”¶ç¼©ï¼ˆåŠ¨ç”»æµç•…ï¼‰

    - [x] **[H1.4]** GlobalNav V2 è¿ç§»ï¼ˆå¯æ”¶ç¼©ï¼‰âœ… v0.2.9.6
        - åº”ç”¨ V2 Sidebar è®¾è®¡ï¼ˆw-64 / 256pxï¼Œbg-sidebarï¼‰
        - æ”¯æŒæ”¶ç¼©çŠ¶æ€ï¼ˆwidth: 0ï¼Œopacity: 0ï¼‰
        - é›†æˆ Framer Motion å¼¹ç°§åŠ¨ç”»ï¼ˆdamping: 25, stiffness: 300ï¼‰
        - **å‚è€ƒ**: `ThemeShowcase.tsx` sidebarColors è‰²å½©å®šä¹‰
        - **éªŒæ”¶**: ä¾§è¾¹æ æ ·å¼ç¬¦åˆè§„èŒƒï¼Œæ”¶ç¼©åŠ¨ç”»æµç•…

    - [x] **[H1.5]** Dashboard V2 è¿ç§» âœ… v0.2.9.6
        - é¡¹ç›®å¡ç‰‡åº”ç”¨ V2 SceneCard é£æ ¼
        - ä½¿ç”¨ Framer Motion æ‚¬åœåŠ¨ç”»ï¼ˆscale: 1.02ï¼‰
        - **å‚è€ƒ**: `UIDemo.tsx` Cardç»„ä»¶ï¼ˆCardHeader/CardContent/CardFooterç»“æ„ï¼‰
        - **éªŒæ”¶**: å¡ç‰‡åœ†è§’ 8pxï¼Œæ‚¬åœæœ‰ç¼©æ”¾æ•ˆæœ

    - [x] **[H1.6]** Assets å·¦ä¾§åˆ†ç±»å¯¼èˆª âœ… v0.2.9.6
        - åˆ›å»ºå·¦ä¾§ Sidebarï¼ˆw-64ï¼‰ï¼ŒåŒ…å«èµ„äº§ç±»å‹åˆ†ç±»æ ‘
        - å®ç°ä½œç”¨åŸŸåˆ‡æ¢ï¼ˆå…¨å±€/é¡¹ç›®èµ„æºï¼‰
        - åˆ†ç±»é¡¹ï¼šæ–‡æœ¬ğŸ“ã€å›¾åƒğŸ–¼ï¸ã€éŸ³é¢‘ğŸµã€è§†é¢‘ğŸ¬ã€è„šæœ¬ğŸ“œ
        - **éªŒæ”¶**: ç‚¹å‡»åˆ†ç±»è¿‡æ»¤èµ„äº§ï¼Œä½œç”¨åŸŸåˆ‡æ¢æ­£å¸¸

    - [x] **[H1.7]** Workflows è§†å›¾åˆ‡æ¢æŒ‰é’® âœ… v0.2.9.6
        - æ·»åŠ  `Grid3x3` / `List` å›¾æ ‡æŒ‰é’®ç»„
        - æ·»åŠ å…¨å±åˆ‡æ¢æŒ‰é’®ï¼ˆ`Maximize2`ï¼‰
        - **å‚è€ƒ**: `UIDemo.tsx` Buttonï¼ˆvariantåˆ‡æ¢ï¼‰å’ŒIconsï¼ˆlucide-reactå›¾æ ‡ï¼‰
        - **éªŒæ”¶**: æŒ‰é’®å¯è§ï¼Œåˆ‡æ¢åŠŸèƒ½æ­£å¸¸

    - [x] **[H1.8]** ProgressOrb çŠ¶æ€çƒç»„ä»¶ âœ… v0.2.9.6
        - åˆ›å»º `src/renderer/components/common/ProgressOrb.tsx`
        - å®ç° SVG åœ†ç¯è¿›åº¦ï¼ˆ64x64pxï¼‰
        - ä¸­å¿ƒæ˜¾ç¤ºé˜Ÿåˆ—æ•°ï¼Œå¤–åœˆæ˜¾ç¤ºè¿›åº¦ç™¾åˆ†æ¯”
        - ç”Ÿæˆæ—¶æ’­æ”¾è„‰åŠ¨åŠ¨ç”»
        - å›ºå®šå®šä½ï¼š`fixed bottom-6 right-6`
        - **å‚è€ƒ**: `ThemeShowcase.tsx` primaryè‰²å½©ï¼ˆç”µç»¿ oklch(0.85 0.22 160)ï¼‰
        - **éªŒæ”¶**: çŠ¶æ€çƒæ˜¾ç¤ºåœ¨å³ä¸‹è§’ï¼Œæ•°å­—å’Œåœ†ç¯æ­£å¸¸æ¸²æŸ“

    - [x] **[H1.9]** ä¾§è¾¹æ æ”¶ç¼©å¿«æ·é”® âœ… v0.2.9.6
        - å®ç° `Ctrl+B`ï¼ˆåˆ‡æ¢å·¦ä¾§è¾¹æ ï¼‰
        - å®ç° `Ctrl+Alt+B`ï¼ˆåˆ‡æ¢å³ä¾§è¾¹æ ï¼‰
        - å®ç° `Ctrl+\`ï¼ˆåˆ‡æ¢å·¦ä¾§è¾¹æ å¤‡é€‰ï¼‰
        - ä½¿ç”¨åŸç”Ÿ keyboard events å¤„ç†
        - **éªŒæ”¶**: å¿«æ·é”®ç”Ÿæ•ˆï¼Œä¾§è¾¹æ æ”¶ç¼©/å±•å¼€æ­£å¸¸
*   **é‡Œç¨‹ç¢‘**: æ‰€æœ‰é¡µé¢åº”ç”¨ V2 è®¾è®¡é£æ ¼ï¼Œä¾§è¾¹æ å¯æ”¶ç¼©

### [*] [H02] Sprint 2: ä¸‰æ å¸ƒå±€ä¸åŠŸèƒ½è¡¥é½ 
*   **ç›®æ ‡**: å®ç° WorkflowExecutor å®Œæ•´ä¸‰æ å¸ƒå±€ï¼ˆå·¦é¡¹ç›®æ ‘ + ä¸­å†…å®¹åŒº + å³å±æ€§é¢æ¿ï¼‰
*   **å‚è€ƒ**: `plans/ui-optimization-plan.md` Phase 1.4
*   **ä»»åŠ¡æ¸…å•**:
    - [*] **[H2.1]** WorkflowExecutor ä¸‰æ å¸ƒå±€é‡æ„
        - ä¿®æ”¹ `WorkflowExecutor.tsx`ï¼Œå®ç°å·¦ä¸­å³ä¸‰æ å¸ƒå±€
        - å·¦ä¾§ï¼šé¡¹ç›®èµ„æºæ ‘ï¼ˆå¯æ”¶ç¼©ï¼Œå®½åº¦ 256pxï¼‰
        - ä¸­é—´ï¼šå·¥ä½œæµæ­¥éª¤å†…å®¹åŒºï¼ˆflex-1ï¼‰
        - å³ä¾§ï¼šå±æ€§é¢æ¿ï¼ˆå¯æ”¶ç¼©ï¼Œå®½åº¦ 320pxï¼‰
        - **éªŒæ”¶**: ä¸‰æ å¸ƒå±€æ¸²æŸ“æ­£å¸¸ï¼Œæ¯”ä¾‹åè°ƒ

    - [*] **[H2.2]** RightSettingsPanel å³ä¾§å±æ€§é¢æ¿
        - åˆ›å»º `src/renderer/components/workflow/RightSettingsPanel.tsx`
        - å®ç° Tab åˆ‡æ¢ï¼šã€å±æ€§ã€‘|ã€å·¥å…·ã€‘
        - å®ç°æ£€æŸ¥å™¨åŒºåŸŸï¼ˆæ˜¾ç¤ºå½“å‰é€‰ä¸­é¡¹ä¿¡æ¯ï¼‰
        - å®ç° Prompt ç¼–è¾‘å™¨ï¼ˆTextareaï¼Œh-24ï¼‰
        - å®ç°ç”Ÿæˆè®¾ç½®è¡¨å•ï¼ˆæ¨¡å‹ã€æ­¥æ•°ã€CFGã€ç§å­ï¼‰
        - å®ç°å…³è”èµ„äº§æ˜¾ç¤ºï¼ˆTag åˆ—è¡¨ï¼‰
        - å®ç°åº•éƒ¨ç»¿è‰²"ç”Ÿæˆ (GENERATE)"æŒ‰é’®ï¼ˆw-full, size-lgï¼‰
        - **å‚è€ƒ**: `UIDemo.tsx` Tabs/Input/Label/Buttonç»„ä»¶ï¼ˆå®Œæ•´è¡¨å•å®ç°ç¤ºä¾‹ï¼‰
        - **éªŒæ”¶**: é¢æ¿å®Œæ•´æ˜¾ç¤ºï¼Œå­—æ®µå¯ç¼–è¾‘ï¼ŒæŒ‰é’®å¯ç‚¹å‡»

    - [*] **[H2.3]** è§†å›¾æ¨¡å¼åˆ‡æ¢ï¼ˆå¡ç‰‡/åˆ—è¡¨ï¼‰
        - åˆ›å»º `SceneCardGrid.tsx`ï¼ˆå¡ç‰‡ç½‘æ ¼è§†å›¾ï¼Œgrid-cols-1/2/3ï¼‰
        - åˆ›å»º `SceneListView.tsx`ï¼ˆåˆ—è¡¨è§†å›¾ï¼Œç´§å‡‘è¡Œå¸ƒå±€ï¼‰
        - å®ç°è§†å›¾åˆ‡æ¢æŒ‰é’®é€»è¾‘ï¼ˆGrid3x3 / Listï¼‰
        - å®ç°ç”¨æˆ·åå¥½æŒä¹…åŒ–ï¼ˆlocalStorageï¼‰
        - **å‚è€ƒ**: `UIDemo.tsx` Cardç»„ä»¶å’ŒButtonçŠ¶æ€åˆ‡æ¢ç¤ºä¾‹
        - **éªŒæ”¶**: ä¸¤ç§è§†å›¾æ­£å¸¸åˆ‡æ¢ï¼Œåˆ·æ–°åä¿æŒä¸Šæ¬¡é€‰æ‹©

    - [*] **[H2.4]** å³ä¾§é¢æ¿ä¸å¡ç‰‡è”åŠ¨
        - ç‚¹å‡»åˆ†é•œå¡ç‰‡æ—¶ï¼Œå³ä¾§é¢æ¿æ˜¾ç¤ºå…¶è¯¦ç»†ä¿¡æ¯
        - ä¿®æ”¹ Prompt/å‚æ•°åï¼Œæ•°æ®åŒæ­¥åˆ°çŠ¶æ€
        - æ”¯æŒæ‰¹é‡é€‰ä¸­ï¼ˆShift/Ctrlç‚¹å‡»ï¼‰
        - **éªŒæ”¶**: ç‚¹å‡»å¡ç‰‡ï¼Œå³ä¾§é¢æ¿ç«‹å³æ›´æ–°

    - [*] **[H2.5]** å®ç° ChapterSplitPanel ä¸šåŠ¡é€»è¾‘
        - å®ç°å°è¯´æ–‡ä»¶ä¸Šä¼ ï¼ˆtxt/docxï¼‰
        - å®ç° AI ç« èŠ‚è¯†åˆ«ï¼ˆè°ƒç”¨ ChapterServiceï¼‰
        - å®ç°ç« èŠ‚åˆ—è¡¨å±•ç¤ºï¼ˆå¯ç¼–è¾‘æ ‡é¢˜ï¼‰
        - å®ç°"ä¸‹ä¸€æ­¥"æŒ‰é’®ï¼ˆä¿å­˜æ•°æ®ï¼Œè·³è½¬ä¸‹ä¸€é¢æ¿ï¼‰
        - **éªŒæ”¶**: ä¸Šä¼ å°è¯´åè‡ªåŠ¨æ‹†åˆ†ç« èŠ‚ï¼Œå¯æ‰‹åŠ¨è°ƒæ•´

    - [*] **[H2.6]** å®ç° SceneCharacterPanel ä¸šåŠ¡é€»è¾‘
        - å®ç°åœºæ™¯å¡ç‰‡ç½‘æ ¼å±•ç¤º
        - å®ç°è§’è‰²ç®¡ç†ï¼ˆæ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤ï¼‰
        - è°ƒç”¨åç«¯æœåŠ¡æå–åœºæ™¯å’Œè§’è‰²
        - **éªŒæ”¶**: æ˜¾ç¤ºåœºæ™¯åˆ—è¡¨ï¼Œè§’è‰²å¯ç®¡ç†

    - [*] **[H2.7]** å®ç° StoryboardPanel ä¸šåŠ¡é€»è¾‘
        - å®ç°åˆ†é•œå¡ç‰‡/åˆ—è¡¨åŒè§†å›¾
        - å®ç°"é‡ç”Ÿæˆ"æŒ‰é’®ï¼ˆå•ä¸ªåˆ†é•œï¼‰
        - é›†æˆå³ä¾§å±æ€§é¢æ¿ï¼ˆç¼–è¾‘ Promptï¼‰
        - è°ƒç”¨åç«¯ç”Ÿæˆåˆ†é•œå›¾ï¼ˆComfyUIï¼‰
        - **éªŒæ”¶**: åˆ†é•œå¯ç”Ÿæˆï¼Œå¯ç¼–è¾‘ï¼Œæ”¯æŒä¸¤ç§è§†å›¾

    - [*] **[H2.8]** å®ç° VoiceoverPanel ä¸šåŠ¡é€»è¾‘
        - å®ç°æ—ç™½åˆ—è¡¨å±•ç¤º
        - å®ç°éŸ³è‰²é€‰æ‹©ä¸‹æ‹‰æ¡†
        - å®ç°è¯•å¬æŒ‰é’®ï¼ˆæ’­æ”¾éŸ³é¢‘ï¼‰
        - è°ƒç”¨åç«¯ TTS æœåŠ¡ç”ŸæˆéŸ³é¢‘
        - **éªŒæ”¶**: å¯ç”Ÿæˆé…éŸ³ï¼Œå¯è¯•å¬
*   **é‡Œç¨‹ç¢‘**: WorkflowExecutor ä¸‰æ å¸ƒå±€å®Œæ•´ï¼Œ5 ä¸ªé¢æ¿åŠŸèƒ½å¯ç”¨

### [*] [H03] Sprint 3: äº¤äº’ä¼˜åŒ–ä¸æµ‹è¯•
*   **ç›®æ ‡**: å®Œå–„äº¤äº’ç»†èŠ‚ï¼Œæ·»åŠ åŠ¨ç”»ï¼Œè¿›è¡Œå…¨é¢æµ‹è¯•
*   **ä»»åŠ¡æ¸…å•**:
    - [*] **[H3.1]** ProgressOrb ç‚¹å‡»å±•å¼€ä»»åŠ¡åˆ—è¡¨
        - å®ç°ä»»åŠ¡åˆ—è¡¨åº•éƒ¨æŠ½å±‰ï¼ˆSheet ç»„ä»¶ï¼‰
        - æ˜¾ç¤ºæ‰€æœ‰é˜Ÿåˆ—ä»»åŠ¡ã€è¿›åº¦ã€é¢„è®¡æ—¶é—´
        - æ”¯æŒå–æ¶ˆ/é‡è¯•å•ä¸ªä»»åŠ¡
        - **éªŒæ”¶**: ç‚¹å‡»çŠ¶æ€çƒï¼ŒæŠ½å±‰å¼¹å‡ºï¼Œä»»åŠ¡åˆ—è¡¨å®Œæ•´

    - [*] **[H3.2]** Framer Motion åŠ¨ç”»å…¨å±€åº”ç”¨
        - å¡ç‰‡æ‚¬åœåŠ¨ç”»ï¼ˆwhileHover: scale 1.02ï¼‰
        - ä¾§è¾¹æ å±•å¼€åŠ¨ç”»ï¼ˆå¼¹ç°§å‚æ•°ï¼šdamping 25, stiffness 300ï¼‰
        - æ¨¡æ€æ¡†å¼¹å‡ºåŠ¨ç”»ï¼ˆinitial: opacity 0, scale 0.95ï¼‰
        - é€‰é¡¹å¡åˆ‡æ¢åŠ¨ç”»ï¼ˆlayoutId="activeTab"ï¼‰
        - **å‚è€ƒ**: `ThemeShowcase.tsx` Tabåˆ‡æ¢åŠ¨ç”»å®ç°
        - **éªŒæ”¶**: æ‰€æœ‰åŠ¨ç”»æµç•…ï¼Œå‚æ•°ç¬¦åˆè§„èŒƒ

    - [*] **[H3.3]** é”®ç›˜å¿«æ·é”®å®Œå–„
        - `Ctrl+Shift+G`: åˆ‡æ¢è§†å›¾æ¨¡å¼ï¼ˆå¡ç‰‡/åˆ—è¡¨ï¼‰
        - `F11`: å…¨å±åˆ‡æ¢
        - `Ctrl+N`: æ–°å»ºé¡¹ç›®
        - `Ctrl+,`: æ‰“å¼€è®¾ç½®
        - **éªŒæ”¶**: æ‰€æœ‰å¿«æ·é”®ç”Ÿæ•ˆ

    - [*] **[H3.4]** UI ä¸€è‡´æ€§æ£€æŸ¥
        - æ£€æŸ¥æ‰€æœ‰é¡µé¢è‰²å½©ç¬¦åˆ `08-ui-design-specification-v1.0.0.md`
        - æ£€æŸ¥å­—ä½“ç»Ÿä¸€ä½¿ç”¨ Inter / JetBrains Mono
        - æ£€æŸ¥é—´è·ç»Ÿä¸€ä½¿ç”¨ 4px åŸºå‡†ï¼ˆgap-1/2/3/4ï¼‰
        - æ£€æŸ¥åœ†è§’ç»Ÿä¸€ä½¿ç”¨ 8px åŸºå‡†ï¼ˆrounded-lgï¼‰
        - **éªŒæ”¶**: æ— è§†è§‰ä¸ä¸€è‡´é—®é¢˜

    - [*] **[H3.5]** æ€§èƒ½ä¼˜åŒ–
        - å®ç°èµ„äº§ç½‘æ ¼æ‡’åŠ è½½ï¼ˆreact-window æˆ– react-virtualizedï¼‰
        - ä¼˜åŒ–å›¾ç‰‡åŠ è½½ï¼ˆWebP æ ¼å¼ + å ä½ç¬¦ï¼‰
        - ä¼˜åŒ–åŠ¨ç”»æ€§èƒ½ï¼ˆä½¿ç”¨ transform ä»£æ›¿ left/topï¼‰
        - **éªŒæ”¶**: å¤§é‡èµ„äº§åŠ è½½æµç•…ï¼Œæ— å¡é¡¿

    - [*] **[H3.6]** æ— éšœç¢æµ‹è¯•
        - ä¸ºæ‰€æœ‰å›¾æ ‡æŒ‰é’®æ·»åŠ  `aria-label`
        - æµ‹è¯•é”®ç›˜å¯¼èˆªï¼ˆTab / Enter / Escapeï¼‰
        - æµ‹è¯•å±å¹•é˜…è¯»å™¨å…¼å®¹æ€§
        - **éªŒæ”¶**: ç¬¦åˆ WCAG 2.1 AA çº§æ ‡å‡†
*   **é‡Œç¨‹ç¢‘**: UI/UX æ‰“ç£¨å®Œæˆï¼Œäº¤äº’ç»†èŠ‚å®Œå–„

### ğŸ“‹ Phase 8 éªŒæ”¶æ ‡å‡†
- [ ] **åŠŸèƒ½å®Œæ•´æ€§**
    - [ ] WorkflowExecutor ä¸‰æ å¸ƒå±€å®Œæ•´ï¼ˆå·¦é¡¹ç›®æ ‘ + ä¸­å†…å®¹åŒº + å³å±æ€§é¢æ¿ï¼‰
    - [ ] å³ä¾§å±æ€§é¢æ¿åŠŸèƒ½å®Œæ•´ï¼ˆæ£€æŸ¥å™¨ã€Promptã€ç”Ÿæˆè®¾ç½®ã€å…³è”èµ„äº§ï¼‰
    - [ ] çŠ¶æ€çƒæ­£å¸¸å·¥ä½œï¼ˆæ˜¾ç¤ºé˜Ÿåˆ—æ•°ã€è¿›åº¦åœ†ç¯ã€ç‚¹å‡»å±•å¼€ä»»åŠ¡åˆ—è¡¨ï¼‰
    - [ ] ä¾§è¾¹æ æ”¶ç¼©åŠŸèƒ½ï¼ˆå·¦å³ä¾§ç‹¬ç«‹æ§åˆ¶ï¼ŒåŠ¨ç”»æµç•…ï¼Œå¿«æ·é”®æœ‰æ•ˆï¼‰
    - [ ] è§†å›¾æ¨¡å¼åˆ‡æ¢ï¼ˆå¡ç‰‡/åˆ—è¡¨ä¸¤ç§å¸ƒå±€ï¼Œç”¨æˆ·åå¥½æŒä¹…åŒ–ï¼‰
    - [ ] 5 ä¸ªå·¥ä½œæµé¢æ¿ä¸šåŠ¡é€»è¾‘å®Œæ•´
- [ ] **UI è§„èŒƒç¬¦åˆæ€§**
    - [ ] è‰²å½©ç³»ç»Ÿç¬¦åˆ `08-ui-design-specification-v1.0.0.md`ï¼ˆOKLCHè‰²å½©ç©ºé—´ï¼‰
    - [ ] å­—ä½“ä½¿ç”¨ Interï¼ˆä¸»å­—ä½“ï¼‰+ JetBrains Monoï¼ˆç­‰å®½ï¼‰
    - [ ] æ‰€æœ‰åŠ¨ç”»ä½¿ç”¨ Framer Motionï¼ˆå¼¹ç°§å‚æ•°ï¼šdamping 25, stiffness 300ï¼‰
    - [ ] å›¾æ ‡ç»Ÿä¸€ä½¿ç”¨ lucide-react
    - [ ] åœ†è§’ 8pxã€é—´è· 4px åŸºå‡†ã€æŒ‰é’®é«˜åº¦ 32/40/48px
    - [ ] å¯¹æ¯”åº¦æ»¡è¶³ WCAG 2.1 AAA çº§ï¼ˆæ­£æ–‡ 7:1ï¼‰
- [ ] **ä»£ç è´¨é‡**
    - [ ] TypeScript ä¸¥æ ¼æ¨¡å¼é€šè¿‡ï¼ˆ0 é”™è¯¯ï¼‰
    - [ ] ESLint 0 é”™è¯¯
    - [ ] ç»„ä»¶ç±»å‹å®šä¹‰å®Œæ•´ï¼ˆProps æ¥å£æ¸…æ™°ï¼‰
    - [ ] æ—  console.log æ®‹ç•™
    - [ ] æ³¨é‡Šå®Œæ•´ï¼ˆä¸­æ–‡ï¼‰
- [ ] **æ€§èƒ½æŒ‡æ ‡**
    - [ ] é¡µé¢åŠ è½½ < 1s
    - [ ] èµ„äº§ç½‘æ ¼æ¸²æŸ“ 1000+ é¡¹æ— å¡é¡¿
    - [ ] åŠ¨ç”»å¸§ç‡ > 60fps
    - [ ] å†…å­˜å ç”¨å¢é•¿ < 50MB

---

## ğŸ“‹ Phase 9: æ ¸å¿ƒåŠŸèƒ½è¡¥é½ä¸æ¶æ„ä¼˜åŒ– (v0.2.9.8-v0.3.5)
**ç›®æ ‡**: ä¿®å¤æ ¸å¿ƒæ¶æ„é—®é¢˜ã€å®Œå–„å·¥ä½œæµäº¤äº’ã€é‡æ„API Provideræ¶æ„ã€è¡¥å……èŠ‚ç‚¹ç¼–è¾‘å™¨ã€è¡¥é½ä¸šåŠ¡é€»è¾‘
**çŠ¶æ€**: ğŸ”„ è¿›è¡Œä¸­
**å‚è€ƒ**: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (è¯¦ç»†èƒŒæ™¯ã€ç›®çš„ã€æ–¹æ³•)
**æ€»è®¡**: 21ä¸ªä»»åŠ¡ï¼ˆæ–°å¢4ä¸ªUIä¿®æ­£ä»»åŠ¡ï¼‰
- ç¬¬é›¶é˜¶æ®µï¼ˆæ¶æ„ä¿®å¤ï¼‰: 6ä¸ªä»»åŠ¡ï¼ˆH0.1-H0.6ï¼‰
- ç¬¬ä¸€é˜¶æ®µï¼ˆæ ¸å¿ƒäº¤äº’+UIä¿®æ­£ï¼‰: 7ä¸ªä»»åŠ¡ï¼ˆH2.1-H2.7ï¼‰
- ç¬¬äºŒé˜¶æ®µï¼ˆAPI Provideré‡æ„ï¼‰: 3ä¸ªä»»åŠ¡ï¼ˆH2.8-H2.10ï¼‰
- ç¬¬ä¸‰é˜¶æ®µï¼ˆä¸šåŠ¡åŠŸèƒ½è¡¥é½ï¼‰: 3ä¸ªä»»åŠ¡ï¼ˆH2.11-H2.13ï¼‰
- ç¬¬å››é˜¶æ®µï¼ˆä¼˜åŒ–å’Œå®‰å…¨ï¼‰: 2ä¸ªä»»åŠ¡ï¼ˆH2.14-H2.15ï¼‰

### ğŸ”´ ç¬¬é›¶é˜¶æ®µï¼šæ ¸å¿ƒæ¶æ„ä¿®å¤ï¼ˆv0.2.9.8ï¼‰
**ä¼˜å…ˆçº§**: æœ€é«˜ - å¿…é¡»å…ˆå®Œæˆæ¶æ„ä¿®å¤ï¼Œå†è¿›è¡ŒUIä¼˜åŒ–å’ŒåŠŸèƒ½è¡¥é½

#### [*] [H0.1] é¡¹ç›®-èµ„æºç»‘å®šæ¶æ„å®ç°
*   **æ–‡ä»¶**: `src/main/services/ProjectManager.ts`, `src/shared/types/project.ts`, `src/common/types.ts`
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (A1.é¡¹ç›®ç®¡ç† - æ ¸å¿ƒæ¶æ„ç¼ºå¤±, UI-2)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-001 ProjectConfigæ‰©å±•å­—æ®µå®šä¹‰)
*   **ä»»åŠ¡å†…å®¹**:
    1.  æ‰©å±• ProjectConfig æ¥å£ï¼ˆ7ä¸ªæ–°å­—æ®µï¼šworkflowType, pluginId, status, inputAssets, outputAssets, immutableç­‰ï¼‰
    2.  å®ç°èµ„æºç»‘å®šæ–¹æ³•ï¼ˆaddInputAsset, addOutputAssetï¼‰
    3.  å®ç°å®‰å…¨åˆ é™¤æ–¹æ³•ï¼ˆdeleteProject with deleteOutputs flagï¼‰
*   **éªŒæ”¶**: é¡¹ç›®å…ƒæ•°æ®åŒ…å«èµ„æºå¼•ç”¨å…³ç³»å’Œå·¥ä½œæµç±»å‹è¯†åˆ«ï¼Œåˆ é™¤é¡¹ç›®å®‰å…¨å¯é 

#### [*] [H0.2] AssetManager é¡¹ç›®ä½œç”¨åŸŸæ”¯æŒ
*   **æ–‡ä»¶**: `src/main/services/AssetManager.ts`, `src/shared/types/asset.ts`
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (A2.èµ„æºåº“ - æ ¸å¿ƒæ¶æ„ç¼ºå¤±)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-002 AssetMetadataæ‰©å±•å­—æ®µ + æ–‡ä»¶ç»„ç»‡ç»“æ„)
*   **ä»»åŠ¡å†…å®¹**:
    1.  æ‰©å±• AssetMetadata æ¥å£ï¼ˆprojectId, isUserUploadedå­—æ®µï¼‰
    2.  ä¿®æ”¹èµ„æºä¿å­˜è·¯å¾„é€»è¾‘ï¼ˆuser_uploaded vs project_outputs/<projectId>/<YYYYMMDD>ï¼‰
    3.  æ‰©å±• `scanAssets(scope, projectId, filter)` æ”¯æŒé¡¹ç›®ä½œç”¨åŸŸ
    4.  å®ç° `getAssetReferences(assetId)` å¼•ç”¨è¿½è¸ª
*   **éªŒæ”¶**: èµ„æºå¸¦é¡¹ç›®æ ‡è®°ï¼Œå¯æŒ‰é¡¹ç›®è¿‡æ»¤ï¼Œå¯è¿½è¸ªå¼•ç”¨å…³ç³»

#### [*] [H0.3] å·¥ä½œæµå®ä¾‹ç»‘å®šé¡¹ç›®
*   **æ–‡ä»¶**: `src/main/services/WorkflowStateManager.ts`, `src/shared/types/workflow.ts`
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (A4.å·¥ä½œå° - æ ¸å¿ƒæ¶æ„ç¼ºå¤±)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-003 WorkflowStateæ¥å£å®šä¹‰)
*   **ä»»åŠ¡å†…å®¹**:
    1.  æ‰©å±• WorkflowState æ¥å£ï¼ˆæ·»åŠ å¿…å¡« projectId å­—æ®µï¼‰
    2.  ä¿®æ”¹ `createInstance(type, projectId)` æ–¹æ³•ç­¾å
    3.  å·¥ä½œæµä¿å­˜çŠ¶æ€æ—¶è®°å½• projectIdï¼Œç¡®ä¿éç©ºæ ¡éªŒ
*   **éªŒæ”¶**: å·¥ä½œæµå®ä¾‹å¿…é¡»ç»‘å®šé¡¹ç›®ï¼Œç”Ÿæˆèµ„æºè‡ªåŠ¨å½’æ¡£

#### [*] [H0.4] å‰ç«¯é¡¹ç›®é€‰æ‹©æµç¨‹
*   **æ–‡ä»¶**: `src/renderer/pages/workflows/Workflows.tsx`, `src/renderer/components/workflow/ProjectSelectorDialog.tsx` (æ–°å»º)
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (A4.å·¥ä½œå° - æ ¸å¿ƒæ¶æ„ç¼ºå¤±)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-004 é¡¹ç›®é€‰æ‹©å¯¹è¯æ¡†UIå®ç°)
*   **ä»»åŠ¡å†…å®¹**:
    1.  åˆ›å»º ProjectSelectorDialog ç»„ä»¶ï¼ˆå«å·²æœ‰é¡¹ç›®åˆ—è¡¨ + æ–°å»ºè¡¨å•ï¼‰
    2.  é›†æˆåˆ° Workflows.tsxï¼ˆç‚¹å‡»æ¨¡æ¿ â†’ å¼¹å‡ºå¯¹è¯æ¡† â†’ åˆ›å»ºå®ä¾‹ï¼‰
    3.  å®ç°é¡¹ç›®ç­›é€‰é€»è¾‘ï¼ˆæŒ‰workflowTypeå’ŒpluginIdï¼‰
*   **éªŒæ”¶**: åˆ›å»ºå·¥ä½œæµå‰å¿…é¡»é€‰æ‹©æˆ–åˆ›å»ºé¡¹ç›®

#### [*] [H0.5] Assetsé¡µé¢é¡¹ç›®å¯¼èˆª
*   **æ–‡ä»¶**: `src/renderer/pages/assets/Assets.tsx`
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (A2.èµ„æºåº“ - æ ¸å¿ƒæ¶æ„ç¼ºå¤±)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-002 AssetManageræ‰©å±•æ–¹æ³•)
*   **ä»»åŠ¡å†…å®¹**:
    1.  å·¦ä¾§å¯¼èˆªå¢åŠ "é¡¹ç›®"åˆ†ç±»æ ‘ï¼ˆæ ‘å½¢å±•ç¤ºæ‰€æœ‰é¡¹ç›®ï¼‰
    2.  ç‚¹å‡»é¡¹ç›®èŠ‚ç‚¹è°ƒç”¨ `scanAssets('project', projectId)` è¿‡æ»¤èµ„æº
    3.  èµ„äº§é¢„è§ˆç•Œé¢æ˜¾ç¤º"è¢« X ä¸ªé¡¹ç›®å¼•ç”¨"ï¼ˆè°ƒç”¨getAssetReferencesï¼‰
*   **éªŒæ”¶**: å¯æŒ‰é¡¹ç›®è¿‡æ»¤èµ„æºï¼ŒæŸ¥çœ‹å¼•ç”¨å…³ç³»

#### [*] [H0.6] IPCé€šé“æ‰©å±•
*   **æ–‡ä»¶**: `src/main/ipc/`, `src/preload/index.ts`
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (A1/A2/A4 IPCé€šä¿¡æ‰©å±•)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-001/002/003 æœåŠ¡æ–¹æ³•ç­¾å)
*   **ä»»åŠ¡å†…å®¹**:
    1.  æ–°å¢4ä¸ªIPCé€šé“å¤„ç†å™¨ï¼ˆproject:add-input-asset, project:add-output-asset, asset:get-referencesï¼‰
    2.  ä¿®æ”¹ `workflow:create-instance` å¤„ç†å™¨ï¼ˆå¢åŠ  projectId å‚æ•°æ ¡éªŒï¼‰
    3.  æ›´æ–° `src/preload/index.ts` æš´éœ²æ–°APIåˆ° window.electronAPI
*   **éªŒæ”¶**: å‰ç«¯å¯è°ƒç”¨é¡¹ç›®-èµ„æºç»‘å®šç›¸å…³APIï¼ŒTypeScriptç±»å‹å®Œæ•´

---

### ğŸ”¹ ç¬¬ä¸€é˜¶æ®µï¼šæ ¸å¿ƒäº¤äº’å®Œå–„ï¼ˆv0.2.9.9ï¼‰

#### [x] [H2.1] WorkflowHeader ç»Ÿä¸€å¤´éƒ¨ç»„ä»¶ï¼ˆUI-1ï¼‰
*   **æ–‡ä»¶**: `src/renderer/components/workflow/WorkflowHeader.tsx` (æ–°å»º), `WorkflowHeader.css` (æ–°å»º)
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (UI-1)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-005 WorkflowHeaderç»„ä»¶å®Œæ•´å®ç°)
*   **ä»»åŠ¡å†…å®¹**:
    1.  åˆ›å»ºå®Œæ•´çš„WorkflowHeaderç»„ä»¶ï¼ˆå«6ä¸ªäº¤äº’æ§ä»¶ï¼šå·¦ä¾§æ”¶ç¼©ã€é¡¹ç›®ä¸‹æ‹‰ã€æ ‡é¢˜ã€æ­¥éª¤æ¡ã€å…³é—­å…¨éƒ¨ã€å³ä¾§æ”¶ç¼©ï¼‰
    2.  å®ç°æ­¥éª¤æ¡ç‚¹å‡»é€»è¾‘ï¼ˆå‚è€ƒREF-006ï¼‰
    3.  é›†æˆåˆ° WorkflowExecutor.tsx æ›¿æ¢ç°æœ‰å¤´éƒ¨
*   **éªŒæ”¶**: å¤´éƒ¨å¸ƒå±€ç»Ÿä¸€ï¼Œé¡¹ç›®å¯åˆ‡æ¢ï¼Œæ­¥éª¤æ¡å¯ç‚¹å‡»ï¼Œä¾§æ æ§åˆ¶æŒ‰é’®ç”Ÿæ•ˆ

#### [x] [H2.2] WorkflowExecutor å³ä¾§å±æ€§é¢æ¿è”åŠ¨ä¸å¢å¼ºï¼ˆUI-4ï¼‰
*   **æ–‡ä»¶**: `src/renderer/pages/workflows/WorkflowExecutor.tsx`, `src/renderer/components/workflow/RightSettingsPanel.tsx`
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (A4.å·¥ä½œå° ç« èŠ‚, UI-4)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-005 WorkflowHeaderç»„ä»¶å«è”åŠ¨é€»è¾‘ç¤ºä¾‹)
*   **ä»»åŠ¡å†…å®¹**ï¼ˆ8ä¸ªå­åŠŸèƒ½ï¼‰:
    1.  å®ç°åˆ†é•œå¡ç‰‡ç‚¹å‡» â†’ å³ä¾§é¢æ¿æ•°æ®åŒæ­¥ï¼ˆhandleStoryboardSelectionChangeï¼‰
    2.  å®ç°Promptç¼–è¾‘ â†’ åˆ†é•œæ•°æ®æ›´æ–°ï¼ˆåŒå‘ç»‘å®šï¼‰
    3.  å®ç°æ‰¹é‡é€‰æ‹©å’Œæ‰¹é‡ç¼–è¾‘
    4.  æ–°å¢"é˜Ÿåˆ—"Tabï¼ˆæ˜¾ç¤ºä»»åŠ¡åˆ—è¡¨ã€è¿›åº¦ã€æ”¯æŒå–æ¶ˆ/é‡è¯•ï¼‰
    5.  æ–°å¢ä¸­é—´æ¨¡å—ï¼ˆ3ä¸ªç”Ÿæˆæ¨¡å¼æŒ‰é’®ï¼šå½“å‰é€‰æ‹©|è‡ªåŠ¨è¡¥å…¨|å…¨æµç¨‹ï¼‰
    6.  æ–°å¢ä¸‹åˆ†æ ï¼ˆProviderç‰¹å®šå‚æ•°ï¼Œå¦‚Sora2å®½é«˜æ¯”é€‰æ‹©å™¨ï¼‰
    7.  å®ç°å¯æŠ˜å åŒºåŸŸï¼ˆCollapsibleç»„ä»¶ + localStorageæŒä¹…åŒ–ï¼‰
    8.  å³ä¾§é¢æ¿æ˜¾ç¤ºé€‰ä¸­é¡¹è¯¦ç»†ä¿¡æ¯ï¼ˆæ£€æŸ¥å™¨åŒºåŸŸï¼‰
*   **éªŒæ”¶**: ç‚¹å‡»åˆ†é•œå¡ç‰‡ï¼Œå³ä¾§é¢æ¿ç«‹å³æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼›é˜Ÿåˆ—Tabå®Œæ•´ï¼›3ä¸ªç”Ÿæˆæ¨¡å¼å¯åˆ‡æ¢ï¼›å‚æ•°åŒºåŸŸå¯æŠ˜å 

#### [x] [H2.3] ProgressOrb é‡è®¾è®¡ï¼ˆUI-3ï¼‰
*   **æ–‡ä»¶**: `src/renderer/components/common/ProgressOrb.tsx`, `src/renderer/components/common/ProgressOrb.css`
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (UI-3)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-007 ProgressOrbåŠåœ†å½¢çŠ¶å’Œæ½®æ±åŠ¨ç”»)
*   **ä»»åŠ¡å†…å®¹**:
    1.  ä¿®æ”¹å½¢çŠ¶ä¸ºåŠåœ†ï¼ˆborder-radius: 50% 0 0 50%ï¼‰+ å¸é™„å³ä¾§è¾¹ç¼˜ âœ…
    2.  å®ç°æ½®æ±æ³¨æ°´åŠ¨ç”»ï¼ˆæ°´ä½å¡«å…… + æ³¢æµª@keyframesï¼‰âœ…
    3.  é›†æˆreact-draggableï¼ˆé™åˆ¶Yè½´æ‹–åŠ¨ï¼‰âœ…
    4.  å®ç°ç‚¹å‡»äº¤äº’ï¼ˆæ‰“å¼€å³ä¾§é¢æ¿"é˜Ÿåˆ—"Tabï¼‰âœ…
*   **éªŒæ”¶**: åŠåœ†å½¢çŠ¶ï¼Œæ½®æ±æ³¨æ°´åŠ¨ç”»ï¼Œå¯ä¸Šä¸‹æ‹–åŠ¨ï¼Œç‚¹å‡»æ‰“å¼€å³ä¾§é¢æ¿é˜Ÿåˆ—Tab âœ…
*   **å®Œæˆæ—¶é—´**: 2025-12-28

#### [x] [H2.4] æ­¥éª¤å¯¼èˆªäº¤äº’ä¿®æ­£ï¼ˆUI-5ï¼‰
*   **æ–‡ä»¶**: `src/renderer/pages/workflows/WorkflowExecutor.tsx`, `src/renderer/pages/workflows/panels/*.tsx`
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (UI-5)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-006 æ­¥éª¤æ¡ç‚¹å‡»é€»è¾‘å®ç°)
*   **ä»»åŠ¡å†…å®¹**:
    1.  åˆ é™¤åº•éƒ¨"ä¸‹ä¸€æ­¥"æŒ‰é’®ï¼ˆæ‰€æœ‰å·¥ä½œæµé¢æ¿ï¼‰âœ…
    2.  æ­¥éª¤æ¡æ”¹ä¸ºå¯ç‚¹å‡»ï¼ˆå®ç°handleStepClickå’ŒcanClickStepï¼‰âœ… (å·²åœ¨H2.1å®Œæˆ)
    3.  å®ç°æ­¥éª¤ç‚¹å‡»æƒé™é€»è¾‘ï¼ˆå·²å®Œæˆé¡¹ç›®æ‰€æœ‰æ­¥éª¤å¯ç‚¹å‡»ï¼Œè¿›è¡Œä¸­é¡¹ç›®ä»…å½“å‰åŠä¹‹å‰å¯ç‚¹å‡»ï¼‰âœ… (å·²åœ¨H2.1å®Œæˆ)
*   **éªŒæ”¶**: æ­¥éª¤æ¡å¯ç‚¹å‡»åˆ‡æ¢ï¼Œå‰è¿›éœ€æ»¡è¶³æ¡ä»¶ï¼Œåé€€éšæ—¶å…è®¸ï¼Œå·²å®Œæˆé¡¹ç›®æ‰€æœ‰æ­¥éª¤å¯ç‚¹å‡» âœ…
*   **å®Œæˆæ—¶é—´**: 2025-12-28

#### [x] [H2.5] å…¨å±€è§†å›¾åˆ‡æ¢å™¨ç»„ä»¶ï¼ˆUI-6ï¼‰
*   **æ–‡ä»¶**: `src/renderer/components/common/ViewSwitcher.tsx`ï¼ˆæ–°å»ºï¼‰, `src/renderer/components/common/ListView.tsx`ï¼ˆæ–°å»ºï¼‰
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (UI-6)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-008 ViewSwitcherå…¨å±€ç»„ä»¶)
*   **ä»»åŠ¡å†…å®¹**:
    1.  åˆ›å»ºViewSwitcherç»„ä»¶ï¼ˆGrid3x3/Listå›¾æ ‡åˆ‡æ¢ï¼‰âœ…
    2.  åˆ›å»ºListViewç»„ä»¶ï¼ˆç»Ÿä¸€åˆ—è¡¨è§†å›¾æ ·å¼ï¼Œ64x64+ç¼©ç•¥å›¾ï¼‰âœ…
    3.  å“åº”å¼ç¼©ç•¥å›¾CSSï¼ˆç­‰æ¯”ç¼©æ”¾ï¼Œä¿æŒå®½é«˜æ¯”ï¼‰âœ…
    4.  åº”ç”¨åˆ°æ‰€æœ‰é¡µé¢ï¼ˆAssets/Plugins/Workflows/Dashboard/StoryboardPanelï¼‰âœ…
*   **éªŒæ”¶**: æ‰€æœ‰é¡µé¢æœ‰ç½‘æ ¼/åˆ—è¡¨åˆ‡æ¢æŒ‰é’®ï¼Œåˆ—è¡¨è§†å›¾åŒ…å«64x64+ç¼©ç•¥å›¾ï¼Œç¼©ç•¥å›¾ç­‰æ¯”ç¼©æ”¾ âœ…
*   **å®Œæˆæ—¶é—´**: 2025-12-28

#### [x] [H2.6] èµ„äº§ç½‘æ ¼è™šæ‹Ÿæ»šåŠ¨ âœ…
*   **æ–‡ä»¶**: `src/renderer/components/AssetGrid/AssetGridVirtualized.tsx`
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (A2.èµ„æºåº“ - æ€§èƒ½ä¼˜åŒ–)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-009 react-windowè™šæ‹Ÿæ»šåŠ¨é›†æˆ)
*   **ä»»åŠ¡å†…å®¹**:
    1.  é›†æˆreact-windowï¼ˆFixedSizeGrid + useInfiniteLoader hookï¼‰ âœ…
    2.  å®ç°è™šæ‹Ÿæ»šåŠ¨åˆ—è¡¨ï¼ˆCellæ¸²æŸ“å™¨ + AutoSizerï¼‰ âœ…
    3.  æ”¯æŒåƒçº§èµ„äº§æµç•…æ¸²æŸ“ï¼ˆæ‡’åŠ è½½å›¾ç‰‡ï¼‰ âœ…
*   **éªŒæ”¶**: åŠ è½½1000+èµ„äº§æ—¶é¡µé¢æµç•…ï¼Œæ»šåŠ¨å¸§ç‡>60fps âœ…
*   **å®Œæˆæ—¶é—´**: 2025-12-28
*   **æ–°å¢æ–‡ä»¶**: AssetGridVirtualized.tsx (250è¡Œ)
*   **ä¾èµ–**: react-window@^1.8.10, react-window-infinite-loader@^1.0.9, react-virtualized-auto-sizer@^1.0.24

#### [x] [H2.7] èœå•æ å¿«æ·æ–¹å¼ç³»ç»Ÿï¼ˆUI-7ï¼‰â­ é‡è¦åŠŸèƒ½ âœ… 2025-12-28
*   **æ–‡ä»¶**:
    - `src/main/services/ShortcutManager.ts`ï¼ˆæ–°å»ºï¼Œ175è¡Œï¼‰
    - `src/renderer/components/common/GlobalNav.tsx`ï¼ˆé‡æ„ï¼‰
    - `src/renderer/components/common/ShortcutNavItem.tsx`ï¼ˆæ–°å»ºï¼Œ108è¡Œï¼‰
    - `src/renderer/components/common/ShortcutNavItem.css`ï¼ˆæ–°å»ºï¼Œ95è¡Œï¼‰
    - `src/common/types.ts`ï¼ˆæ‰©å±•ï¼‰
    - `src/main/ipc/channels.ts`ï¼ˆæ‰©å±•ï¼‰
    - `src/main/index.ts`ï¼ˆé›†æˆï¼‰
    - `src/preload/index.ts`ï¼ˆæ‰©å±•ï¼‰
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (UI-7)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-010 ShortcutManageræœåŠ¡, REF-011 GlobalNavä¸‰åŒºåŸŸé‡æ„, REF-012 ShortcutNavItemé•¿æŒ‰ç¼–è¾‘)
*   **å®Œæˆå†…å®¹** (9/9ä¸ªæ ¸å¿ƒä»»åŠ¡) - å…¨éƒ¨å®Œæˆ:
    1.  âœ… æ‰©å±•æ•°æ®æ¨¡å‹ï¼ˆShortcutTypeæšä¸¾ã€ShortcutItemæ¥å£ã€IAppSettingsæ‰©å±•ï¼‰
    2.  âœ… åˆ›å»ºShortcutManageræœåŠ¡ï¼ˆaddShortcut/removeShortcut/reorderShortcuts/listShortcuts/initializeDefaultShortcutsï¼‰
    3.  âœ… é‡æ„GlobalNavç»„ä»¶ï¼ˆä¸‰åŒºåŸŸç»“æ„ï¼šå›ºå®šä¸Šæ–¹5é¡¹+å¯ç¼–è¾‘ä¸­é—´+å›ºå®šä¸‹æ–¹1é¡¹ï¼Œä¸­é—´æ”¯æŒæ»šåŠ¨ï¼‰
    4.  âœ… åˆ›å»ºShortcutNavItemç»„ä»¶ï¼ˆå›¾æ ‡æ˜¾ç¤ºã€ç‚¹å‡»è·³è½¬ã€é•¿æŒ‰ç¼–è¾‘500msã€åˆ é™¤æŒ‰é’®ã€ç¼–è¾‘æ¨¡å¼çŠ¶æ€ç®¡ç†ï¼‰
    5.  âœ… æ·»åŠ PinæŒ‰é’®åˆ°å¡ç‰‡ï¼ˆDashboard/Workflows/Pluginsä¸‰ä¸ªé¡µé¢å…¨éƒ¨å®ç°ï¼‰
    6.  âœ… é¦–æ¬¡å¯åŠ¨åˆå§‹åŒ–ï¼ˆè‡ªåŠ¨æ·»åŠ "å°è¯´è½¬è§†é¢‘"æ’ä»¶åˆ°èœå•æ ï¼‰
    7.  âœ… IPCé€šé“æ‰©å±•ï¼ˆshortcut:add/remove/reorder/list + ä¸»è¿›ç¨‹å¤„ç†å™¨ + preload API + TypeScriptç±»å‹ï¼‰
    8.  âœ… CSSé—ªåŠ¨åŠ¨ç”»ï¼ˆç¼–è¾‘æ¨¡å¼shakeåŠ¨ç”»ï¼Œ@keyframeså®ç°ï¼‰
    9.  âœ… æœåŠ¡åˆå§‹åŒ–é›†æˆï¼ˆapp.on('ready')è°ƒç”¨shortcutManager.initialize()ï¼‰
*   **éªŒæ”¶çŠ¶æ€**: âœ… æ‰€æœ‰åŠŸèƒ½å®Œæ•´
    - âœ… èœå•æ ä¸‰åŒºåŸŸç»“æ„å®Œæˆï¼ˆä¸Šæ–¹å›ºå®š5ä¸ªå¯¼èˆªé¡¹ã€ä¸­é—´å¯æ»šåŠ¨å¿«æ·æ–¹å¼ã€ä¸‹æ–¹å›ºå®šAboutï¼‰
    - âœ… å¿«æ·æ–¹å¼CRUDåŠŸèƒ½å®Œæ•´ï¼ˆaddShortcut/removeShortcut/reorderShortcuts/listShortcutsï¼‰
    - âœ… é•¿æŒ‰500msè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œé—ªåŠ¨åŠ¨ç”»æ­£å¸¸
    - âœ… ç¼–è¾‘æ¨¡å¼æ”¯æŒåˆ é™¤å¿«æ·æ–¹å¼
    - âœ… ä¸­é—´åŒºåŸŸæ”¯æŒé¼ æ ‡æ»šè½®æ»šåŠ¨ï¼ˆmax-height: calc(100vh - 400px), overflow-y: autoï¼‰
    - âœ… "å°è¯´è½¬è§†é¢‘"é¦–æ¬¡å¯åŠ¨è‡ªåŠ¨æ·»åŠ åˆ°èœå•æ 
    - âœ… PinæŒ‰é’®åŠŸèƒ½å®Œæ•´ï¼ˆDashboard/Workflows/Pluginsä¸‰ä¸ªé¡µé¢ï¼Œæ‚¬åœæ˜¾ç¤ºï¼Œç‚¹å‡»æ·»åŠ å¿«æ·æ–¹å¼ï¼‰
    - âœ… æ„å»ºæˆåŠŸï¼ˆ0é”™è¯¯ï¼‰
*   **æ–°å¢æ–‡ä»¶**:
    - ShortcutManager.ts (175è¡Œ)
    - ShortcutNavItem.tsx (108è¡Œ)
    - ShortcutNavItem.css (95è¡Œ)
    - Dashboard.tsx/Workflows.tsx/Plugins.tsx (PinæŒ‰é’®åŠŸèƒ½)
    - Dashboard.css/Workflows.css/Plugins.css (PinæŒ‰é’®æ ·å¼)
*   **ä»£ç é‡**: çº¦550è¡Œæ ¸å¿ƒä»£ç 

---

### ğŸ”¹ ç¬¬äºŒé˜¶æ®µï¼šAPI Provider æ¶æ„é‡æ„ï¼ˆv0.3.0ï¼‰

#### [x] [H2.8] ç»Ÿä¸€ Provider é…ç½®æ¨¡å‹ âœ… 2025-12-29
*   **æ–‡ä»¶**: `src/main/services/APIManager.ts`, `src/shared/types/api.ts`
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (A5.è®¾ç½® - æ ¸å¿ƒæ¶æ„é—®é¢˜)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-013 API Providerç»Ÿä¸€é…ç½®æ¨¡å‹)
*   **å®Œæˆå†…å®¹**:
    1.  âœ… åˆ›å»º `src/shared/types/api.ts` - ç»Ÿä¸€APIç±»å‹å®šä¹‰ï¼ˆ9ä¸ªæšä¸¾å’Œæ¥å£ï¼‰
    2.  âœ… é‡æ„ `APIManager.ts` - å‡çº§åˆ°v2.0æ¶æ„ï¼ˆä¿æŒå‘åå…¼å®¹ï¼‰
    3.  âœ… å®ç°æŒ‰åŠŸèƒ½åˆ†ç±»ï¼ˆAPICategoryæšä¸¾ï¼š9ç§åˆ†ç±»ï¼‰
    4.  âœ… æ”¯æŒåŒç±»å‹å¤šProviderï¼ˆåŸºäºidå”¯ä¸€æ ‡è¯†ï¼‰
    5.  âœ… æ³¨å†Œ7ä¸ªé»˜è®¤Providersï¼ˆComfyUIã€Stability AIã€T8Starã€Ollamaã€OpenAIç­‰ï¼‰
    6.  âœ… å®ç°æ—§é…ç½®è‡ªåŠ¨è¿ç§»ï¼ˆmigrateOldConfigæ–¹æ³•ï¼‰
    7.  âœ… æ–°å¢Providerç®¡ç†APIï¼ˆaddProvider/removeProvider/getProvider/listProvidersï¼‰
    8.  âœ… æ–°å¢çŠ¶æ€æ£€æŸ¥å’Œè¿æ¥æµ‹è¯•ï¼ˆgetProviderStatus/testProviderConnectionï¼‰
    9.  âœ… ä¿®å¤TaskSchedulerå¯¼å…¥é”™è¯¯
    10. âœ… å®Œæ•´æ„å»ºæµ‹è¯•é€šè¿‡ï¼ˆ0é”™è¯¯ï¼‰
*   **éªŒæ”¶**: âœ… æ‰€æœ‰åŠŸèƒ½å®ç°å®Œæˆï¼Œå¯åŒæ—¶é…ç½®å¤šä¸ªåŒç±»å‹Provider
*   **æ–°å¢æ–‡ä»¶**: `src/shared/types/api.ts` (120è¡Œ)
*   **ä¿®æ”¹æ–‡ä»¶**: `src/main/services/APIManager.ts` (+430è¡Œ), `src/main/services/TaskScheduler.ts` (+1è¡Œ)
*   **ä»£ç é‡**: çº¦550è¡Œæ ¸å¿ƒä»£ç 
*   **ä¸‹ä¸€æ­¥**: Settingsé¡µé¢UIé‡æ„ï¼ˆH2.10ï¼‰å°†ä½¿ç”¨æ–°çš„Provideré…ç½®æ¨¡å‹

#### [x] [H2.9] æ¨¡å‹æ³¨å†Œè¡¨ç³»ç»Ÿ âœ… 2025-12-29
*   **æ–‡ä»¶**: `src/main/services/ModelRegistry.ts`ï¼ˆæ–°å»ºï¼‰, `config/models/default-models.json`ï¼ˆæ–°å»ºï¼‰
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (A5.è®¾ç½® - æ¨¡å‹æ³¨å†Œè¡¨ç³»ç»Ÿ)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-014 ModelRegistryæ•°æ®ç»“æ„)
*   **å®Œæˆå†…å®¹**:
    1.  âœ… æ‰©å±• `src/shared/types/api.ts` - æ·»åŠ 5ä¸ªæ¨¡å‹ç›¸å…³ç±»å‹ï¼ˆModelParametersã€ModelDefinitionã€UserModelConfigç­‰ï¼‰
    2.  âœ… åˆ›å»º `config/models/default-models.json` - 11ä¸ªé»˜è®¤æ¨¡å‹ï¼ˆSD XLã€GPT-4ã€Sora 2ç­‰ï¼‰
    3.  âœ… å®ç° `ModelRegistry.ts` - å®Œæ•´çš„æ¨¡å‹æ³¨å†Œè¡¨æœåŠ¡ï¼ˆ470è¡Œï¼‰
    4.  âœ… æ ¸å¿ƒåŠŸèƒ½ï¼šlistModels/getModel/addCustomModel/removeCustomModel
    5.  âœ… ç”¨æˆ·é…ç½®ï¼štoggleModelVisibility/toggleModelFavorite/setModelAlias/getUserConfig
    6.  âœ… æ™ºèƒ½è¿‡æ»¤ï¼šæŒ‰åˆ†ç±»ã€æŒ‰Providerã€éšè—æ¨¡å‹ã€ä»…æ”¶è—
    7.  âœ… è¾…åŠ©æ–¹æ³•ï¼šgetModelsByProvider/searchModelsByTag
    8.  âœ… é›†æˆåˆ°ä¸»è¿›ç¨‹ï¼ˆåˆå§‹åŒ–å’Œæ¸…ç†ï¼‰
    9.  âœ… å®Œæ•´æ„å»ºæµ‹è¯•é€šè¿‡ï¼ˆ0é”™è¯¯ï¼‰
*   **éªŒæ”¶**: âœ… æ‰€æœ‰åŠŸèƒ½å®ç°å®Œæˆ
    - âœ… æ”¯æŒ11ç§é»˜è®¤æ¨¡å‹ï¼ˆå›¾åƒç”Ÿæˆ4ä¸ªã€LLM 4ä¸ªã€è§†é¢‘ç”Ÿæˆ2ä¸ªã€TTS 1ä¸ªï¼‰
    - âœ… æ™ºèƒ½è¿‡æ»¤ï¼šä»…æ˜¾ç¤ºå·²é…ç½®Providerçš„æ¨¡å‹
    - âœ… ç”¨æˆ·å¯æ·»åŠ /åˆ é™¤è‡ªå®šä¹‰æ¨¡å‹
    - âœ… ç”¨æˆ·å¯éšè—/æ”¶è—/è®¾ç½®åˆ«å
    - âœ… æ”¯æŒæŒ‰æ ‡ç­¾æœç´¢ã€æŒ‰Providerè¿‡æ»¤
*   **æ–°å¢æ–‡ä»¶**:
    - `src/main/services/ModelRegistry.ts` (470è¡Œ)
    - `config/models/default-models.json` (150è¡ŒJSON)
*   **ä¿®æ”¹æ–‡ä»¶**:
    - `src/shared/types/api.ts` (+60è¡Œ)
    - `src/main/index.ts` (+2è¡Œ)
*   **ä»£ç é‡**: çº¦530è¡Œæ ¸å¿ƒä»£ç  + 150è¡Œé…ç½®æ•°æ®
*   **ä¸‹ä¸€æ­¥**: Settingsé¡µé¢UIé‡æ„ï¼ˆH2.10ï¼‰å°†ä½¿ç”¨ModelRegistryå±•ç¤ºå’Œç®¡ç†æ¨¡å‹

#### [x] [H2.10] Settings é¡µé¢é‡æ„ âœ… 2025-12-29
*   **æ–‡ä»¶**: `src/renderer/pages/settings/Settings.tsx`
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (A5.è®¾ç½®)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-013 API Providerç»Ÿä¸€é…ç½®æ¨¡å‹UIè®¾è®¡, REF-014 ModelRegistryæ•°æ®ç»“æ„)
*   **ä»»åŠ¡å†…å®¹**:
    1.  âœ… æŒ‰åŠŸèƒ½åˆ†ç±»Provideråˆ—è¡¨ï¼ˆå·¦ä¾§åˆ†ç±»å¯¼èˆªï¼šå›¾åƒç”Ÿæˆã€è§†é¢‘ç”Ÿæˆã€LLMã€å·¥ä½œæµç­‰ï¼‰
    2.  âœ… å®ç°ProviderConfigCardç»„ä»¶ï¼ˆå³ä¾§Provideré…ç½®åˆ—è¡¨ï¼‰
    3.  âœ… å®ç°æ¨¡å‹é€‰æ‹©å™¨ç»„ä»¶ï¼ˆæ”¯æŒå‹¾é€‰/éšè—æ¨¡å‹ï¼‰
*   **éªŒæ”¶**: Settingsé¡µé¢æŒ‰åŠŸèƒ½åˆ†ç±»æ˜¾ç¤ºProviderï¼Œæ¨¡å‹é€‰æ‹©å™¨å®Œæ•´å¯ç”¨
*   **å®¡æ ¸æŠ¥å‘Šå‚è€ƒ**: A5.è®¾ç½®
*   **å®Œæˆå†…å®¹** (13ä¸ªæ ¸å¿ƒå˜æ›´):
    1. âœ… åœ¨ `src/main/index.ts` æ·»åŠ 13ä¸ªæ–°çš„ IPC å¤„ç†å™¨ï¼ˆ6ä¸ªProvider API + 7ä¸ªModel APIï¼‰
    2. âœ… åœ¨ `src/preload/index.ts` æš´éœ²13ä¸ªæ–°çš„IPC APIåˆ°æ¸²æŸ“è¿›ç¨‹
    3. âœ… åˆ›å»º `src/renderer/pages/settings/components/ProviderConfigCard.tsx` (310è¡Œ) - Provideré…ç½®å¡ç‰‡ç»„ä»¶
    4. âœ… åˆ›å»º `src/renderer/pages/settings/components/ProviderConfigCard.css` (196è¡Œ) - é…ç½®å¡ç‰‡æ ·å¼
    5. âœ… åˆ›å»º `src/renderer/pages/settings/components/ModelSelector.tsx` (390è¡Œ) - æ¨¡å‹é€‰æ‹©å™¨ç»„ä»¶
    6. âœ… åˆ›å»º `src/renderer/pages/settings/components/ModelSelector.css` (262è¡Œ) - æ¨¡å‹é€‰æ‹©å™¨æ ·å¼
    7. âœ… é‡æ„ `src/renderer/pages/settings/Settings.tsx` (428è¡Œ) - å·¦ä¾§9ä¸ªåŠŸèƒ½åˆ†ç±»å¯¼èˆª + å³ä¾§Providerå¡ç‰‡åˆ—è¡¨
*   **æ–°å¢åŠŸèƒ½**:
    - å·¦ä¾§å¯¼èˆª: å…¨å±€é…ç½®ã€æ¨¡å‹ç®¡ç†ã€9ä¸ªAPIåˆ†ç±»ï¼ˆå›¾åƒç”Ÿæˆã€è§†é¢‘ç”Ÿæˆã€éŸ³é¢‘ç”Ÿæˆã€LLMã€å·¥ä½œæµã€TTSã€STTã€å‘é‡åµŒå…¥ã€ç¿»è¯‘ï¼‰
    - ProviderConfigCard: å¯ç”¨/ç¦ç”¨åˆ‡æ¢ã€API Keyé…ç½®ã€Base URLé…ç½®ã€è¿æ¥æµ‹è¯•ã€çŠ¶æ€æŒ‡ç¤ºå™¨ã€ç¼–è¾‘/åˆ é™¤åŠŸèƒ½
    - ModelSelector: æœç´¢è¿‡æ»¤ã€ä»…æ˜¾ç¤ºæ”¶è—ã€æ˜¾ç¤ºéšè—æ¨¡å‹ã€æ ‡ç­¾è¿‡æ»¤ã€æ”¶è—åŠŸèƒ½ã€è®¾ç½®åˆ«åã€éšè—/æ˜¾ç¤ºåˆ‡æ¢
*   **ä»£ç é‡**: çº¦1586è¡Œä»£ç ï¼ˆ4ä¸ªæ–°ç»„ä»¶ + ä¸»é¡µé¢é‡æ„ + IPCé›†æˆï¼‰
*   **æ„å»ºçŠ¶æ€**: âœ… å…¨éƒ¨é€šè¿‡ï¼ˆpreload, main, rendererï¼‰

---

### ğŸ”¹ ç¬¬ä¸‰é˜¶æ®µï¼šä¸šåŠ¡åŠŸèƒ½è¡¥é½ï¼ˆv0.3.2ï¼‰

#### [x] [H2.11] èŠ‚ç‚¹ç¼–è¾‘å™¨åŠŸèƒ½è¡¥å……ï¼ˆé€šç”¨å·¥ä½œå°å®Œå–„ï¼‰âœ… 2025-12-29
*   **æ–‡ä»¶**: `src/renderer/components/workflow/nodes/*.tsx`ï¼ˆå·²åˆ›å»ºï¼‰
*   **ä¾èµ–**: H0.3ï¼ˆå·¥ä½œæµå®ä¾‹ç»‘å®šé¡¹ç›®ï¼‰âœ… å·²å®Œæˆ
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (A4.å·¥ä½œå° - èŠ‚ç‚¹ç¼–è¾‘å™¨åŠŸèƒ½å¾…è¡¥å……)
*   **ä»»åŠ¡å†…å®¹**:
    1.  âœ… é›†æˆReactFlowåº“ï¼ˆå®‰è£…@xyflow/reactï¼Œé…ç½®å·¥ä½œæµç”»å¸ƒï¼‰
    2.  âœ… åˆ›å»ºInputèŠ‚ç‚¹ç»„ä»¶ï¼ˆæ— å·¦ç«¯å£æœ‰å³ç«¯å£ï¼Œèµ„æºç±»å‹é€‰æ‹©ï¼Œæ‹–æ‹½èµ„äº§ï¼Œæœç´¢æ¡†ï¼‰
    3.  âœ… åˆ›å»ºExecuteèŠ‚ç‚¹ç»„ä»¶ï¼ˆå·¦å³ç«¯å£ï¼ŒProvideré€‰æ‹©ä¸‹æ‹‰æ¡†ï¼Œå‚æ•°é…ç½®ï¼Œå³ä¾§é¢æ¿è”åŠ¨ï¼‰
    4.  âœ… åˆ›å»ºOutputèŠ‚ç‚¹ç»„ä»¶ï¼ˆæœ‰å·¦ç«¯å£æ— å³ç«¯å£ï¼Œè¾“å‡ºæ ¼å¼é€‰æ‹©ï¼Œä¿å­˜ä½ç½®é…ç½®ï¼‰
    5.  âœ… å®ç°èŠ‚ç‚¹è¿çº¿å’Œæ•°æ®æµï¼ˆInput â†’ Execute â†’ Outputï¼‰
    6.  âœ… å·¥ä½œæµä¿å­˜/åŠ è½½ï¼ˆJSONé…ç½®ï¼Œæ”¯æŒæ¢å¤ï¼‰- WorkflowEditorå·²å®ç°
*   **éªŒæ”¶**: âœ… å¯åˆ›å»º3èŠ‚ç‚¹å·¥ä½œæµï¼Œæ‹–æ‹½è¿çº¿ï¼Œä¿å­˜æ¢å¤ï¼ˆæ„å»ºæˆåŠŸï¼Œ0é”™è¯¯ï¼‰
*   **ä»£ç é‡**: çº¦915è¡Œä»£ç ï¼ˆ7ä¸ªæ–°æ–‡ä»¶ï¼‰

#### [x] [H2.12] åœºæ™¯/è§’è‰²ç´ æä¸“ç”¨ç®¡ç† âœ… 2025-12-29
*   **æ–‡ä»¶**: `src/main/services/AssetManager.ts`, `src/renderer/pages/assets/Assets.tsx`, `src/shared/types/asset.ts`
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (A2.èµ„æºåº“ - åœºæ™¯/è§’è‰²ç´ æä¸“ç”¨ç®¡ç†)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-015 åœºæ™¯/è§’è‰²customFields Schema)
*   **ä»»åŠ¡å†…å®¹**:
    1.  âœ… æ‰©å±•èµ„äº§ç±»å‹ï¼ˆæ·»åŠ "åœºæ™¯"å’Œ"è§’è‰²"åˆ†ç±»åˆ°Assetsé¡µé¢ï¼‰
    2.  âœ… åˆ©ç”¨customFieldså­˜å‚¨ä¸“ç”¨æ•°æ®ï¼ˆSceneCustomFields/CharacterCustomFieldsæ¥å£ï¼‰
    3.  âœ… å®ç°æ™ºèƒ½è¿‡æ»¤å™¨ï¼ˆsearchScenes/searchCharactersæ–¹æ³•ï¼ŒæŒ‰åœºæ™¯ç‰¹å¾ã€è§’è‰²ç‰¹å¾ç­›é€‰ï¼‰
    4.  âœ… åœ¨Assetsé¡µé¢æ·»åŠ "åœºæ™¯"å’Œ"è§’è‰²"Tab
*   **éªŒæ”¶**: âœ… å¯åˆ›å»ºåœºæ™¯/è§’è‰²èµ„äº§ï¼Œå¯æŒ‰ä¸“ç”¨å­—æ®µç­›é€‰ï¼ˆæ„å»ºæˆåŠŸï¼Œ0é”™è¯¯ï¼‰
*   **ä»£ç é‡**: çº¦160è¡Œä»£ç ï¼ˆ2ä¸ªæ¥å£ + 4ä¸ªæ–¹æ³• + UIé›†æˆï¼‰

#### [x] [H2.13] å·¥ä½œæµé¢æ¿ä¸šåŠ¡é€»è¾‘å®Œå–„ï¼ˆå°è¯´è½¬è§†é¢‘æ’ä»¶ï¼‰âœ… 2025-12-29
*   **æ–‡ä»¶**: `src/renderer/pages/workflows/panels/*.tsx`
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (A4.å·¥ä½œå°)
*   **ä»»åŠ¡å†…å®¹**:
    1.  âœ… **ChapterSplitPanel**: å®ç°å°è¯´æ–‡ä»¶ä¸Šä¼ ï¼ˆtxt/docxï¼‰ã€AIç« èŠ‚è¯†åˆ«ã€ç« èŠ‚åˆ—è¡¨ç¼–è¾‘
    2.  âœ… **SceneCharacterPanel**: å®ç°åœºæ™¯å¡ç‰‡å±•ç¤ºã€è§’è‰²ç®¡ç†ï¼ˆæ·»åŠ /ç¼–è¾‘/åˆ é™¤ï¼‰ã€åœºæ™¯è§’è‰²æå–è°ƒç”¨
    3.  âœ… **StoryboardPanel**: å®ç°åˆ†é•œç”Ÿæˆã€"é‡ç”Ÿæˆ"æŒ‰é’®ã€Promptç¼–è¾‘ï¼ˆç½‘æ ¼/åˆ—è¡¨è§†å›¾ï¼‰
    4.  âœ… **VoiceoverPanel**: å®ç°é…éŸ³ç”Ÿæˆã€éŸ³è‰²é€‰æ‹©ä¸‹æ‹‰æ¡†ã€éŸ³é¢‘æ’­æ”¾å™¨
*   **éªŒæ”¶**: âœ… 4ä¸ªå·¥ä½œæµé¢æ¿çš„ä¸šåŠ¡é€»è¾‘å…¨éƒ¨å¯ç”¨ï¼ˆæ„å»ºæˆåŠŸï¼Œ0é”™è¯¯ï¼‰
*   **å®Œæˆå†…å®¹**:
    - ChapterSplitPanel (312è¡Œ): æ–‡ä»¶ä¸Šä¼ ã€ç« èŠ‚æ‹†åˆ†ã€ç« èŠ‚ç¼–è¾‘/åˆ é™¤
    - SceneCharacterPanel (464è¡Œ): åœºæ™¯å±•ç¤ºã€è§’è‰²CRUDã€æå–åŠŸèƒ½
    - StoryboardPanel (470è¡Œ + 135è¡ŒCSS): åˆ†é•œç”Ÿæˆã€é‡ç”Ÿæˆã€Promptç¼–è¾‘ï¼ˆåŒè§†å›¾æ”¯æŒï¼‰
    - VoiceoverPanel (346è¡Œ): é…éŸ³ç”Ÿæˆã€éŸ³è‰²é€‰æ‹©ã€æ’­æ”¾/æš‚åœ
*   **Promptç¼–è¾‘åŠŸèƒ½** (æ–°å¢):
    - ç½‘æ ¼è§†å›¾: å¡ç‰‡ä¸‹æ–¹æ˜¾ç¤ºPromptï¼Œç‚¹å‡»"ç¼–è¾‘"æŒ‰é’®è¿›å…¥ç¼–è¾‘æ¨¡å¼
    - åˆ—è¡¨è§†å›¾: åˆ—è¡¨é¡¹ä¸­æ˜¾ç¤ºPromptï¼Œç‚¹å‡»"ç¼–è¾‘"æŒ‰é’®è¿›å…¥ç¼–è¾‘æ¨¡å¼
    - å¿«æ·é”®: Ctrl+Enterä¿å­˜ï¼ŒEscå–æ¶ˆ
    - å®æ—¶ä¿å­˜: ç¼–è¾‘åç«‹å³æ›´æ–°storyboardæ•°æ®
*   **ä»£ç é‡**: çº¦170è¡Œæ–°å¢ä»£ç  (Promptç¼–è¾‘åŠŸèƒ½) + 135è¡ŒCSSæ ·å¼
*   **å®¡æ ¸æŠ¥å‘Šå‚è€ƒ**: A4.å·¥ä½œå°

---

### ğŸ”¹ ç¬¬å››é˜¶æ®µï¼šä¼˜åŒ–å’Œå®‰å…¨ï¼ˆv0.3.5ï¼‰

#### [x] [H2.14] APIå¯†é’¥åŠ å¯†å­˜å‚¨ âœ… 2025-12-29
*   **æ–‡ä»¶**: `src/main/services/ConfigManager.ts`, `src/main/services/APIManager.ts`
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (A5.è®¾ç½® - å®‰å…¨æ€§æ”¹è¿›)
    - å®ç°æ–¹æ³•: `docs\ref\code-references-phase9.md` (REF-016 APIå¯†é’¥åŠ å¯†å®ç°)
*   **ä»»åŠ¡å†…å®¹**:
    1.  âœ… å®ç°AES-256-GCMåŠ å¯†ç®—æ³•ï¼ˆAPIKeyEncryptionç±»ï¼Œä½¿ç”¨machine-idä½œä¸ºå¯†é’¥ç§å­ï¼‰
    2.  âœ… ä¿®æ”¹é…ç½®è¯»å†™é€»è¾‘ï¼ˆsaveProviderè‡ªåŠ¨åŠ å¯†ï¼ŒgetProviderè‡ªåŠ¨è§£å¯†ï¼‰
    3.  âœ… å‘åå…¼å®¹ï¼šè‡ªåŠ¨è¿ç§»æ˜æ–‡é…ç½®åˆ°åŠ å¯†é…ç½®ï¼ˆmigrateToEncryptedKeysæ–¹æ³•ï¼‰
*   **éªŒæ”¶**: âœ… API KeyåŠ å¯†å­˜å‚¨åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œæ— æ³•ç›´æ¥è¯»å–æ˜æ–‡
*   **å®Œæˆå†…å®¹**:
    1.  âœ… å®‰è£… node-machine-id ä¾èµ–ï¼ˆv1.1.2ï¼‰
    2.  âœ… åˆ›å»º APIKeyEncryption ç±»ï¼ˆConfigManager.ts ä¸­ï¼Œ130è¡Œï¼‰
        - AES-256-GCM åŠ å¯†ç®—æ³•å®ç°
        - ä½¿ç”¨æœºå™¨IDä½œä¸ºå¯†é’¥ç§å­ï¼ˆmachineIdSync + scryptSyncï¼‰
        - åŠ å¯†æ ¼å¼ï¼šiv:authTag:encryptedï¼ˆ3éƒ¨åˆ†ï¼Œhexç¼–ç ï¼‰
        - isEncrypted æ–¹æ³•ï¼šæ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦å·²åŠ å¯†
        - å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
    3.  âœ… ä¿®æ”¹ ConfigManager ç±»ï¼ˆ+60è¡Œï¼‰
        - é›†æˆ APIKeyEncryption å®ä¾‹
        - encryptConfig æ–¹æ³•ï¼šä½¿ç”¨ AES-256-GCM æ›¿ä»£ safeStorage
        - decryptConfig æ–¹æ³•ï¼šå…¼å®¹æ–°æ—§åŠ å¯†æ–¹å¼ï¼ˆaes-256-gcm å’Œ safeStorageï¼‰
        - migrateToEncryptedKeys æ–¹æ³•ï¼šè‡ªåŠ¨æ£€æµ‹å¹¶è¿ç§»æ˜æ–‡/æ—§åŠ å¯†é…ç½®
        - åœ¨ initialize æ–¹æ³•ä¸­è‡ªåŠ¨è°ƒç”¨è¿ç§»é€»è¾‘
    4.  âœ… ä¿®æ”¹ APIManager ç±»ï¼ˆ+50è¡Œï¼‰
        - å¯¼å…¥ APIKeyEncryption å¹¶åˆ›å»ºå®ä¾‹
        - saveProviders æ–¹æ³•ï¼šä¿å­˜å‰è‡ªåŠ¨åŠ å¯† API Key
        - loadProviders æ–¹æ³•ï¼šåŠ è½½åè‡ªåŠ¨è§£å¯† API Key
        - å‘åå…¼å®¹ï¼šæ”¯æŒæœªåŠ å¯†é…ç½®çš„è¯»å–
    5.  âœ… ä¸»è¿›ç¨‹å¯åŠ¨é›†æˆ
        - ConfigManager.initialize å·²åœ¨ src/main/index.ts:137 è°ƒç”¨
        - é¦–æ¬¡å¯åŠ¨è‡ªåŠ¨è¿ç§»æ˜æ–‡å¯†é’¥åˆ°åŠ å¯†å­˜å‚¨
        - åç»­å¯åŠ¨è‡ªåŠ¨åŠ è½½å’Œè§£å¯†é…ç½®
    6.  âœ… å®Œæ•´æ„å»ºæµ‹è¯•é€šè¿‡ï¼ˆ0é”™è¯¯ï¼‰
*   **ä»£ç é‡**: çº¦240è¡Œæ ¸å¿ƒä»£ç ï¼ˆåŠ å¯†ç±»130è¡Œ + ConfigManager 60è¡Œ + APIManager 50è¡Œï¼‰
*   **å®‰å…¨ç‰¹æ€§**:
    - å¼ºåŠ å¯†ï¼šAES-256-GCM è®¤è¯åŠ å¯†ç®—æ³•
    - æœºå™¨ç»‘å®šï¼šå¯†é’¥åŸºäºæœºå™¨IDç”Ÿæˆï¼Œæ— æ³•è·¨æœºå™¨è§£å¯†
    - å‘åå…¼å®¹ï¼šè‡ªåŠ¨è¿ç§»æ—§é…ç½®ï¼Œæ— éœ€ç”¨æˆ·æ‰‹åŠ¨æ“ä½œ
    - åŒé‡ä¿æŠ¤ï¼šåŒæ—¶æ”¯æŒ ConfigManager å’Œ APIManager çš„åŠ å¯†å­˜å‚¨

#### [x] [H2.15] æ—¥å¿—ç®¡ç†ï¼ˆåº•éƒ¨çŠ¶æ€æ ï¼‰âœ… 2025-12-29
*   **æ–‡ä»¶**: `src/renderer/components/layout/StatusBar.tsx`, `src/renderer/components/layout/LogViewer.tsx`, `src/main/services/Logger.ts`
*   **å‚è€ƒ**:
    - èƒŒæ™¯å’Œè¦æ±‚: `docs\ref\Done-implementation-audit-report-2025-12-28.md` (A5.è®¾ç½® - æ—¥å¿—ç®¡ç†)
*   **ä»»åŠ¡å†…å®¹**:
    1.  âœ… åœ¨åº•éƒ¨çŠ¶æ€æ æ·»åŠ é“ƒé“›å›¾æ ‡ï¼ˆğŸ””ï¼‰
    2.  âœ… é‡è¦é”™è¯¯æ—¶åœ¨é“ƒé“›ä¸Šæ˜¾ç¤ºçº¢ç‚¹æç¤º
    3.  âœ… ç‚¹å‡»é“ƒé“›å¼¹å‡ºæ—¥å¿—æŸ¥çœ‹å™¨ï¼ˆåº•éƒ¨Sheetç»„ä»¶ï¼‰
    4.  âœ… æ”¯æŒæŒ‰æ—¥å¿—çº§åˆ«è¿‡æ»¤ï¼ˆErrorã€Warningã€Infoã€Debugï¼‰
    5.  âœ… æ—¥å¿—è¯»å–åŠŸèƒ½ï¼ˆå·²å®ç°Logger.getRecentLogsæ–¹æ³•ï¼‰
*   **éªŒæ”¶**: âœ… åº•éƒ¨çŠ¶æ€æ æ˜¾ç¤ºé“ƒé“›å›¾æ ‡ï¼Œç‚¹å‡»æŸ¥çœ‹æ—¥å¿—ï¼Œé‡è¦é”™è¯¯æ˜¾ç¤ºçº¢ç‚¹
*   **å®Œæˆå†…å®¹**:
    1.  âœ… LoggeræœåŠ¡æ‰©å±•ï¼ˆ+70è¡Œï¼‰
        - getRecentLogs æ–¹æ³•ï¼šè¯»å–æœ€è¿‘çš„æ—¥å¿—æ¡ç›®
        - parseLogLine æ–¹æ³•ï¼šè§£ææ—¥å¿—è¡Œä¸ºLogEntryå¯¹è±¡
        - æ”¯æŒæŒ‰çº§åˆ«è¿‡æ»¤ï¼ˆerror/warn/info/debugï¼‰
        - æ”¯æŒé™åˆ¶è¿”å›æ•°é‡ï¼ˆé»˜è®¤100æ¡ï¼‰
    2.  âœ… IPCé€šé“å’Œpreloadé›†æˆ
        - æ·»åŠ  logs:get-recent IPCå¤„ç†å™¨
        - preloadæš´éœ² getRecentLogs API
        - TypeScriptç±»å‹å£°æ˜å®Œæ•´
    3.  âœ… StatusBarç»„ä»¶ï¼ˆ78è¡Œï¼‰
        - åº•éƒ¨çŠ¶æ€æ å¸ƒå±€ï¼ˆå·¦ä¾§ï¼šå·¥ä½œåŒºè·¯å¾„ï¼Œå³ä¾§ï¼šç³»ç»ŸçŠ¶æ€+é“ƒé“›å›¾æ ‡ï¼‰
        - é“ƒé“›å›¾æ ‡ï¼ˆBellç»„ä»¶from lucide-reactï¼‰
        - é”™è¯¯çº¢ç‚¹å¾½ç« ï¼ˆæ˜¾ç¤ºé”™è¯¯æ•°é‡ï¼Œæœ€å¤š9+ï¼‰
        - å®šæ—¶æ£€æŸ¥é”™è¯¯æ—¥å¿—ï¼ˆæ¯30ç§’ï¼‰
        - é“ƒé“›æ‘‡åŠ¨åŠ¨ç”»ï¼ˆæœ‰é”™è¯¯æ—¶ï¼‰
    4.  âœ… LogViewerç»„ä»¶ï¼ˆ187è¡Œï¼‰
        - Sheetå¼¹å‡ºå¼æ—¥å¿—æŸ¥çœ‹å™¨ï¼ˆä»åº•éƒ¨æ»‘å‡ºï¼Œ60vhé«˜åº¦ï¼‰
        - çº§åˆ«è¿‡æ»¤å™¨ï¼ˆå…¨éƒ¨/é”™è¯¯/è­¦å‘Š/ä¿¡æ¯/è°ƒè¯•ï¼Œ5ä¸ªæŒ‰é’®ï¼‰
        - æ—¥å¿—åˆ—è¡¨ï¼ˆæ—¶é—´æˆ³ã€çº§åˆ«å›¾æ ‡ã€æœåŠ¡åã€æ¶ˆæ¯ã€æ•°æ®ï¼‰
        - åˆ·æ–°æŒ‰é’®ï¼ˆå¸¦æ—‹è½¬åŠ¨ç”»ï¼‰
        - å…³é—­æŒ‰é’®
        - çº§åˆ«é¢œè‰²åŒºåˆ†ï¼ˆçº¢/æ©™/è“/ç»¿ï¼‰
    5.  âœ… CSSæ ·å¼ï¼ˆ350è¡Œ+ï¼‰
        - StatusBar.cssï¼ˆ90è¡Œï¼‰ï¼šçŠ¶æ€æ æ ·å¼ã€é“ƒé“›æŒ‰é’®ã€é”™è¯¯å¾½ç« ã€æ‘‡åŠ¨åŠ¨ç”»
        - LogViewer.cssï¼ˆ260è¡Œï¼‰ï¼šSheetå®¹å™¨ã€çº§åˆ«è¿‡æ»¤å™¨ã€æ—¥å¿—æ¡ç›®ã€æ»šåŠ¨æ¡ã€åŠ¨ç”»
    6.  âœ… Layoutç»„ä»¶é›†æˆ
        - æ›¿æ¢åŸæœ‰ç®€å•footerä¸ºStatusBarç»„ä»¶
        - å¯¼å…¥StatusBarç»„ä»¶åˆ°Layout.tsx
    7.  âœ… å®Œæ•´æ„å»ºæµ‹è¯•é€šè¿‡ï¼ˆ0é”™è¯¯ï¼‰
*   **ä»£ç é‡**: çº¦685è¡Œä»£ç ï¼ˆLogger +70è¡Œ + StatusBar 78è¡Œ + LogViewer 187è¡Œ + CSS 350è¡Œï¼‰
*   **åŠŸèƒ½ç‰¹æ€§**:
    - å®æ—¶é”™è¯¯ç›‘æ§ï¼šæ¯30ç§’è‡ªåŠ¨æ£€æŸ¥é”™è¯¯æ—¥å¿—
    - è§†è§‰æé†’ï¼šé”™è¯¯å¾½ç« æ˜¾ç¤ºæ•°é‡ï¼Œé“ƒé“›æ‘‡åŠ¨åŠ¨ç”»
    - å¤šçº§è¿‡æ»¤ï¼šæ”¯æŒ5ç§æ—¥å¿—çº§åˆ«è¿‡æ»¤
    - å‹å¥½äº¤äº’ï¼šSheetå¼¹å‡ºå¼æŸ¥çœ‹å™¨ï¼Œæ»‘åŠ¨åŠ¨ç”»æµç•…
    - è¯¦ç»†å±•ç¤ºï¼šæ—¶é—´æˆ³ã€æœåŠ¡åã€æ¶ˆæ¯ã€æ•°æ®ï¼ˆJSONæ ¼å¼ï¼‰

---

## ğŸ“‹ Phase 10: å°è¯´è½¬è§†é¢‘æ’ä»¶æ ¸å¿ƒå®ç° (v0.4.0)
**ç›®æ ‡**: å®ç°ProvideræŠ½è±¡å±‚ + å¼‚æ­¥ä»»åŠ¡å¤„ç† + æ‰¹é‡å¤„ç† + AIå°è£…ï¼Œåˆ é™¤Mockæ•°æ®
**çŠ¶æ€**: ğŸ”´ å¾…å¯åŠ¨
**å‚è€ƒ**: `docs/plan/novel-to-video-plugin-implementation-plan.md`
**æ€»è®¡**: 13ä¸ªä»»åŠ¡ï¼ˆK01-K13ï¼‰ï¼Œåˆ†4ä¸ªé˜¶æ®µ

---

### ğŸ”´ é˜¶æ®µ1: ProvideræŠ½è±¡å±‚å®ç°ï¼ˆæ¶æ„åŸºç¡€ï¼‰

### [ ] [K01] Providerç±»å‹å®šä¹‰ ğŸ”´ P0
*   **æ–‡ä»¶**: `src/shared/types/provider.ts`ï¼ˆæ–°å»ºï¼‰
*   **å‚è€ƒ**: `docs/plan/novel-to-video-plugin-implementation-plan.md` (Section 1.4 + Phase 0)
*   **ç›®æ ‡**: å®šä¹‰Operationæ¥å£å’ŒProvideræŠ½è±¡ï¼Œç¡®ä¿å¹³å°å®šä½ä¸º"ç¼–æ’+è·¯ç”±"ï¼Œéæ‰§è¡Œå±‚
*   **ä»»åŠ¡å†…å®¹**:
    1.  å®šä¹‰ `OperationType` æšä¸¾ï¼ˆTEXT_TO_IMAGEã€IMAGE_TO_IMAGEã€IMAGE_TO_VIDEOã€TEXT_TO_AUDIOã€TEXT_TO_TEXTï¼‰
    2.  å®šä¹‰ `IProvider` åŸºç¡€æ¥å£ï¼ˆidã€nameã€typeã€supportedOperationsã€checkAvailability()ï¼‰
    3.  å®šä¹‰ `ITextToImageProvider`ã€`IImageToImageProvider`ã€`IImageToVideoProvider` æ¥å£
    4.  å®šä¹‰ `TextToImageResult`ã€`ImageToImageResult`ã€`ImageToVideoResult` ç»“æœç±»å‹
    5.  å®šä¹‰ `OperationResult` ç»Ÿä¸€ç»“æœæ ¼å¼ï¼ˆsuccessã€taskIdã€statusã€errorï¼‰
*   **ä»£ç ç¤ºä¾‹**:
    ```typescript
    export enum OperationType {
      TEXT_TO_IMAGE = 'text-to-image',
      IMAGE_TO_IMAGE = 'image-to-image',
      IMAGE_TO_VIDEO = 'image-to-video',
      TEXT_TO_AUDIO = 'text-to-audio',
      TEXT_TO_TEXT = 'text-to-text'
    }

    export interface IProvider {
      readonly id: string;
      readonly name: string;
      readonly type: 'online' | 'local';
      readonly supportedOperations: OperationType[];
      checkAvailability(): Promise<boolean>;
    }

    export interface ITextToImageProvider extends IProvider {
      textToImage(params: {
        prompt: string;
        width: number;
        height: number;
        negativePrompt?: string;
        seed?: number;
      }): Promise<TextToImageResult>;
    }
    ```
*   **éªŒæ”¶**: TypeScriptç¼–è¯‘é€šè¿‡ï¼Œç±»å‹å®šä¹‰å®Œæ•´æ— é”™è¯¯

### [ ] [K02] ProviderRegistryå®ç° ğŸ”´ P0
*   **æ–‡ä»¶**: `src/main/services/ProviderRegistry.ts`ï¼ˆæ–°å»ºï¼‰
*   **å‚è€ƒ**: `docs/plan/novel-to-video-plugin-implementation-plan.md` (Phase 0)
*   **ç›®æ ‡**: Provideræ³¨å†Œè¡¨ï¼Œæ”¯æŒåŠ¨æ€æ³¨å†Œ/å¸è½½Provider
*   **ä»»åŠ¡å†…å®¹**:
    1.  å®ç° `register(provider: IProvider): void` æ–¹æ³•
    2.  å®ç° `getProvider(providerId: string): IProvider | undefined` æ–¹æ³•
    3.  å®ç° `listProvidersByOperation(operationType: OperationType): IProvider[]` æ–¹æ³•
    4.  å®ç° `checkProviderAvailability(providerId: string): Promise<boolean>` æ–¹æ³•
    5.  å®ç° `registerBatch(providers: IProvider[]): void` æ‰¹é‡æ³¨å†Œ
    6.  å®ç° `unregister(providerId: string): void` å¸è½½æ–¹æ³•
    7.  ä½¿ç”¨ `Map<string, IProvider>` å­˜å‚¨Provider
    8.  é›†æˆLoggerè®°å½•æ³¨å†Œ/å¸è½½æ“ä½œ
*   **éªŒæ”¶**: å¯æ³¨å†ŒProviderå¹¶æŒ‰Operationç±»å‹æŸ¥è¯¢ï¼Œå¯ç”¨æ€§æ£€æŸ¥æ­£å¸¸

### [ ] [K03] ProviderRouterå®ç° ğŸ”´ P0
*   **æ–‡ä»¶**: `src/main/services/ProviderRouter.ts`ï¼ˆæ–°å»ºï¼‰ã€`src/main/ipc/provider-handlers.ts`ï¼ˆæ–°å»ºï¼‰ã€`src/preload/index.ts`ï¼ˆæ‰©å±•ï¼‰
*   **å‚è€ƒ**: `docs/plan/novel-to-video-plugin-implementation-plan.md` (Phase 0)
*   **ç›®æ ‡**: è·¯ç”±å±‚ï¼Œæ ¹æ®é…ç½®å°†æ“ä½œè·¯ç”±åˆ°å…·ä½“Provider
*   **ä»»åŠ¡å†…å®¹**:
    1.  å®ç° `executeTextToImage(params): Promise<TextToImageResult>` æ–¹æ³•
    2.  å®ç° `executeImageToImage(params): Promise<ImageToImageResult>` æ–¹æ³•
    3.  å®ç° `executeImageToVideo(params): Promise<ImageToVideoResult>` æ–¹æ³•
    4.  å®ç° `getDefaultProvider(operationType): Promise<string | null>` ä»ConfigManagerè¯»å–é»˜è®¤Provider
    5.  é›†æˆProviderRegistryæŸ¥è¯¢Provider
    6.  å®ç°å¯ç”¨æ€§æ£€æŸ¥é€»è¾‘
    7.  åˆ›å»ºIPCå¤„ç†å™¨ï¼ˆprovider:text-to-imageã€provider:image-to-imageã€provider:image-to-videoã€provider:listã€provider:check-availabilityï¼‰
    8.  æ›´æ–°é¢„åŠ è½½è„šæœ¬ï¼Œæš´éœ² `window.electronAPI.provider` API
*   **ä»£ç ç¤ºä¾‹**:
    ```typescript
    export class ProviderRouter {
      async executeTextToImage(params: {
        prompt: string;
        width: number;
        height: number;
        providerId?: string;
      }): Promise<TextToImageResult> {
        const providerId = params.providerId ||
                          await this.getDefaultProvider(OperationType.TEXT_TO_IMAGE);

        if (!providerId) {
          throw new Error('æœªé…ç½®æ–‡ç”Ÿå›¾Providerï¼Œè¯·åœ¨Settingsä¸­é…ç½®');
        }

        const provider = providerRegistry.getProvider(providerId) as ITextToImageProvider;
        if (!provider) {
          throw new Error(`Provider ${providerId} æœªæ‰¾åˆ°`);
        }

        const available = await provider.checkAvailability();
        if (!available) {
          throw new Error(`Provider ${provider.name} ä¸å¯ç”¨ï¼Œè¯·æ£€æŸ¥é…ç½®`);
        }

        logger.info(`æ‰§è¡Œæ–‡ç”Ÿå›¾: Provider=${provider.name}`, 'ProviderRouter');
        return await provider.textToImage({
          prompt: params.prompt,
          width: params.width,
          height: params.height
        });
      }
    }
    ```
*   **éªŒæ”¶**: Panelç»„ä»¶å¯é€šè¿‡ `window.electronAPI.provider.executeTextToImage()` è°ƒç”¨ï¼Œå‚æ•°æ­£ç¡®è·¯ç”±åˆ°Provider

---

### ğŸŸ  é˜¶æ®µ2: å¼‚æ­¥ä»»åŠ¡å¤„ç†å®ç°ï¼ˆP0çº§ï¼‰

### [ ] [K04] AsyncTaskManageræœåŠ¡å®ç° ğŸŸ  P0
*   **æ–‡ä»¶**: `src/main/services/AsyncTaskManager.ts`ï¼ˆæ–°å»ºï¼‰
*   **å‚è€ƒ**: `docs/plan/novel-to-video-plugin-implementation-plan.md` (Phase 1)
*   **ç›®æ ‡**: å¼‚æ­¥ä»»åŠ¡ç®¡ç†å™¨ï¼Œæ”¯æŒ10åˆ†é’Ÿçº§é•¿æ—¶é—´è½®è¯¢ï¼ˆæ–‡ç”Ÿå›¾ã€å›¾ç”Ÿè§†é¢‘ï¼‰
*   **ä»»åŠ¡å†…å®¹**:
    1.  å®ç° `executeWithPolling<T>(apiCall, pollInterval, timeout): Promise<T>` æ–¹æ³•
    2.  å®ç° `executeWithRetry<T>(operation, maxRetries, retryDelay): Promise<T>` æ–¹æ³•
    3.  å®ç° `private checkTaskStatus(taskId): Promise<TaskStatus>` æ–¹æ³•ï¼ˆç”±è°ƒç”¨æ–¹ä¼ å…¥ï¼‰
    4.  å®ç° `private sleep(ms): Promise<void>` å·¥å…·æ–¹æ³•
    5.  å®šä¹‰ `TaskStatus` æ¥å£ï¼ˆstatus: QUEUED/PROCESSING/SUCCEED/FAILEDã€resultã€errorï¼‰
    6.  å®šä¹‰ `TimeoutError` é”™è¯¯ç±»
    7.  è½®è¯¢é€»è¾‘ï¼šé»˜è®¤10ç§’é—´éš”ï¼Œ10åˆ†é’Ÿè¶…æ—¶
    8.  é‡è¯•é€»è¾‘ï¼šæŒ‡æ•°é€€é¿ï¼ˆ1s â†’ 2s â†’ 4sï¼‰
    9.  é›†æˆLoggerè®°å½•è½®è¯¢çŠ¶æ€
*   **ä»£ç ç¤ºä¾‹**:
    ```typescript
    export class AsyncTaskManager {
      async executeWithPolling<T>(
        apiCall: () => Promise<{ task_id?: string; result?: T }>,
        pollInterval: number = 10000,
        timeout: number = 600000
      ): Promise<T> {
        const response = await apiCall();

        if (response.result && !response.task_id) {
          return response.result;
        }

        if (!response.task_id) {
          throw new Error('APIè¿”å›æ ¼å¼é”™è¯¯ï¼šæ—¢æ— task_idä¹Ÿæ— result');
        }

        const startTime = Date.now();
        while (Date.now() - startTime < timeout) {
          await this.sleep(pollInterval);

          const status = await this.checkTaskStatus(response.task_id);

          if (status.status === 'TASK_STATUS_SUCCEED') {
            return status.result;
          }

          if (status.status === 'TASK_STATUS_FAILED') {
            throw new Error(`ä»»åŠ¡å¤±è´¥: ${status.error}`);
          }
        }

        throw new TimeoutError(`ä»»åŠ¡è¶…æ—¶ï¼ˆ${timeout}msï¼‰ï¼Œtask_id: ${response.task_id}`);
      }
    }
    ```
*   **éªŒæ”¶**: å¯å¤„ç†10åˆ†é’Ÿä»¥ä¸Šå¼‚æ­¥ä»»åŠ¡ï¼Œè¶…æ—¶è‡ªåŠ¨æŠ›é”™ï¼Œæ”¯æŒé‡è¯•

### [ ] [K05] AsyncTaskManagerå•å…ƒæµ‹è¯• ğŸŸ  P0
*   **æ–‡ä»¶**: `tests/unit/services/AsyncTaskManager.test.ts`ï¼ˆæ–°å»ºï¼‰
*   **å‚è€ƒ**: `docs/plan/novel-to-video-plugin-implementation-plan.md` (Phase 1)
*   **ç›®æ ‡**: å®Œæ•´çš„å•å…ƒæµ‹è¯•è¦†ç›–
*   **ä»»åŠ¡å†…å®¹**:
    1.  æµ‹è¯•åŒæ­¥è¿”å›ç»“æœåœºæ™¯
    2.  æµ‹è¯•å¼‚æ­¥è½®è¯¢æˆåŠŸåœºæ™¯
    3.  æµ‹è¯•è¶…æ—¶åœºæ™¯
    4.  æµ‹è¯•é‡è¯•æˆåŠŸåœºæ™¯
    5.  æµ‹è¯•é‡è¯•å¤±è´¥åœºæ™¯
    6.  æµ‹è¯•æŒ‡æ•°é€€é¿é€»è¾‘
    7.  Mock checkTaskStatusæ–¹æ³•
    8.  ä½¿ç”¨Vitestæ¡†æ¶
*   **éªŒæ”¶**: æµ‹è¯•è¦†ç›–ç‡>95%ï¼Œæ‰€æœ‰æµ‹è¯•é€šè¿‡

### [ ] [K06] JiekouProviderå®ç°ï¼ˆç¬¬ä¸€ä¸ªProviderï¼‰ ğŸŸ  P0
*   **æ–‡ä»¶**: `src/main/providers/JiekouProvider.ts`ï¼ˆæ–°å»ºï¼‰
*   **å‚è€ƒ**: `docs/plan/novel-to-video-plugin-implementation-plan.md` (Phase 0)
*   **ç›®æ ‡**: æ¥å£AI Providerå®ç°ï¼Œå°è£…å¤–éƒ¨APIè°ƒç”¨
*   **ä»»åŠ¡å†…å®¹**:
    1.  å®ç° `ITextToImageProvider`ã€`IImageToImageProvider`ã€`IImageToVideoProvider` æ¥å£
    2.  å®ç° `checkAvailability(): Promise<boolean>` æ–¹æ³•ï¼ˆæ£€æŸ¥API Keyã€æµ‹è¯•è¿æ¥ï¼‰
    3.  å®ç° `textToImage(params)` æ–¹æ³•ï¼ˆè°ƒç”¨ `/v3/async/z-image-turbo`ï¼‰
    4.  å®ç° `imageToImage(params)` æ–¹æ³•ï¼ˆè°ƒç”¨ `/v3/nano-banana-pro-light-i2i`ï¼‰
    5.  å®ç° `imageToVideo(params)` æ–¹æ³•ï¼ˆè°ƒç”¨ `/v3/async/sora-2-video-reverse`ï¼‰
    6.  é›†æˆAsyncTaskManagerå¤„ç†å¼‚æ­¥ä»»åŠ¡
    7.  å®ç° `private downloadImage(url): Promise<string>` ä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°
    8.  å®ç° `private downloadVideo(url): Promise<string>` ä¸‹è½½è§†é¢‘åˆ°æœ¬åœ°
    9.  ä»ConfigManagerè¯»å–API Key
    10. é›†æˆLoggerè®°å½•APIè°ƒç”¨
*   **ä»£ç ç¤ºä¾‹**:
    ```typescript
    export class JiekouProvider implements ITextToImageProvider, IImageToImageProvider, IImageToVideoProvider {
      readonly id = 'jiekou-ai';
      readonly name = 'æ¥å£AI';
      readonly type = 'online';
      readonly supportedOperations = [
        OperationType.TEXT_TO_IMAGE,
        OperationType.IMAGE_TO_IMAGE,
        OperationType.IMAGE_TO_VIDEO
      ];

      private apiKey: string;
      private baseUrl = 'https://api.jiekou.ai/v3';

      constructor(apiKey?: string) {
        this.apiKey = apiKey || configManager.get('providers.jiekou.apiKey') || '';
      }

      async textToImage(params: {
        prompt: string;
        width: number;
        height: number;
      }): Promise<TextToImageResult> {
        const response = await fetch(`${this.baseUrl}/async/z-image-turbo`, {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${this.apiKey}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            size: `${params.width}*${params.height}`,
            prompt: params.prompt
          })
        });

        const data = await response.json();

        if (data.task_id) {
          return await asyncTaskManager.executeWithPolling(
            async () => ({ task_id: data.task_id }),
            10000,
            600000
          );
        }

        return {
          success: true,
          imageUrl: data.image_url,
          imageFilePath: await this.downloadImage(data.image_url)
        };
      }
    }
    ```
*   **éªŒæ”¶**: Providerå¯æ­£å¸¸è°ƒç”¨æ¥å£AI APIï¼Œç»“æœä¸‹è½½åˆ°æœ¬åœ°ï¼Œé›†æˆåˆ°ProviderRegistry

### [ ] [K07] StoryboardPanelé›†æˆProvider ğŸŸ  P0
*   **æ–‡ä»¶**: `src/renderer/pages/workflows/panels/StoryboardPanel.tsx`ï¼ˆä¿®æ”¹ï¼‰
*   **å‚è€ƒ**: `docs/plan/novel-to-video-plugin-implementation-plan.md` (Phase 1 Week 4)
*   **ç›®æ ‡**: åˆ é™¤Mockæ•°æ®ï¼Œä½¿ç”¨çœŸå®Provider APIç”Ÿæˆåˆ†é•œ
*   **ä»»åŠ¡å†…å®¹**:
    1.  åˆ é™¤ Mock æ•°æ®ç”Ÿæˆä»£ç 
    2.  è°ƒç”¨ `window.electronAPI.provider.executeTextToImage(params)` ç”Ÿæˆåˆ†é•œå›¾ç‰‡
    3.  é›†æˆProgressOrbæ˜¾ç¤ºç”Ÿæˆè¿›åº¦
    4.  å®ç°é”™è¯¯å¤„ç†å’ŒToastæç¤º
    5.  æ”¯æŒé‡æ–°ç”Ÿæˆå•ä¸ªåˆ†é•œ
    6.  æ˜¾ç¤ºçœŸå®çš„å›¾ç‰‡URL
*   **ä»£ç ç¤ºä¾‹**:
    ```typescript
    const handleGenerateStoryboard = async (storyboard: Storyboard) => {
      setGenerating(true);
      try {
        const result = await window.electronAPI.provider.executeTextToImage({
          prompt: storyboard.prompt,
          width: 1280,
          height: 720
        });

        setStoryboards(prev => prev.map(s =>
          s.id === storyboard.id
            ? { ...s, imageUrl: result.imageUrl, status: 'completed' }
            : s
        ));

        setToast({
          type: 'success',
          message: `åˆ†é•œ ${storyboard.id} ç”ŸæˆæˆåŠŸ`
        });
      } catch (error) {
        setToast({
          type: 'error',
          message: `ç”Ÿæˆå¤±è´¥: ${error.message}`
        });
      } finally {
        setGenerating(false);
      }
    };
    ```
*   **éªŒæ”¶**: å¯çœŸå®ç”Ÿæˆåˆ†é•œå›¾ç‰‡ï¼Œæ— Mockæ•°æ®ï¼ŒUIæ˜¾ç¤ºå®é™…è¿›åº¦

---

### ğŸŸ¡ é˜¶æ®µ3: æ‰¹é‡å¤„ç†å®ç°ï¼ˆP1çº§ï¼‰

### [ ] [K08] TaskScheduleræ‰¹é‡å¤„ç†æ‰©å±• ğŸŸ¡ P1
*   **æ–‡ä»¶**: `src/main/services/TaskScheduler.ts`ï¼ˆæ‰©å±•ï¼‰
*   **å‚è€ƒ**: `docs/plan/novel-to-video-plugin-implementation-plan.md` (Phase 2)
*   **ç›®æ ‡**: æ‰©å±•TaskSchedulerï¼Œæ”¯æŒæ‰¹é‡å¹¶è¡Œå¤„ç†ï¼ˆä¼˜äºn8nä¸²è¡Œï¼‰
*   **ä»»åŠ¡å†…å®¹**:
    1.  å®šä¹‰ `BatchResult<R>` æ¥å£ï¼ˆsuccessã€failedã€totalã€successCountã€failedCountã€successRateï¼‰
    2.  å®ç° `executeBatchSerial<T, R>(items, processor, onProgress): Promise<BatchResult<R>>` ä¸²è¡Œæ–¹æ³•
    3.  å®ç° `executeBatchParallel<T, R>(items, processor, maxConcurrency, onProgress): Promise<BatchResult<R>>` å¹¶è¡Œæ–¹æ³•
    4.  å®ç° `retryFailedTasks<T, R>(failedItems, processor): Promise<BatchResult<R>>` é‡è¯•æ–¹æ³•
    5.  å¹¶å‘æ§åˆ¶ï¼šä½¿ç”¨ä»»åŠ¡é˜Ÿåˆ— + Promise.raceæ§åˆ¶å¹¶å‘æ•°
    6.  è¿›åº¦å›è°ƒï¼šæ¯å®Œæˆä¸€ä¸ªä»»åŠ¡è°ƒç”¨ `onProgress(completed, total, current)`
    7.  é”™è¯¯å¤„ç†ï¼šå•ä¸ªä»»åŠ¡å¤±è´¥ä¸å½±å“å…¶ä»–ä»»åŠ¡
    8.  é›†æˆLoggerè®°å½•æ‰¹é‡æ‰§è¡ŒçŠ¶æ€
*   **ä»£ç ç¤ºä¾‹**:
    ```typescript
    interface BatchResult<R> {
      success: R[];
      failed: Array<{ item: any; error: Error }>;
      total: number;
      successCount: number;
      failedCount: number;
      successRate: number;
    }

    async executeBatchParallel<T, R>(
      items: T[],
      processor: (item: T) => Promise<R>,
      maxConcurrency: number = 5,
      onProgress?: (completed: number, total: number, current: T) => void
    ): Promise<BatchResult<R>> {
      const success: R[] = [];
      const failed: Array<{ item: T; error: Error }> = [];
      const taskQueue = [...items];
      const executing: Promise<void>[] = [];
      let completed = 0;

      while (taskQueue.length > 0 || executing.length > 0) {
        while (executing.length < maxConcurrency && taskQueue.length > 0) {
          const item = taskQueue.shift()!;

          const promise = processor(item)
            .then(result => {
              success.push(result);
            })
            .catch(error => {
              failed.push({ item, error });
            })
            .finally(() => {
              completed++;
              onProgress?.(completed, items.length, item);

              const index = executing.indexOf(promise);
              executing.splice(index, 1);
            });

          executing.push(promise);
        }

        if (executing.length > 0) {
          await Promise.race(executing);
        }
      }

      return {
        success,
        failed,
        total: items.length,
        successCount: success.length,
        failedCount: failed.length,
        successRate: success.length / items.length
      };
    }
    ```
*   **éªŒæ”¶**: å¯å¹¶è¡Œå¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œå¹¶å‘æ•°å¯æ§ï¼Œè¿›åº¦å›è°ƒæ­£å¸¸ï¼Œå¤±è´¥ä»»åŠ¡ä¸å½±å“å…¶ä»–ä»»åŠ¡

### [ ] [K09] TaskScheduleræ‰¹é‡å¤„ç†å•å…ƒæµ‹è¯• ğŸŸ¡ P1
*   **æ–‡ä»¶**: `tests/unit/services/TaskScheduler.test.ts`ï¼ˆæ‰©å±•ï¼‰
*   **å‚è€ƒ**: `docs/plan/novel-to-video-plugin-implementation-plan.md` (Phase 2)
*   **ç›®æ ‡**: æ‰¹é‡å¤„ç†åŠŸèƒ½çš„å®Œæ•´æµ‹è¯•è¦†ç›–
*   **ä»»åŠ¡å†…å®¹**:
    1.  æµ‹è¯•ä¸²è¡Œæ‰§è¡Œåœºæ™¯
    2.  æµ‹è¯•å¹¶è¡Œæ‰§è¡Œåœºæ™¯ï¼ˆéªŒè¯å¹¶å‘æ•°æ§åˆ¶ï¼‰
    3.  æµ‹è¯•å¤±è´¥ä»»åŠ¡å¤„ç†åœºæ™¯
    4.  æµ‹è¯•è¿›åº¦å›è°ƒåœºæ™¯
    5.  æµ‹è¯•é‡è¯•å¤±è´¥ä»»åŠ¡åœºæ™¯
    6.  éªŒè¯å¹¶è¡Œæ‰§è¡Œæ¯”ä¸²è¡Œå¿«
    7.  ä½¿ç”¨Vitestæ¡†æ¶ + Mock
*   **éªŒæ”¶**: æµ‹è¯•è¦†ç›–ç‡>95%ï¼Œæ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼Œå¹¶è¡Œæ€§èƒ½éªŒè¯é€šè¿‡

### [ ] [K10] StoryboardPanelæ‰¹é‡ç”Ÿæˆé›†æˆ ğŸŸ¡ P1
*   **æ–‡ä»¶**: `src/renderer/pages/workflows/panels/StoryboardPanel.tsx`ï¼ˆæ‰©å±•ï¼‰
*   **å‚è€ƒ**: `docs/plan/novel-to-video-plugin-implementation-plan.md` (Phase 2 Week 7)
*   **ç›®æ ‡**: æ”¯æŒæ‰¹é‡ç”Ÿæˆ10ä¸ªåˆ†é•œå›¾ç‰‡
*   **ä»»åŠ¡å†…å®¹**:
    1.  æ·»åŠ "æ‰¹é‡ç”Ÿæˆ"æŒ‰é’®
    2.  è°ƒç”¨ TaskScheduler æ‰¹é‡å¤„ç†ï¼ˆé€šè¿‡IPCï¼‰
    3.  å®æ—¶æ˜¾ç¤ºæ‰¹é‡è¿›åº¦ï¼ˆå·²å®Œæˆ/æ€»æ•°ï¼‰
    4.  ä½¿ç”¨ProgressOrbæ˜¾ç¤ºæ•´ä½“è¿›åº¦
    5.  æ”¯æŒå¤±è´¥é¡¹å•ç‹¬é‡è¯•
    6.  æ˜¾ç¤ºæ‰¹é‡ç»“æœæ±‡æ€»ï¼ˆæˆåŠŸ/å¤±è´¥/æˆåŠŸç‡ï¼‰
*   **ä»£ç ç¤ºä¾‹**:
    ```typescript
    const [batchGenerating, setBatchGenerating] = useState(false);
    const [batchProgress, setBatchProgress] = useState({ completed: 0, total: 0, current: null });

    const handleBatchGenerate = async () => {
      setBatchGenerating(true);
      try {
        const result = await window.electronAPI.batchGenerateStoryboards({
          storyboards: storyboards.filter(s => !s.imageUrl),
          maxConcurrency: 5,
          onProgress: (completed, total, current) => {
            setBatchProgress({ completed, total, current });
          }
        });

        setToast({
          type: 'success',
          message: `æ‰¹é‡ç”Ÿæˆå®Œæˆï¼š${result.successCount}/${result.total} æˆåŠŸ`
        });
      } catch (error) {
        setToast({
          type: 'error',
          message: `æ‰¹é‡ç”Ÿæˆå¤±è´¥: ${error.message}`
        });
      } finally {
        setBatchGenerating(false);
      }
    };
    ```
*   **éªŒæ”¶**: å¯æ‰¹é‡ç”Ÿæˆåˆ†é•œï¼Œè¿›åº¦å®æ—¶æ˜¾ç¤ºï¼Œå¤±è´¥é¡¹å¯é‡è¯•ï¼ŒUIå‹å¥½

### [ ] [K11] VoiceoverPanelæ‰¹é‡ç”Ÿæˆé›†æˆ ğŸŸ¡ P1
*   **æ–‡ä»¶**: `src/renderer/pages/workflows/panels/VoiceoverPanel.tsx`ï¼ˆæ‰©å±•ï¼‰
*   **å‚è€ƒ**: `docs/plan/novel-to-video-plugin-implementation-plan.md` (Phase 2)
*   **ç›®æ ‡**: æ”¯æŒæ‰¹é‡ç”Ÿæˆè§†é¢‘ç‰‡æ®µ
*   **ä»»åŠ¡å†…å®¹**:
    1.  æ·»åŠ "æ‰¹é‡ç”Ÿæˆ"æŒ‰é’®
    2.  è°ƒç”¨ TaskScheduler æ‰¹é‡å¤„ç†è§†é¢‘ç”Ÿæˆ
    3.  å®æ—¶æ˜¾ç¤ºæ‰¹é‡è¿›åº¦
    4.  ä½¿ç”¨ProgressOrbæ˜¾ç¤ºæ•´ä½“è¿›åº¦
    5.  æ”¯æŒå¤±è´¥é¡¹å•ç‹¬é‡è¯•
    6.  æ§åˆ¶å¹¶å‘æ•°ï¼ˆé¿å…APIé™æµï¼Œé»˜è®¤5ï¼‰
*   **éªŒæ”¶**: å¯æ‰¹é‡ç”Ÿæˆè§†é¢‘ï¼Œè¿›åº¦å®æ—¶æ˜¾ç¤ºï¼Œå¹¶å‘æ§åˆ¶æœ‰æ•ˆ

---

### ğŸŸ¢ é˜¶æ®µ4: AIè°ƒç”¨å°è£…å®ç°ï¼ˆP2çº§ï¼‰

### [ ] [K12] AIServiceå®ç° ğŸŸ¢ P2
*   **æ–‡ä»¶**: `src/main/services/AIService.ts`ï¼ˆæ–°å»ºï¼‰
*   **å‚è€ƒ**: `docs/plan/novel-to-video-plugin-implementation-plan.md` (Phase 3)
*   **ç›®æ ‡**: AIè°ƒç”¨å°è£…æœåŠ¡ï¼Œæ›¿æ¢Mockæ•°æ®ï¼Œæ”¯æŒåœºæ™¯è§’è‰²æå–å’ŒPromptç”Ÿæˆ
*   **ä»»åŠ¡å†…å®¹**:
    1.  å®ç° `extractScenesAndCharacters(novelText): Promise<{scenes, characters, details}>` æ–¹æ³•
    2.  å®ç° `generateCharacterPrompt(characterName, context): Promise<string>` æ–¹æ³•
    3.  å®ç° `generateScenePrompt(sceneName, context): Promise<string>` æ–¹æ³•
    4.  å®ç° `generateStoryboardPrompt(sceneDescription, characters, characterImages, sceneImage): Promise<string>` æ–¹æ³•
    5.  å®ç° `private callLLM(prompt, options): Promise<string>` æ–¹æ³•ï¼ˆè°ƒç”¨DeepSeek APIï¼‰
    6.  Promptå·¥ç¨‹ï¼šæ˜ç¡®è§’è‰²å®šä½ã€è¯¦ç»†ä»»åŠ¡è¯´æ˜ã€æ ¸å¿ƒç†è§£è§£é‡Šã€å…·ä½“è§„åˆ™ã€ç¤ºä¾‹è¾“å‡º
    7.  æ”¯æŒStructured Outputï¼ˆJSON SchemaéªŒè¯ï¼‰
    8.  é›†æˆAPIManagerè·å–API Key
    9.  é›†æˆLoggerè®°å½•AIè°ƒç”¨
*   **ä»£ç ç¤ºä¾‹**:
    ```typescript
    export class AIService {
      async extractScenesAndCharacters(novelText: string): Promise<{
        scenes: string[];
        characters: string[];
        details: Array<{ scene: string; characters: string[] }>;
      }> {
        const prompt = `
ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„å½±è§†åˆ¶ç‰‡äººå’Œèµ„æºç®¡ç†ä¸“å®¶ï¼Œæ“…é•¿åˆ†æå‰§æœ¬å¹¶è¯†åˆ«åˆ¶ä½œæ‰€éœ€çš„å…³é”®ç‰©æ–™ã€‚
ç°åœ¨ä½ éœ€è¦å°†å¯è§†åŒ–çš„å½±è§†æ–‡æœ¬è¿›è¡Œåœºæ™¯åˆ†è§£ï¼Œå¹¶è¯†åˆ«å‡ºéœ€è¦å›ºå®šå½¢è±¡çš„ç‰©æ–™ã€‚

ä½ çš„ä»»åŠ¡ç›®æ ‡ï¼š
å°†å¯è§†åŒ–æ–‡æœ¬æŒ‰"åœºæ™¯+æ—¶é—´æ®µ"çš„ç»´åº¦è¿›è¡Œç»“æ„åŒ–åˆ†è§£ï¼Œè¯†åˆ«å‡ºéœ€è¦è·¨ç« èŠ‚ä¿æŒè§†è§‰ä¸€è‡´æ€§çš„å…³é”®ç‰©æ–™ï¼ˆä¸»è¦è§’è‰²ã€åœºæ™¯ï¼‰ã€‚

è¾“å…¥æ–‡æœ¬ï¼š
${novelText}

è¾“å‡ºæ ¼å¼ï¼ˆJSONï¼‰ï¼š
{
  "data": [
    {
      "scene": "åœºæ™¯åç§°ï¼ˆå¦‚'åŠå…¬å®¤-ç™½å¤©'ï¼‰",
      "characters": ["è§’è‰²1", "è§’è‰²2"]
    }
  ]
}
`;

        const response = await this.callLLM(prompt, {
          model: 'deepseek-chat',
          responseFormat: 'json_object'
        });

        const data = JSON.parse(response);
        const scenes = [...new Set(data.data.map((item: any) => item.scene))];
        const characters = [...new Set(data.data.flatMap((item: any) => item.characters))];

        return {
          scenes,
          characters,
          details: data.data
        };
      }

      private async callLLM(prompt: string, options: {
        model: string;
        responseFormat?: 'json_object' | 'text';
        temperature?: number;
      }): Promise<string> {
        const apiKey = apiManager.getApiKey('deepseek');

        const response = await fetch('https://api.deepseek.com/v1/chat/completions', {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${apiKey}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            model: options.model,
            messages: [
              { role: 'user', content: prompt }
            ],
            temperature: options.temperature || 0.7,
            response_format: options.responseFormat === 'json_object'
              ? { type: 'json_object' }
              : undefined
          })
        });

        const data = await response.json();
        return data.choices[0].message.content;
      }
    }
    ```
*   **éªŒæ”¶**: å¯çœŸå®è°ƒç”¨DeepSeek APIï¼Œåœºæ™¯è§’è‰²æå–å‡†ç¡®ï¼ŒPromptç”Ÿæˆç¬¦åˆè¦æ±‚

### [ ] [K13] ChapterSplitPanelé›†æˆAIService ğŸŸ¢ P2
*   **æ–‡ä»¶**: `src/renderer/pages/workflows/panels/ChapterSplitPanel.tsx`ï¼ˆä¿®æ”¹ï¼‰
*   **å‚è€ƒ**: `docs/plan/novel-to-video-plugin-implementation-plan.md` (Phase 3 Week 11)
*   **ç›®æ ‡**: åˆ é™¤Mockæ•°æ®ï¼Œä½¿ç”¨çœŸå®AIServiceæå–åœºæ™¯å’Œè§’è‰²
*   **ä»»åŠ¡å†…å®¹**:
    1.  åˆ é™¤Mockç« èŠ‚ç”Ÿæˆä»£ç ï¼ˆline 93-99ï¼‰
    2.  è°ƒç”¨ `window.electronAPI.ai.extractScenesAndCharacters(novelPath)` æå–åœºæ™¯è§’è‰²
    3.  æ˜¾ç¤ºçœŸå®çš„åœºæ™¯å’Œè§’è‰²åˆ—è¡¨
    4.  é›†æˆProgressOrbæ˜¾ç¤ºAIå¤„ç†è¿›åº¦
    5.  å®ç°é”™è¯¯å¤„ç†å’ŒToastæç¤º
    6.  æ·»åŠ IPCå¤„ç†å™¨ `ai:extract-scenes-and-characters`
    7.  æ›´æ–°é¢„åŠ è½½è„šæœ¬ï¼Œæš´éœ² `window.electronAPI.ai` API
*   **éªŒæ”¶**: å¯çœŸå®æå–åœºæ™¯è§’è‰²ï¼Œæ— Mockæ•°æ®ï¼ŒUIæ˜¾ç¤ºå®é™…ç»“æœ

---
