# 修改日志规范 v1.0.0

## 版本记录

| 版本 | 日期 | 变更类型 | 变更内容 |
|------|------|----------|----------|
| 1.0.0 | 2025-12-22 | 初始版本 | 创建修改日志规范文档，包含版本号规则、变更类型分类、日志格式规范、提交信息规范、发布流程和维护策略 |

## 全局要求

**重要提醒：本文档遵循全局时间处理要求，任何涉及时间的操作必须先查询系统时间或使用MCP服务确认后方可执行。详细规范请参考 [00-global-requirements-v1.0.0.md](00-global-requirements-v1.0.0.md)**

## 版本号规则

采用语义化版本控制 (Semantic Versioning)：
- 主版本号：不兼容的API修改
- 次版本号：向下兼容的功能性新增
- 修订号：向下兼容的问题修正

示例：1.2.3

## 变更类型分类

### 新增 (Added)
- 新功能
- 新API接口
- 新配置选项
- 新文档

### 修改 (Changed)
- 现有功能改进
- API行为变更
- 配置格式变更
- 依赖库升级

### 废弃 (Deprecated)
- 即将移除的功能
- 即将变更的API
- 即将废弃的配置

### 移除 (Removed)
- 已废弃功能移除
- API接口移除
- 配置选项移除

### 修复 (Fixed)
- Bug修复
- 性能问题修复
- 安全问题修复

### 安全 (Security)
- 安全漏洞修复
- 安全机制增强
- 依赖安全更新

## 日志格式规范

### 标准格式
```
## [版本号] - 发布日期 (YYYY-MM-DD)

### 变更类型
- 简洁描述变更内容 (关联问题编号)
- 详细说明变更影响和原因
- 如有API变更，提供迁移指南

### 另一变更类型
- 变更描述

### 破坏性变更
- 详细说明破坏性变更内容
- 提供迁移方案
- 影响范围说明
```

### 示例
```
## [1.2.0] - 2023-12-01

### Added
- 新增ComfyUI工作流适配器 (#123)
- 支持批量物料导入功能 (#125)
- 添加工作流模板市场 (#127)

### Changed
- 优化文件系统管理器性能 (#120)
- 更新React到18.2.0版本 (#122)

### Deprecated
- 旧版工作流配置格式将在2.0.0中移除 (#126)

### Fixed
- 修复大文件上传内存泄漏问题 (#118)
- 解决Windows路径处理bug (#119)

### Security
- 修复API密钥存储安全漏洞 (#124)
```

## 提交信息规范

### 格式要求
```
<类型>(<范围>): <描述>

[可选的正文]

[可选的脚注]
```

### 类型说明
- feat: 新功能
- fix: 修复bug
- docs: 文档更新
- style: 代码格式调整
- refactor: 代码重构
- test: 测试相关
- chore: 构建过程或辅助工具的变动

### 示例
```
feat(workflow): 添加ComfyUI适配器

实现了ComfyUI API的完整适配，支持工作流执行和状态监控

Closes #123
```

## 发布流程

### 发布前检查
- 版本号符合语义化规范
- 变更日志完整准确
- 所有测试通过
- 文档同步更新

### 发布步骤
1. 更新版本号
2. 更新变更日志
3. 创建发布标签
4. 构建发布包
5. 发布到各平台

### 紧急发布
对于严重安全bug或关键问题修复：
- 使用修订号递增
- 简化变更日志
- 快速发布流程

## 维护策略

### 版本支持
- 当前主版本：完全支持
- 前一主版本：关键修复支持
- 更早版本：停止支持

### 向后兼容
- API变更必须提供迁移期
- 配置格式变更保持兼容
- 数据格式升级自动转换

### 安全更新
- 安全漏洞及时修复
- 安全补丁支持所有维护版本
- 严重漏洞发布独立安全更新